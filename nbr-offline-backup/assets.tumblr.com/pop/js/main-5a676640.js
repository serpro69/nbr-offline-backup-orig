(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[179],{33264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={blogRowFollowButton:"kk3cQ"}},21026:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={mainContent:"MGngl",form:"Fygd5",exploreBtn:"Z_jN4",downloadLinks:"Qo15M",button:"bS3ge",loginWall:"xOjwI"}},43099:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={masonry:"hyiL2",column:"USr9U"}},21912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={meatballMenu:"iaJAj",meatballItemReset:"J_sXg",meatballItem:"X1uIE",red:"XLZRW",thin:"XOf8k",success:"tVEfy",failure:"ft9Xv",timestamp:"qYCWv",timestampDate:"cwYO_",reblog:"FHOOB",spaceRest:"NYkGQ",expand:"nEx1U",adminLabel:"dwUY6",loader:"YptlC"}},74708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={reorderButton:"_WHTS"}},93678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={listTimelineObject:"So6RQ",listTimelineObjectInner:"ge_yK",paywallTimelineObject:"hbJOQ",expandedGridObjectContainer:"gODLh",postInGrid:"rCRIW",gridTimelineObject:"tCZnl",expandedCover:"ojpYJ",expandedCoverIsExpanded:"aRqkN",gridObjectExpandCover:"Yxz86",gridObjectExpandCoverInner:"ju4hw",impressionLoggingWrapper:"c79Av",hiddenObserver:"qj1WD",hiddenObserverMiddlePoint:"XJ0js",animateOut:"jYrjr",slideLeft:"EAhje",masonryTimelineObject:"i4aRn",sortDragDropTarget:"RFqS2",merginObject:"osIkK"}},41289:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={textBlock:"k31gt",chat:"shBP8",quirky:"G6Sn4",blockSelector:"VKSy1",quote:"iQED4",shortQuote:"fUFKs",mediumQuote:"_pqXP",longQuote:"EeDpE",veryLongQuote:"Oxcng",indented:"ljmFj",textBlockMicro:"Ppo91",bigEmoji:"jj46W",mention:"SLpX8"}},66758:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={ctaSectionContainer:"Coux_",displayUrl:"jW0YX"}},60385:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a={timeline:"j8ha0",isSorting:"avWLs",masonry:"qr36f",gridded:"RlWaM",loader:"IKfVk",noContent:"cRPdZ",masonryEmptyView:"GWJvH",manualPaginatorButtonsGrid:"Tj4be",restoreTimelineText:"rqHFc"}},18485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(43893),o=n.n(a),r=n(16951),s=n.n(r),i=(e,t)=>{if(!t)return e;var n=e.indexOf("?")>=0?"&":"?";return"".concat(e).concat(n).concat(t)},l=e=>{var t=[];if(!e)return"";if(!s()(e))return"";for(var n=0,a=Object.entries(e);n<a.length;n++){var r=o()(a[n],2),i=r[0],l=r[1];if(i&&void 0!==l){var d=c(l);if(d)t.push([encodeURIComponent(i),encodeURIComponent(d)]);else if(s()(l))for(var u=0,p=Object.entries(l);u<p.length;u++){var m=o()(p[u],2),h=m[0],g=m[1];if(h&&void 0!==g){var v=c(g);if(null!==v){var b="".concat(encodeURIComponent(i),"[").concat(encodeURIComponent(h),"]");t.push([b,encodeURIComponent(v)])}}}}}return t.map((e=>{var t=o()(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)})).join("&")},c=e=>{if(null===e)return"null";switch(typeof e){case"boolean":case"number":case"string":return"".concat(e);default:return null}};const d=(e,t)=>i(e,l(t))},74328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var a=n(86057),o=n.n(a),r=n(85313),s=n.n(r),i=n(63554),l=n.n(i),c=n(19737),d=n.n(c),u=n(44716),p=n.n(u),m=n(57109),h=n.n(m),g=n(15228),v=n.n(g),b=n(38426),f=n(89393);class E extends f.Z{constructor(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.navigator.onLine;super("NetworkError when attempting to fetch resource ".concat((null==t?void 0:t.method)||"GET"," ").concat(e,". Client was ").concat(a?"online":"offline"," when it happened.")),this.url=e,this.fetchOptions=t,this.fetchError=n,this.wasOnline=a}}var C=n(55989),y=n(18485),w=n(19228),k="redpop",P="redpop",S="internal";function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deviceType,n=void 0===t?k:t,a=e.appVersion,o=void 0===a?"3":a,r=e.appBuildNumber,s=void 0===r?0:r,i=e.deviceOSVersion,l=void 0===i?"":i,c=e.appName,d=void 0===c?"production"===w.Z.Production?P:S:c,u=e.appBuildType,p=void 0===u?"":u,m=[n,o,s,l,d,p];return m.join("/")}var x=["baseUrl","queryParams"],N=v()("redpop:api-fetch:request"),I=v()("redpop:api-fetch:response"),R=e=>p()(["POST","PUT","PATCH","DELETE"],e);function M(e){var t=(0,C.B)(),n=e.store,a=e.httpAgent,o=e.httpsAgent,r=e.baseUrl,i=e.extraHeaders,c=e.extraQueryParams,u=e.responseInfoHandler,p=e.firstChanceErrorHandler,m=e.fetchFunction,g={baseUrl:r,method:"GET",credentials:"include",headers:s()({Authorization:"Bearer ".concat(n.API_TOKEN),Accept:"application/json;format=camelcase","X-Ad-Blocker-Enabled":t&&"true"===sessionStorage.getItem("tumblrAdBlockerEnabled")?1:0,"X-Version":T()},JSON.parse(n.extraHeaders||"{}")),queryParams:{}};function v(e){I("%s: %s",e.status,e.url);var t=e.headers.get("X-CSRF");t&&(I("New CSRF token: %s",t),n.csrfToken=t);var a,o=!!(a=e.headers.get("content-type"))&&(-1!==a.indexOf("application/javascript")||-1!==a.indexOf("application/json"));if(!e.ok){if(o)return e.json().then((t=>{throw new b.Z(e.status,e.statusText,e.url,e,t.errors,t)}));throw new b.Z(e.status,e.statusText,e.url,e)}return o?e.json().then((t=>s()(s()({},t),{},{response:s()(s()({},t.response),{},{__headers__:e.headers})}))):Promise.resolve({})}return i&&Object.assign(g.headers,i),c&&Object.assign(g.queryParams,c),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h()(s()({},t),g);if(r.body){var i=r.headers["Content-Type"];"multipart/form-data"!==i&&("object"==typeof r.body&&(r.body=l()(r.body,d())),r.body=JSON.stringify(r.body)),"multipart/form-data"===i?delete r.headers["Content-Type"]:i||(r.headers["Content-Type"]="application/json; charset=utf8")}n.csrfToken&&R(r.method)&&(r.headers["X-CSRF"]=n.csrfToken);var c=(0,y.Z)(e,l()(r.queryParams,d())),b=Date.now(),f="".concat(r.baseUrl).concat(c);(a||o)&&(f.startsWith("https:")?r.agent=o:f.startsWith("http:")&&(r.agent=a)),N("%s %s",r.method,f);var C=A(r),w=m(f,C).then((t=>(null==u||u(e,{latencyMs:Date.now()-b}),t))).catch((e=>{throw new E(f,C,e)})).then(v);return p&&(w=w.catch(p)),w}}var A=e=>{e.baseUrl,e.queryParams;return o()(e,x)}},9169:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var a,o,r,s=n(85313),i=n.n(s),l=n(60841),c=n(73854),d=i()(i()({},Object.fromEntries(Object.values(l.T).map((e=>[e,!1])))),(0,c.p)(null!==(a=null===(o=window)||void 0===o||null===(r=o.___INITIAL_STATE___)||void 0===r?void 0:r.obfuscatedFeatures)&&void 0!==a?a:(0,c.H)({})))},18916:(e,t,n)=>{"use strict";var a=n(85313),o=n.n(a),r=n(27884),s=n.n(r),i=n(19737),l=n.n(i),c=n(6632),d=n.n(c),u=n(19195),p=n.n(u);n(3119),n(42985),n(27511),n(90266),n(54573),n(14850),n(4978),n(61919),n(29085),n(57729),n(81578),n(91853),n(67218),n(26941),n(75216),n(79161),n(32996),n(38712),n(64770),n(51689);window.requestIdleCallback||(window.requestIdleCallback=e=>window.setTimeout((()=>{var t=Date.now();e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1),window.cancelIdleCallback=e=>window.clearTimeout(e));var m=n(56629),h=n(31962),g=n(83803),v=n(95004),b=n(79153),f=n(51641),E=n(26537),C=n.n(E),y=n(74328),w=n(78315),k=n(21392),P=n(95132),S=n(4569),T=n(46665),x=n(10301),N=n(19228),I=n(5868),R=n(84698),M=n(40474),A=n(19059),B=n(66543),Z=n.n(B),L=n(21308),O=n(44093),D=n(82951);const F=e=>{var t="string"==typeof e?parseInt(e,10):e,n="".concat(t),a=n[n.length-1];return t<1?"":[11,12,13].includes(t)?"th":"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th"};var _=n(36078);function H(e,t){var n=t.getTime()-e.getTime();return n<O.g.Second?{unit:"millisecond",count:n}:n<O.g.Minute?{unit:"second",count:Math.floor(n/O.g.Second)}:n<O.g.Hour?{unit:"minute",count:Math.floor(n/O.g.Minute)}:n<O.g.Day?{unit:"hour",count:Math.floor(n/O.g.Hour)}:n<O.g.Month?{unit:"day",count:Math.floor(n/O.g.Day)}:n<O.g.Year?{unit:"month",count:Math.floor(n/O.g.Month)}:{unit:"year",count:Math.floor(n/O.g.Year)}}var U=n(41618),z=n(63240),V=n.n(z),W=n(92969),G=n.n(W),q=n(4622),j=n.n(q),K=n(40946),Q=[/chrome-extension:\/\//],J=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,"fiber is undefined","Cannot read properties of undefined (reading 'memoizedProps')","evaluating 'link.","evaluating 'document.getElementsByTagName","ResizeObserver loop limit exceeded","Tumblr is not defined","Cannot read property 'KeyCommands' of undefined","vid_mate_check is not defined","'tumblr_controls'","Can't find variable: ResizeObserver","Non-Error promise rejection captured"];class Y{constructor(e,t){G()(this,"scheduleReport",(()=>{if(clearTimeout(this.timeoutId),window.navigator.onLine){var e=-1===this.timeoutId?2e4:6e4;this.timeoutId=window.setTimeout(this.sendErrors,e)}else window.addEventListener("online",this.sendErrors,{once:!0})})),G()(this,"sendErrors",(()=>{if(0===this.ticks.length||!window.navigator.onLine)return this.scheduleReport(),null;var e=this.getErrorsToReport(),t=e.body,n=e.ticksToSend;return this.ticks=this.ticks.slice(n.length),fetch("".concat(this.host?"//".concat(this.host):"","/svc/pop/exceptions"),{body:t,method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json().then((t=>{if(t.token)return this.token=t.token,200!==e.status&&t.token?(this.ticks=n.concat(this.ticks),this.sendErrors()):void 0})))).catch((e=>{"production"===P.Z.Development&&console.error("Error reporting errors",e)})).finally((()=>{this.scheduleReport()}))})),this.host=e.host,this.token=e.token,this.url=location.href,this.ticks=[],this.routeSet=t,this.timeoutId=-1,this.scheduleReport(),window.addEventListener("beforeunload",this.sendErrors)}reportError(e){if(!(a=(t=e).message||(null===(n=t.error)||void 0===n?void 0:n.message))||!J.some((e=>e instanceof RegExp?null!==a.match(e):a.includes(e)))){var t,n,a,o=e.error,r=e.message,s=o||{},i=s.name,l=void 0===i?null:i,c=s.stack,d=void 0===c?null:c,u=s.message,p=void 0===u?null:u;this.createTickFromError(l,r||p,d)}}reportUnhandledException(e){var t=e.reason||{},n=t.message,a=void 0===n?null:n,o=t.name,r=void 0===o?null:o,s=t.stack,i=void 0===s?null:s;this.createTickFromError(r,a,i)}unload(){clearTimeout(this.timeoutId),window.removeEventListener("beforeunload",this.sendErrors),window.removeEventListener("online",this.sendErrors)}getErrorsToReport(){var e,t,n=this.ticks.length;do{t=this.ticks.slice(0,n);var a=JSON.stringify({token:this.token,url:this.url,ticks:t});e=new Blob([a],{type:"application/json"}),n=Math.ceil(t.length/2)}while(e.size>1e5&&n>1);return{body:e,ticksToSend:t}}createTickFromError(e,t,n){var a=this.routeSet?(0,K.Hp)(window.location.pathname,this.routeSet):"unknown",o=this.getStackAsString(n),r={route:a,name:e,message:t,stack:o,timestamp:Date.now(),isExtension:this.checkStackForExtension(o)};this.ticks.push(r),this.ticks.length>=100&&(this.ticks=this.ticks.slice(-100))}getStackAsString(e){return j()(e)?"":"string"==typeof e?e:JSON.stringify(e)}checkStackForExtension(e){if(!e)return!1;var t,n=V()(Q);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.match(a))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}}var X=n(85184),$=n.n(X),ee=n(86103),te=n.n(ee),ne=n(37331),ae=n.n(ne);class oe{constructor(e,t){G()(this,"INITIATOR_TYPE_COUNTS",{img:10,link:10,script:10,css:10}),this.host=e.host,this.token=e.token,this.route=t}getTimingMetrics(){return window.performance.timing||void 0}getConnectionInfo(){var e=window.navigator.connection;return e?ae()(e,"downlink","effectiveType","rtt"):void 0}getPaintMetrics(){return window.performance.getEntriesByType("paint")}getResourceMetrics(){var e=window.performance.getEntriesByType("resource"),t=te()(e,"initiatorType");return Object.keys(this.INITIATOR_TYPE_COUNTS).reduce(((e,n)=>{var a=this.INITIATOR_TYPE_COUNTS[n];return e.push.apply(e,$()(t[n]||[],a)),e}),[])}getFrameMetrics(e,t,n){return{framesDroppedCount:e.framesDroppedCount,frameDropEventsCount:e.frameDropEventsCount,eventName:t,scrollNumber:n}}sendLoadMetrics(){return this.sendMetrics({timing:this.getTimingMetrics(),connection:this.getConnectionInfo(),paint:this.getPaintMetrics()})}sendResourceMetrics(){var e=this.getResourceMetrics();return e.length>0?this.sendMetrics({resources:e}):null}sendFrameMetrics(e,t,n){var a=this.getFrameMetrics(e,t,n);return this.sendMetrics({frame:a})}sendLongTaskMetrics(e){return this.sendMetrics({longtasks:e})}sendCLSMetrics(e,t){return this.sendMetrics({cls:t},e)}sendMetrics(e,t){var n=this;return void 0===this.token?Promise.reject("bad token"):fetch("".concat(this.host?"//".concat(this.host):"","/svc/pop/performance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,token:this.token,route:null!=t?t:this.route})}).then(function(){var e=s()(p().mark((function e(t){var a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.status&&200!==t.status){e.next=12;break}return e.prev=1,e.next=4,t.json();case 4:null!=(a=e.sent)&&a.token&&(n.token=a.token),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:e.next=13;break;case 12:403===t.status&&(n.token=void 0);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()).catch((e=>{"production"===P.Z.Development&&console.error("Error reporting performance metrics",e)}))}}G()(oe,"SAMPLE_RATE",.1);var re=n(9169),se=n(5775),ie=n.n(se),le=n(17304);var ce=n(43893),de=n.n(ce),ue=n(4777),pe=()=>{var e=new Date;return e.setFullYear(e.getFullYear()+1),{expires:e,path:"/",secure:!1,domain:""}};const me={getCookie:e=>{var t=decodeURIComponent(document.cookie).match(new RegExp("(^|;\\s*)".concat(e,"=([^;]+)")));return t&&t.length>2?t[2]:""},setCookie:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o()(o()({},pe()),n),r="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";");a.maxAge&&(r+="max-age=".concat(a.maxAge,";")),a.expires&&(r+="expires=".concat(a.expires.toUTCString(),";")),a.path&&(r+="path=".concat(encodeURI(a.path),";")),a.domain&&(r+="domain=".concat(encodeURI(a.domain),";")),a.secure&&(r+="secure;"),document.cookie=r}};var he=n(11600),ge=n.n(he),ve=n(23847),be=n(26255),fe=n(37937);class Ee extends v.Component{constructor(){super(...arguments),G()(this,"state",{metadataIDs:[],addClientMetadata:()=>{var e=(0,be.Z)();return this.setState((t=>({metadataIDs:[...t.metadataIDs,e]}))),e},shouldRenderMetadata:e=>ge()(this.state.metadataIDs)===e,removeClientMetadata:e=>{this.setState((t=>({metadataIDs:t.metadataIDs.filter((t=>t!==e))})))},clearServerMetadata:()=>{var e=this.props.headTags||[];e.splice(0,e.length)}})}render(){return v.createElement(ve.B6,{headTags:this.props.headTags},v.createElement(fe.Z.Provider,{value:this.state},this.props.children))}}var Ce=n(51742),ye=n(62513),we=n.n(ye),ke=n(55989);const Pe="Ty83o";const Se=()=>{var e=v.useRef(null);return v.useEffect((()=>{(0,ke.B)()&&sessionStorage.setItem("tumblrAdBlockerEnabled",e.current.getBoundingClientRect().height<1?"true":"false")}),[]),v.createElement("div",{ref:e,style:{backgroundColor:we().paletteNavy}},v.createElement("div",{className:(0,Ce.Z)({[Pe]:!0,adsbygoogle:!0}),id:"adBanner"}))};var Te=n(18485),xe=n(96604),Ne=n(2540);class Ie extends v.Component{componentDidMount(){this.fetchSyncUrls()}fetchSyncUrls(){var e=this,t=this.props.hashedUserId,n={id:t};return"production"===P.Z.Development&&this.outputDebugLog(n),t?fetch((0,Te.Z)("https://tspmagic.tumblr.com/sync_init",n),{credentials:"include"}).then((e=>e.json())).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sync_urls:[]},n=e.props.appContext.logEvent;n({eventName:xe.f_.IponWebSyncInit}),(t.sync_urls||[]).forEach((t=>e.syncWithUrl(t)))})):null}render(){return null}syncWithUrl(e){return fetch(e,{mode:"no-cors",credentials:"include"}).catch((()=>null))}outputDebugLog(e){console.groupCollapsed("Ads Logging"),console.table(e),console.groupEnd()}}const Re=(0,Ne.HJ)(Ie);var Me;!function(e){e[e.Main=0]="Main",e[e.BlogNetwork=3]="BlogNetwork"}(Me||(Me={}));const Ae=Me;var Be={v:"tumblr"};class Ze extends v.Component{constructor(){super(...arguments),G()(this,"logEvent",(()=>{var e=this.getQueryParams();return"production"===P.Z.Development&&this.outputDebugLog(e),this.createPixel(e)}))}componentDidMount(){this.logEvent(),this.props.history.listen(this.logEvent)}render(){return null}outputDebugLog(e){console.groupCollapsed("Automattic Logging"),console.table(e),console.groupEnd()}createPixel(e){var t=new Image(1,1);return t.src=this.getPixelUrl(e),t}getPixelUrl(e){return(0,Te.Z)("https://pixel.wp.com/g.gif",e)}getQueryParams(){var e=this.props.hashedUserId,t=o()(o()({},Be),{},{rand:this.getRandParam(),tid:this.getTidParam(),_ts:this.getTsParam(),ref:this.getRefParam()});return e?o()(o()({},t),{},{user_id:e}):t}getRefParam(){return window.location.href}getRandParam(){return Math.round(1e7*Math.random())}getTsParam(){return Date.now()}getTidParam(){return this.props.routeSet===x.Z.BlogNetwork?Ae.BlogNetwork:Ae.Main}}const Le=(0,ue.EN)(Ze);var Oe=n(16755),De=n(76186);const Fe=e=>{var t=e.children,n=(0,v.useRef)({glassContainerRef:null});return v.createElement(De.Km.Provider,{value:n.current},t,v.createElement("div",{id:"glass-container",ref:e=>n.current.glassContainerRef=e}))};const _e=e=>{var t=e.children,n=(0,v.useState)(0),a=de()(n,2),o=a[0],r=a[1],s=()=>r((e=>e+1)),i=()=>r((e=>e-1));return v.createElement(De.wp.Provider,{value:(0,v.useMemo)((()=>({numGlassOpen:o,onGlassOpen:s,onGlassClose:i})),[o])},t)};var He=n(24988),Ue=n(85787),ze=n(22123),Ve=n(8371),We=n(56381),Ge=n(76097),qe=n(26688);const je="hBHAJ",Ke="WAHT_",Qe="NsUuT",Je="jGp1C",Ye="Pkihj",Xe="zydJo",$e="tzb9e",et="PVFsw",tt="fRa3x";var nt=n(21026),at={[Ue.d0]:Xe,[Ue.cn]:$e,[Ue.Ix]:et,[Ue.Wj]:tt};const ot=e=>{var t=e.title,n=e.text,a=e.onLoginSuccess,o=e.onRegisterSuccess,r=(0,qe.h)().closeLoginWall,s=(0,v.useState)(!0),i=de()(s,2),l=i[0],c=i[1],d=(0,v.useState)(Ge.c.LoginOrRegister),u=de()(d,2),p=u[0],m=u[1],h=(e,t)=>{e.preventDefault(),m(t)};return v.createElement(ze.Z,{onGlassClick:()=>c(!1)},v.createElement(He.ZP,{disable:He.z9},v.createElement(Ue.ZP,{in:l,appear:!0,timeout:600,onExited:r},(e=>v.createElement("div",{className:(0,Ce.Z)([je,at[e]])},v.createElement("div",{className:Ke},p===Ge.c.LoginOrRegister?v.createElement(v.Fragment,null,v.createElement("h2",{className:Je},t),v.createElement("p",{className:Ye},n)):v.createElement("div",{className:Qe},v.createElement(Ve.Z,null)),v.createElement(We.Z,{formToShow:p,loginClickCallback:e=>h(e,Ge.c.Login),onLoginSuccess:a,onRegisterSuccess:o,showFooterLink:!1,signupClickCallback:e=>h(e,Ge.c.Register),wrapperClass:nt.Z.loginWall})))))))};var rt=n(2978),st=n(64653);const it=e=>{var t=e.children,n=(0,Ne.bp)(),a=n._c,r=n.logEvent,s=n.apiFetch,i=(0,v.useState)(!1),l=de()(i,2),c=l[0],d=l[1],u=(0,v.useState)({text:a("Text shown above a login prompt","We know you were really enjoying yourself, but we're going to need a little more info."),title:a("An alert stating that the user can go no further unless they login or register","Whooaaa there 🐴"),onLoginSuccess:void 0,onRegisterSuccess:void 0}),p=de()(u,2),m=p[0],h=p[1],g={openLoginWall:e=>{r({eventName:rt.JE.LoginWallOpen}),e&&(e=>{h(o()(o()({},m),e))})(e),d(!0)},closeLoginWall:()=>d(!1),fetchLoginMode:e=>{var t=e.email,n=e.onFulfilled,a=e.onRejected;return(0,st.m7)(s,{email:t}).fetch().then(n).catch(a)},logIn:e=>{var t=e.email,n=e.password,a=e.tfaToken,o=e.captchaToken,r=e.onFulfilled,i=e.onRejected;return(0,st.Ib)(s,{password:n,tfaToken:a,captchaToken:o,email:t}).fetch().then(r).catch(i)}};return v.createElement(qe.v.Provider,{value:g},t,c&&v.createElement(ot,m))};var lt=n(91377),ct=n.n(lt),dt=n(17908),ut=n.n(dt),pt=n(44716),mt=n.n(pt),ht=n(25834),gt=n(8170),vt=n(40310),bt=n(75226),ft=n(11683),Et=n(90553),Ct=n(24916),yt=n(17170),wt=n(70970),kt=n(52246),Pt=n(54016);function St(e){var t=0,n=Object.keys(e).reduce(((n,a)=>{var r=e[a],s=r?Object.keys(r).reduce(((e,t)=>e+r[t]),0):0;return t+=s,o()(o()({},n),{},{[a]:s})}),{});return{unreadMessagesCount:t,unreadMessagesByBlog:n,unreadMessagesByBlogAndConversationId:e}}var Tt,xt=n(29252),Nt=n(94966),It=n.n(Nt),Rt=n(36643),Mt=n(32412),At="messaging";!function(e){e.MINIMIZED="minimized",e.OPEN="open"}(Tt||(Tt={}));class Bt{constructor(e){G()(this,"conversationWindows",[]),G()(this,"minimizedConversations",[]),G()(this,"getConversationsFromLocalStorage",(()=>{if(!localStorage)return{conversationWindows:[],minimizedConversations:[]};var e=localStorage.getItem(this.getLocalStorageKey(Tt.OPEN));this.conversationWindows="string"==typeof e?JSON.parse(e):[];var t=localStorage.getItem(this.getLocalStorageKey(Tt.MINIMIZED));return this.minimizedConversations="string"==typeof t?function(e){for(var t=e.length;t>=0;t-=1){var n=e[t];if(n)for(var a=t-1;a>=0;a-=1){if(Zt(n,e[a])){if(-1!==n.participantUuid.indexOf(Rt.oM)){e.splice(t,1);break}e.splice(a,1)}}}return e}(JSON.parse(t)):[],{conversationWindows:this.conversationWindows.map((e=>o()(o()({},Ft(e)),{},{action:bt.dI.OPENED}))),minimizedConversations:this.minimizedConversations.map(Ft)}})),G()(this,"getLocalStorageKey",(e=>[At,this.user.name,e].join(":"))),this.user=e}updateConversationState(e,t){if(localStorage){switch(t){case bt.dI.OPENED:var n=function(e){var t=e.participants.filter((t=>t.name===e.selectedBlogName))[0];if(!e.id||!t.uuid)return;return{id:e.id,lastOpenedDateTs:e.lastOpenedDateTs,participantUuid:t.uuid,participants:e.participants.map((e=>({uuid:e.uuid,url:e.url,name:e.name,avatar_url:e.avatar?e.avatar[0].url:"",theme:(0,Mt.v)(e.theme)})))}}(e);if(!n)break;var a=this.conversationWindows.find((e=>Zt(e,n)));if(a){if(a.id)return;this.conversationWindows=this.conversationWindows.filter((e=>!Zt(e,a)))}this.conversationWindows.push(n);break;case bt.dI.CLOSED:this.conversationWindows=this.conversationWindows.filter((t=>!Ot(e,t)));break;case bt.dI.MAXIMIZED:this.minimizedConversations=this.minimizedConversations.filter((t=>!Ot(e,t)));break;case bt.dI.MINIMIZED:var r=e,s=this.conversationWindows.find((e=>Ot(r,e))),i=!!s&&o()(o()({},s),r.conversationId?{id:r.conversationId}:{});if(!i||this.minimizedConversations.some((e=>Zt(i,e))))return;this.conversationWindows=this.conversationWindows.filter((e=>!Zt(i,e))),this.minimizedConversations.push(i)}this.setConversationsIntoLocalStorage()}}setConversationsIntoLocalStorage(){var e=this.getLocalStorageKey(Tt.OPEN),t=this.getLocalStorageKey(Tt.MINIMIZED);this.conversationWindows.length?localStorage.setItem(e,JSON.stringify(this.conversationWindows)):localStorage.removeItem(e),this.minimizedConversations.length?localStorage.setItem(t,JSON.stringify(this.minimizedConversations)):localStorage.removeItem(t)}}function Zt(e,t){return a=t,o=(n=e).participantUuid,r=n.participants,s=a.participantUuid,i=a.participants,(o===s||Lt(o,r)===Lt(s,i))&&(e.id&&e.id===t.id||(!e.id||!t.id)&&function(e,t){var n,a=V()(e);try{for(a.s();!(n=a.n()).done;){var o,r=n.value,s=!1,i=V()(t);try{for(i.s();!(o=i.n()).done;){var l=o.value;r.uuid!==l.uuid&&r.name!==l.name||(s=!0)}}catch(e){i.e(e)}finally{i.f()}if(!s)return!1}}catch(e){a.e(e)}finally{a.f()}return!0}(e.participants,t.participants));var n,a,o,r,s,i}function Lt(e,t){var n=t.filter((t=>Dt(e,t)))[0];return n&&"".concat(n.name).concat(Rt.oM)}function Ot(e,t){var n,a;return t.participants.map((t=>{t.name===e.selectedBlogName?n=t:a=t.name})),!!n&&!!a&&Dt(t.participantUuid,n)&&(0,Ct.Fc)(e,{otherParticipantName:a,selectedBlogName:n.name,conversationId:t.id})}function Dt(e,t){return mt()([t.uuid,"".concat(t.name).concat(Rt.oM)],e)}function Ft(e){var t,n,a={conversationId:e.id,lastOpenedDateTs:e.lastOpenedDateTs,selectedBlogName:"",otherParticipantName:"",avatar:[]};return e.participants.map((o=>{o.uuid===e.participantUuid?(t=o,a.selectedBlogName=t.name):(n=o,a.otherParticipantName=n.name,a.avatar=[{url:n.avatar_url,height:Nt.minimizedConversationSizePx,width:Nt.minimizedConversationSizePx}])})),a}var _t=n(81059),Ht=n(92003),Ut=n(51616),zt=n(68711);const Vt="oIoxN",Wt="JhOLN",Gt="oyQOd";class qt extends v.Component{constructor(){super(...arguments),G()(this,"state",{isHidden:!0}),G()(this,"checkVisibility",(e=>{var t=e.distanceFromTop<2e3;this.state.isHidden!==t&&this.setState({isHidden:t})})),G()(this,"scrollToTop",(()=>window.scroll({top:0,behavior:"smooth"})))}componentDidMount(){zt.ZP.on("scroll",this.checkVisibility)}componentWillUnmount(){zt.ZP.off("scroll",this.checkVisibility)}render(){var e=this.props.appContext._c,t=this.state.isHidden,n=this.props.isHiddenOverride,a=(0,Ce.Z)({[Wt]:!0,[Gt]:n||t});return v.createElement(Ut.Z,null,v.createElement("div",{className:Vt},v.createElement(_t.Z,{wrapperClassName:a,label:e("Label for a button","Scroll to top"),onClick:this.scrollToTop},v.createElement(Ht.I,null))))}}const jt=(0,Ne.HJ)(qt);var Kt=n(67859),Qt=n(99386);const Jt=(0,n(30531).Z)((()=>n.e(7203).then(n.bind(n,36673))),"AsyncMinimizedConversationWindow"),Yt="cwvO0",Xt="HzhUu",$t="QZ6XZ",en="HWH8P",tn="ogC81",nn="j17Mp",an="RHTsA",on="rMTei",rn="secQ1",sn="fYQFx",ln="Nz43S",cn="aiKUG",dn="Gdf0h",un="a0z97";var pn;!function(e){e[e.MINIMIZED=0]="MINIMIZED",e[e.OPEN=1]="OPEN"}(pn||(pn={}));class mn extends v.Component{constructor(){super(...arguments),G()(this,"renderLowerRightButtons",(()=>!this.props.appContext.endlessScrollingDisabled&&v.createElement("div",{className:en},v.createElement(jt,{isHiddenOverride:this.props.isReparented})))),G()(this,"getConversationsToRender",(()=>{var e=this.props;return[...e.conversationsLeavingOpenState,...e.conversationWindows]})),G()(this,"getMinimizedConversationsToRender",(()=>{var e=this.props;return[...e.conversationsLeavingMinimizedState,...e.minimizedConversations]})),G()(this,"shouldAccomodateMinimizedConversationsInDisplay",(()=>!!this.getMinimizedConversationsToRender().filter((e=>!(0,Ct.hZ)(e,this.props.conversationsLeavingMinimizedState))).length)),G()(this,"renderOpenConversation",(e=>{var t=this.props.conversationsLeavingOpenState,n=(0,Ct.hZ)(e,t),a=n&&e.action===bt.dI.MINIMIZED,o=n&&!a;return v.createElement(Ue.ZP,{key:hn(e,pn.OPEN),in:!a&&!o,timeout:{enter:0,exit:a?Kt.minimizeConversationTransitionDurationInMs:Kt.conversationTransitionDurationInMs},appear:!0,exit:!0,onExited:this.getOnConversationFinishedTransitionOut(e)},this.getRenderOpenConversationFromTransitionStatus(e))})),G()(this,"getRenderOpenConversationFromTransitionStatus",(e=>t=>{var n=mt()([Ue.d0,Ue.Ix,Ue.Wj],t),a=mt()([bt.dI.MINIMIZED,bt.dI.MAXIMIZED],e.action);return v.createElement("div",{className:(0,Ce.Z)({[nn]:!0,[sn]:!a&&!n,[on]:!a&&n,[ln]:a&&!n,[rn]:a&&n})},v.createElement(Qt.Z,{conversationWindowObject:e}))})),G()(this,"renderMinimizedConversations",(e=>{var t,n=[],a=!!this.props.conversationsLeavingOpenState.filter((e=>e.action===bt.dI.MINIMIZED)).length,o=0,r=V()(e);try{for(r.s();!(t=r.n()).done;){var s=t.value,i=this.isMinimizedConversationTransitioningOut(s);n.unshift(this.renderMinimizedConversation(s,Math.max(o-(i&&a?1:0),0))),o+=i?0:1}}catch(e){r.e(e)}finally{r.f()}return!!n.length&&v.createElement("div",{className:dn},n)})),G()(this,"renderMinimizedConversation",((e,t)=>v.createElement(Ue.ZP,{key:hn(e,pn.MINIMIZED),in:!this.isMinimizedConversationTransitioningOut(e),appear:!0,exit:!0,timeout:{enter:0,exit:Kt.minimizeConversationTransitionDurationInMs},onExited:this.getOnConversationFinishedTransitionOut(o()({},e))},this.getRenderMinimizedConversationFromTransitionStatus(e,t)))),G()(this,"getRenderMinimizedConversationFromTransitionStatus",((e,t)=>n=>v.createElement("div",{className:(0,Ce.Z)({[cn]:!0,[un]:mt()([Ue.d0,Ue.Ix,Ue.Wj],n)}),style:{bottom:"".concat(Nt.lowerRightContentEdgeMarginPx+t*(Nt.minimizedConversationSizePx+2*Nt.lowerRightContentObjectMarginPx),"px")}},v.createElement(Jt,{conversationWindowObject:e})))),G()(this,"getOnConversationFinishedTransitionOut",(e=>()=>this.props.onConversationCompletedAction(e))),G()(this,"isMinimizedConversationTransitioningOut",(e=>(0,Ct.hZ)(e,this.props.conversationsLeavingMinimizedState)))}render(){var e=this.props,t=e.isReparented,n=e.forwardedRef,a=e.appContext.isPeeprShowing,o=this.getConversationsToRender(),r=this.getMinimizedConversationsToRender().sort(gn);return v.createElement("div",{ref:n,className:(0,Ce.Z)({[Yt]:!0,[an]:a,[Xt]:t,[$t]:!!o.length,[tn]:this.shouldAccomodateMinimizedConversationsInDisplay()})},this.renderLowerRightButtons(),this.renderMinimizedConversations(r),o.map(this.renderOpenConversation))}}var hn=(e,t)=>"".concat(e.selectedBlogName,"-").concat(e.otherParticipantName,"-").concat(t),gn=(e,t)=>e.lastOpenedDateTs===t.lastOpenedDateTs?0:void 0===e.lastOpenedDateTs||void 0!==t.lastOpenedDateTs&&e.lastOpenedDateTs<t.lastOpenedDateTs?1:-1;const vn=(0,Et.X9)(mn,{appContext:!0,messagingContext:!0});var bn=n(75800),fn=n.n(bn);fn().Runtime.createWebSocket=e=>{var t=new URL(e).pathname.replace(/^\/app\//,"");return new WebSocket("wss://telegraph.srvcs.tumblr.com/socket?token=".concat(t))};class En extends v.Component{constructor(){super(...arguments),G()(this,"state",{conversationWindows:[],minimizedConversations:[],isMultipleWindowsEnabled:!1,conversationsLeavingOpenState:[],conversationsLeavingMinimizedState:[],unreadMessages:{unreadMessagesCount:0,unreadMessagesByBlog:{},unreadMessagesByBlogAndConversationId:{}},messagingData:{}}),G()(this,"reparentableLowerRightContentManager",new gt.R),G()(this,"pusher",null),G()(this,"getContextValue",(e=>({unreadMessages:e.unreadMessages,offsetToAvoidLowerRightContentPx:this.getOffsetToAvoidLowerRightContentPx(),openConversationWindow:this.openConversationWindow,closeConversationWindow:this.closeConversationWindow,minimizeConversationWindow:this.minimizeConversationWindow,onConversationLoaded:this.onConversationLoaded,onMinimizedConversationLoaded:this.onMinimizedConversationLoaded,renderLowerRightContentHere:this.renderLowerRightContentHere,shouldReparentLowerRightContent:this.shouldReparentLowerRightContent,getPusherConnection:this.getPusherConnection,updateInboxData:this.updateInboxData,incrementMinimizedMessageCount:this.incrementMinimizedMessageCount}))),G()(this,"memoizeResolver",(e=>{var t=e.unreadMessages;return JSON.stringify(t)+this.getOffsetToAvoidLowerRightContentPx()})),G()(this,"getMemoizedContextValue",ct()(this.getContextValue,this.memoizeResolver)),G()(this,"getPusherConnection",(e=>(this.pusher||(this.pusher=(e=>new(fn())(e,{enableStats:!1,enabledTransports:["ws"],wsHost:"telegraph.srvcs.tumblr.com",authorizer:(e,t)=>({authorize:(e,t)=>{t(null,{auth:""})}})}))(e)),this.pusher))),G()(this,"incrementMinimizedMessageCount",((e,t)=>{var n,a=this.state.unreadMessages.unreadMessagesByBlogAndConversationId;this.setState({unreadMessages:St(o()(o()({},a),{},{[t]:o()(o()({},null==a?void 0:a[t]),{},{[e]:(Number(null==a||null===(n=a[t])||void 0===n?void 0:n[e])||0)+1})}))})})),G()(this,"initializeLocalStorageAdapter",(e=>{this.localStorageConversationAdapter=new Bt(e),this.getConversationsFromLocalStorage()})),G()(this,"getConversationsFromLocalStorage",(()=>this.setState(this.localStorageConversationAdapter.getConversationsFromLocalStorage()))),G()(this,"openConversationWindow",(e=>this.props.appContext.getUserInfo().then((t=>{var n,a,o,r=!0;e.selectedBlogName?(a=t,o=e.selectedBlogName,r=a.blogs.some((e=>e.name===o))):e.selectedBlogName=null===(n=(0,wt.Z)(t.blogs))||void 0===n?void 0:n.name;if(r&&e.selectedBlogName){var s={selectedBlogName:e.selectedBlogName,otherParticipantName:e.otherParticipantName};return this.context.isMobile?this.openMobileConversation(s):this.openDesktopConversation(e)}})))),G()(this,"onConversationLoaded",((e,t)=>{var n=this.state.conversationWindows,a=this.props.appContext.getUserInfo,r=o()(o()({},e),{},{lastOpenedDateTs:this.getLastOpenedDateTs()}),s=t.filter((e=>e.name===r.otherParticipantName))[0];return this.setState({conversationWindows:n.map((e=>(0,Ct.Fc)(e,r)?o()(o()(o()({},e),r),!!s&&{avatar:s.avatar}):e))},(()=>this.communicateConversationActionToLocalStorage(bt.dI.OPENED,r,t))),a().then((t=>{var n=St(this.getUnreadMessagesWithConversationCountToZero(t,e));this.setState({unreadMessages:n})}))})),G()(this,"onMinimizedConversationLoaded",(e=>{var t=this.state.minimizedConversations;(0,Ct.hZ)(e,t)&&this.setState({minimizedConversations:t.map((t=>(0,Ct.Fc)(t,e)?e:t))})})),G()(this,"closeConversationWindow",(e=>(0,Ct.hZ)(e,this.state.conversationWindows)&&this.setState((t=>{var n=t.conversationWindows,a=t.conversationsLeavingOpenState;return{conversationWindows:(0,Ct.xn)(e,n),conversationsLeavingOpenState:this.context.isMobile?a:a.concat(o()(o()({},e),{},{action:bt.dI.CLOSED}))}}),(()=>this.communicateConversationActionToLocalStorage(bt.dI.CLOSED,e))))),G()(this,"minimizeConversationWindow",(e=>{var t=o()(o()({},e),{},{lastOpenedDateTs:this.getLastOpenedDateTs()});this.setState((e=>{var n=e.conversationWindows,a=e.minimizedConversations,r=e.conversationsLeavingOpenState,s=e.conversationsLeavingMinimizedState,i=(0,Ct.hZ)(t,n),l=(0,Ct.hZ)(t,a),c=(0,Ct.hZ)(t,s),d=(0,Ct.hZ)(t,r);return{minimizedConversations:l?a:a.concat(t),conversationsLeavingMinimizedState:c?(0,Ct.xn)(t,s):s,conversationWindows:i?n.filter((e=>!(0,Ct.Fc)(e,t))):n,conversationsLeavingOpenState:i&&!d?r.concat(o()(o()({},t),{},{action:bt.dI.MINIMIZED})):r}}),(()=>this.communicateConversationActionToLocalStorage(bt.dI.MINIMIZED,t)))})),G()(this,"onConversationCompletedAction",(e=>this.setState((t=>{var n=t.conversationsLeavingOpenState,a=t.conversationsLeavingMinimizedState;return{conversationsLeavingOpenState:mt()([bt.dI.CLOSED,bt.dI.MINIMIZED],e.action)?(0,Ct.xn)(e,n):n,conversationsLeavingMinimizedState:e.action===bt.dI.MAXIMIZED?(0,Ct.xn)(e,a):a}})))),G()(this,"renderLowerRightContentHere",(e=>{var t=e===this.reparentableLowerRightContentManager.isReparented;return v.createElement(ht.$,{shouldRenderContent:t,reparentableContent:this.reparentableLowerRightContentManager})})),G()(this,"shouldReparentLowerRightContent",(e=>{this.reparentableLowerRightContentManager.isReparented=e})),G()(this,"getOffsetToAvoidLowerRightContentPx",(()=>{if(this.context.isMobile)return 0;var e=this.state,t=e.conversationWindows,n=e.minimizedConversations,a=e.conversationsLeavingOpenState;return((t.length||a.filter((e=>e.action===bt.dI.CLOSED)).length)&&It().openConversationRightPx)+(n.length&&It().minimizedConvoRightPx)})),G()(this,"updateInboxData",((e,t)=>this.setState({messagingData:(0,kt.Uk)(this.state.messagingData,{[e]:t})}))),G()(this,"openConversationFromQueryParams",(()=>{var e=(0,Pt.b)(this.props.location.search),t=e.messagingFrom,n=e.messagingTo;return n||t?(delete e.messagingFrom,delete e.messagingTo,this.props.history.replace((0,Te.Z)(this.props.location.pathname,e)),n?this.openConversationWindow({selectedBlogName:t,otherParticipantName:n}):Promise.resolve()):Promise.resolve()})),G()(this,"updateUnreadMessagesIfPollerContextHasUpdated",(e=>{var t=this.props,n=t.appContext.getUserInfo,a=t.pollerContext.unreadMessagesByBlogAndConversationId,r=this.state.conversationWindows;if(!e||ut()(e.unreadMessagesByBlogAndConversationId,a))return Promise.resolve();var s=a;return n().then((e=>{s=r.reduce(((t,n)=>o()(o()({},s),this.getUnreadMessagesWithConversationCountToZero(e,n))),s),this.setState({unreadMessages:St(s)})}))})),G()(this,"getUnreadMessagesWithConversationCountToZero",((e,t)=>{var n,a=t.conversationId,o=t.selectedBlogName,r=(t.otherParticipantName,this.props.pollerContext.unreadMessagesByBlogAndConversationId),s=(0,yt.Z)(e,o);return s&&a?(null!=r&&null!==(n=r[s])&&void 0!==n&&n[a]&&(r[s][a]=0),r):r})),G()(this,"shouldUpdateLocalStorage",(()=>!this.context.isMobile)),G()(this,"getLastOpenedDateTs",(()=>(new Date).getTime()))}componentDidMount(){return this.props.appContext.getUserInfo().then((e=>(this.shouldUpdateLocalStorage()&&e&&this.initializeLocalStorageAdapter(e),this.openConversationFromQueryParams())))}componentDidUpdate(e){var t=e&&e.pollerContext?this.updateUnreadMessagesIfPollerContextHasUpdated(e.pollerContext):Promise.resolve(),n=this.shouldUpdateLocalStorage()&&!this.localStorageConversationAdapter?this.props.appContext.getUserInfo().then((e=>e&&this.initializeLocalStorageAdapter(e))):Promise.resolve();return Promise.all([t,n])}componentWillUnmount(){this.pusher&&(this.pusher.disconnect(),this.pusher=null)}render(){return v.createElement(vt.ZP,null,(e=>{var t=e.isMobile;return v.createElement(ft.U.Provider,{value:this.getMemoizedContextValue(this.state)},this.props.children,!t&&!this.props.appContext.isLowerRightContentHidden&&this.reparentableLowerRightContentManager.render(vn,this.forceUpdate.bind(this),o()(o()({},this.state),{},{onConversationCompletedAction:this.onConversationCompletedAction})),this.renderLowerRightContentHere(!1))}))}openMobileConversation(e){var t=e.selectedBlogName,n=e.otherParticipantName;this.props.history.push("/messaging/conversation/".concat(encodeURIComponent(t),"/").concat(encodeURIComponent(n)))}openDesktopConversation(e){var t,n,a,r,s=this.state,i=s.isMultipleWindowsEnabled,l=s.conversationWindows;(0,Ct.hZ)(e,l)||this.setState((s=>{var l=s.conversationWindows,c=s.minimizedConversations,d=s.conversationsLeavingOpenState,u=s.conversationsLeavingMinimizedState;t=(0,Ct.hZ)(e,c);var p=(0,Ct.hZ)(e,u);n=o()(o()({},e),{},{action:t?bt.dI.MAXIMIZED:bt.dI.OPENED});var m=o()(o()({},n),{},{lastOpenedDateTs:this.getLastOpenedDateTs()}),h=!i&&l.length?[...c,...l]:c;return a=!i&&!!l.length,r=a?o()(o()({},l[0]),{},{action:bt.dI.MINIMIZED}):void 0,{minimizedConversations:t?(0,Ct.xn)(n,h):h,conversationWindows:i?[...l,m]:[m],conversationsLeavingMinimizedState:t&&!p?u.concat(n):u,conversationsLeavingOpenState:r?d.concat(r):d}}),(()=>{this.shouldUpdateLocalStorage()&&(t&&this.communicateConversationActionToLocalStorage(bt.dI.MAXIMIZED,n),r&&this.communicateConversationActionToLocalStorage(bt.dI.MINIMIZED,r))}))}communicateConversationActionToLocalStorage(e,t,n){this.shouldUpdateLocalStorage()&&(e===bt.dI.OPENED?n&&t.selectedBlogName&&t.lastOpenedDateTs&&this.localStorageConversationAdapter.updateConversationState({participants:n,selectedBlogName:t.selectedBlogName,id:t.conversationId,lastOpenedDateTs:t.lastOpenedDateTs},bt.dI.OPENED):this.localStorageConversationAdapter.updateConversationState(t,e))}}G()(En,"contextType",vt.q5);var Cn=(0,ue.EN)(En);(0,xt.D)(Cn,"MessagingManagerWithRouter");const yn=(0,Et.X9)(Cn,{appContext:!0,pollerContext:!0});var wn=n(13794),kn=n(61974),Pn=n(469);class Sn extends v.Component{constructor(){super(...arguments),G()(this,"hydraConfigInstanceId",(0,be.Z)()),G()(this,"state",{hydraConfigInstanceId:this.hydraConfigInstanceId,adPlacementConfiguration:this.props.adPlacementConfiguration,privacy:this.props.privacy,sendImpressionADMBeacon:e=>{e&&this.sendBeaconFor(kn.WT.Impression,e)},sendClickADMBeacon:e=>{var t,n;e&&(this.sendBeaconFor(kn.WT.Click,e),"string"!=typeof e&&null!==(t=e.native)&&void 0!==t&&null!==(n=t.link)&&void 0!==n&&n.clicktrackers&&this.fireClickTrackers(e.native.link.clicktrackers))},adProviderInstanceIdMap:this.generateAdProviderInstanceIdMap()}),G()(this,"logHydraConfigDidLoad",(()=>{var e=[],t=this.props,n=t.adPlacementConfiguration,a=t.appContext.logEvent;if(n){if(n.placements)for(var o in n.placements)if(n.placements[o].adSource){var r=n.placements[o];r.adProviderPlacementId=o,r.adProviderId=r.adSource,delete r.adSource,r.staleTime=r.expireTime,delete r.expireTime,e.push(r)}0!==e.length&&a({eventName:rt.JE.HydraConfigLoaded,eventDetails:{hydra_config_instance_id:this.hydraConfigInstanceId,hydra_signature:n.signature,hydra_configs:e}})}}))}componentDidMount(){this.logHydraConfigDidLoad()}render(){return v.createElement(Pn.G.Provider,{value:this.state},this.props.children)}sendBeaconFor(e,t){if("string"!=typeof t&&t.native){var n,a,o=null===(n=t.native)||void 0===n||null===(a=n.eventtrackers)||void 0===a?void 0:a.filter((t=>t.event===e));null==o||o.forEach((e=>{this.sendBeacon(e.url)}))}}fireClickTrackers(e){e.forEach((e=>{this.sendBeacon(e)}))}generateAdProviderInstanceIdMap(){var e=this.props.adPlacementConfiguration,t={};if(null!=e&&e.placements)for(var n=0,a=Object.keys(e.placements);n<a.length;n++){t[a[n]]=(0,be.Z)()}return t}sendBeacon(e){fetch(e,{credentials:"include",mode:"no-cors"})}}const Tn=(0,Ne.HJ)(Sn);var xn=n(74605);class Nn{constructor(){this.adRequestId=(0,be.Z)(),this.adInstances=[]}generateAdInstance(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.adInstances=[{ad_instance_id:(0,be.Z)(),is_tumblr_sponsored_post:e?"1":"0",ad_instance_start_time:(new Date).getTime()}]}getAdInstanceAge(){var e,t;if(null!==(e=this.adInstances)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.ad_instance_start_time)return this.adInstances[0].ad_instance_end_time=(new Date).getTime(),this.adInstances[0].ad_instance_end_time-this.adInstances[0].ad_instance_start_time}setErrorDetails(e){this.errorDetails=e}setStartTime(){this.requestStartTime=(new Date).getTime()}setEndTime(){this.requestEndTime=(new Date).getTime()}}class In extends v.Component{constructor(){super(...arguments),G()(this,"state",{currentAdRequests:{},generateNewAdRequest:this.generateNewAdRequest.bind(this),clearAdRequest:this.clearAdRequest.bind(this)})}render(){return v.createElement(xn.S.Provider,{value:this.state},this.props.children)}generateNewAdRequest(e,t){this.setState({currentAdRequests:o()(o()({},this.state.currentAdRequests),{},{[e]:new Nn})},(()=>{t&&t()}))}clearAdRequest(e){this.setState((t=>{var n=t.currentAdRequests,a=o()({},n);return delete a[e],{currentAdRequests:a}}))}}const Rn=In;class Mn extends v.Component{constructor(){var e;super(...arguments),e=this,G()(this,"logPageView",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.location,n=t.pathname,a=e.props,o=a.paletteContext,r=a.appContext.logEvent;r({pathname:n,eventName:rt.JE.ScreenView,eventDetails:{pathname:n,referrer:document.referrer,color_palette:o.name}})}))}componentDidMount(){this.props.history.listen((e=>{var t=this.props,n=t.history,a=t.location.pathname;"REPLACE"!==n.action&&e.pathname!==a&&this.logPageView(e)})),this.logPageView()}render(){return null}}const An=(0,Et.X9)((0,ue.EN)(Mn),{appContext:!0,paletteContext:!0});var Bn=n(55157),Zn=n(23866),Ln=n(2972),On=n(36272);class Dn extends v.Component{constructor(e){super(e),G()(this,"currentPaletteIndex",0),G()(this,"setPaletteState",((e,t)=>{this.currentPaletteIndex=e;var n=Zn.z[e];this.setState({name:n,hasCalledTogglePalette:t,colors:Bn.zp[Zn.z[e]],counter:this.getCounter(t,e),label:this.getLabel(t,n)})})),G()(this,"togglePalette",(()=>{var e=Zn.z.length,t=this.currentPaletteIndex>=e-1?0:this.currentPaletteIndex+1;this.setPaletteState(t,!0);var n=Zn.z[t];this.props.appContext.setCookie(Bn.r2,n),this.props.appContext.logEvent({eventName:rt.JE.ColorPaletteSelected,eventDetails:{color_palette:n}})})),G()(this,"getCounter",((e,t)=>{if(e){var n=t+1,a=Zn.z.length;return"(".concat(n,"/").concat(a,")")}return null})),G()(this,"getLabel",((e,t)=>{var n=this.props.appContext,a=n._c,o=n._t;return e?e=>v.createElement("span",{className:e[t],"data-text":t},(0,On.Q)(t,a)):()=>o("Change Palette")}));var t=Zn.z[this.currentPaletteIndex];if(e.usePalette&&e.appContext.isLoggedIn){var n=(0,On._)(this.props.appContext.getCookie(Bn.r2));n&&(this.currentPaletteIndex=Zn.z.indexOf(n),t=Zn.z[this.currentPaletteIndex])}var a=!1;this.state={hasCalledTogglePalette:a,colors:Bn.zp[t],name:t,counter:this.getCounter(a,this.currentPaletteIndex),label:this.getLabel(a,t),togglePalette:this.togglePalette},this.paletteHotkeyValue={key:He.SV.P,modifiers:{[He.TE.Alt]:!0},command:this.togglePalette}}componentDidMount(){var e=(0,On._)(this.props.appContext.getCookie(Bn.r2));this.setCookieAfterMount(e)}setCookieAfterMount(e){e.length||this.props.appContext.setCookie(Bn.r2,Zn.Z.trueBlue)}render(){var e,t=this.props.usePalette;return v.createElement(Ln.r.Provider,{value:this.state},v.createElement(Bn.ZP,{chosenPalette:this.state.name}),t&&v.createElement(He.ZP,{hotkey:this.paletteHotkeyValue}),this.props.children((e=this.state.name,"palette--".concat(e))))}}const Fn=(0,Ne.HJ)(Dn);var _n=n(58665),Hn=n.n(_n),Un=n(61147),zn=n(80261),Vn=[1,1,1,1,2,2,2,2,4,4,4,4,8,8,8,8,16];class Wn extends v.Component{constructor(e){super(e),G()(this,"state",{legacyInboxUnreadStatus:!1,unseenPosts:0,unreadMessagesCount:0,unreadMessagesByBlog:{},unreadMessagesByBlogAndConversationId:{},notificationCount:0,notificationCountByBlog:{},privateGroupBlogUnreadPostCounts:{},rerequestPoll:Hn()}),G()(this,"intervalMs",3e4),G()(this,"failureCount",0),G()(this,"requestsWithUnchangedData",0),G()(this,"fetchInProgress",null),G()(this,"apiHelper",(0,Rt.ZP)(this.props.appContext.apiFetch)),G()(this,"poll",(()=>this.props.appContext.isLoggedIn?(this.fetchInProgress=(0,zn.Z)(this.fetch()),this.fetchInProgress.then((()=>{this.fetchInProgress=null,this.requestPoll()})),this.fetchInProgress):Promise.resolve())),G()(this,"fetch",(()=>this.apiHelper.getUserCounts().fetch((e=>{var t=(0,Mt.l)(e),n=t.legacyInboxUnreadStatus,a=t.unread,r=o()(o()(o()({legacyInboxUnreadStatus:n,unseenPosts:a},this.getNotificationsCountAndByBlogFromResponse(e)),this.getUnreadMessagesCountAndByBlogFromResponse(e)),{},{privateGroupBlogUnreadPostCounts:e.private_group_blog_unread_post_counts});Object.keys(r).some((e=>!ut()(r[e],this.state[e])))&&this.setState(r)})).catch((()=>{this.failureCount+=1})))),G()(this,"getUnreadMessagesCountAndByBlogFromResponse",(e=>St(e.unread_messages))),G()(this,"getNotificationsCountAndByBlogFromResponse",(e=>(0,Mt.l)(e.blog_notification_counts).reduce(((e,t)=>{var n=t.blogUuid,a=t.count;return e.notificationCount+=a,e.notificationCountByBlog[n]=a,e}),{notificationCount:0,notificationCountByBlog:{}}))),G()(this,"updateRequestsWithUnchangedData",((e,t)=>{e.legacyInboxUnreadStatus===t.legacyInboxUnreadStatus&&e.unseenPosts===t.unseenPosts&&e.unreadMessagesCount===t.unreadMessagesCount?this.requestsWithUnchangedData+=1:this.requestsWithUnchangedData=0})),G()(this,"updatePollingInterval",(()=>this.intervalMs=3e4*this.getBackOffRate())),G()(this,"getBackOffRate",(()=>{var e=Math.min(this.requestsWithUnchangedData,Vn.length-1);return Vn[e]})),G()(this,"requestPoll",(()=>this.timeoutId=this.failureCount<3?setTimeout((()=>this.poll()),this.intervalMs):void 0)),G()(this,"rerequestPoll",(()=>{this.clearFetchInProgress(),this.poll()})),G()(this,"clearFetchInProgress",(()=>{this.timeoutId&&clearTimeout(this.timeoutId),this.fetchInProgress&&(this.fetchInProgress.cancel(),this.fetchInProgress=null)})),this.state.rerequestPoll=this.rerequestPoll}componentDidMount(){return this.poll()}componentWillUnmount(){this.clearFetchInProgress()}componentDidUpdate(e,t){this.updateRequestsWithUnchangedData(this.state,t),this.updatePollingInterval()}render(){return v.createElement(Un.L.Provider,{value:this.state},this.props.children)}}const Gn=(0,Ne.HJ)(Wn);var qn=n(89393);class jn extends qn.Z{constructor(e){super("Error from the IAB US Privacy API with error: ".concat(e),"PrivacyError")}}class Kn extends v.Component{constructor(){super(...arguments),G()(this,"apiHelper",(0,Rt.ZP)(this.props.appContext.apiFetch)),G()(this,"initializeCCPAConsentApi",(()=>{this.addUSPFrame(),this.registerUSPListener(),window.__uspapi=(e=>{if(e.__uspapi)return e.__uspapi;return(e,t,n)=>{var a;return null===(a={getUSPData:this.formatUSPString,__uspapi:()=>!0}[e])||void 0===a?void 0:a.apply(null,[t,n])}})(window)})),G()(this,"formatUSPString",((e,t)=>{if("function"!=typeof t)throw new jn("callback parameter not a function");var n,a,o;if(e&&1!==e&&t(null,!1),null!==(n=window)&&void 0!==n&&null!==(a=n.navigator)&&void 0!==a&&a.globalPrivacyControl)t({version:1,uspString:"1YYN"},!0);else{var r=null===(o=this.props.privacyKeys)||void 0===o?void 0:o.ccpaPrivacyString;r?t({uspString:r,version:1},!0):t(null,!1)}}))}componentDidMount(){var e,t;this.props.appContext.features.ccpa&&null!==(e=window)&&void 0!==e&&null!==(t=e.navigator)&&void 0!==t&&t.globalPrivacyControl&&(this.ccpaOptOutInProgress=(0,zn.Z)(this.apiHelper.ccpaOptOut().fetch())),this.initializeCCPAConsentApi()}componentWillUnmount(){var e;this.pendingAdd&&window.clearTimeout(this.pendingAdd),this.unregisterUSPListener(),null===(e=this.ccpaOptOutInProgress)||void 0===e||e.cancel(),this.ccpaOptOutInProgress=null}render(){return null}addUSPFrame(){var e="__uspapiLocator";if(!window.frames[e])if(document.body){var t=document.createElement("iframe");t.style.cssText="display:none",t.name=e,document.body.appendChild(t)}else this.pendingAdd=window.setTimeout(this.addUSPFrame,5)}registerUSPListener(){window.addEventListener("message",this.handleUspapiMessage,!1)}unregisterUSPListener(){window.removeEventListener("message",this.handleUspapiMessage,!1)}handleUspapiMessage(e){var t,n=null==e||null===(t=e.data)||void 0===t?void 0:t.__uspapiCall;n&&window.__uspapi(n.command,n.version,((t,a)=>{var o;null===(o=e.source)||void 0===o||o.postMessage({__uspapiReturn:{returnValue:t,success:a,callId:n.callId}},"*")}))}}const Qn=(0,Ne.HJ)(Kn);var Jn=n(49835);class Yn extends v.Component{constructor(){super(...arguments),G()(this,"value",(()=>{var e=(0,zt.Xx)(this.props.size.width);return{device:e,isMobile:e&&(0,zt.s2)(e),isSmartphone:e&&(0,zt.nK)(e)}})())}shouldComponentUpdate(e){var t=(0,zt.Xx)(e.size.width);return t!==this.value.device&&(this.value={device:t,isMobile:t&&(0,zt.s2)(t),isSmartphone:t&&(0,zt.nK)(t)},!0)}render(){return v.createElement(vt.q5.Provider,{value:this.value},this.props.children)}}class Xn extends v.Component{constructor(){super(...arguments),G()(this,"value",{width:this.props.size.width,bodyWidth:this.props.size.width})}shouldComponentUpdate(e){var t,n,a=null===(t=document)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.clientWidth,o=e.size.width!==this.props.size.width||a!==this.value.bodyWidth;return o&&(this.value={bodyWidth:a,width:e.size.width}),o}render(){return v.createElement(Jn.bc.Provider,{value:this.value},this.props.children)}}class $n extends v.Component{constructor(e){super(e),G()(this,"componentIsMounted",!1),G()(this,"resizeNotification",Jn.BI.Enable),G()(this,"onResize",(e=>{var t=e.innerWidth,n=e.innerHeight;this.componentIsMounted&&this.resizeNotification===Jn.BI.Enable&&this.setState({width:t,height:n})})),G()(this,"setViewportResizeRender",(e=>{this.resizeNotification=e})),this.state=this.props.appContext.getBootstrap("viewport-monitor",{height:0,width:0,isViewportMounted:!1,setViewportResizeRender:this.setViewportResizeRender})}componentDidMount(){this.componentIsMounted=!0,zt.ZP.on("resize",this.onResize),this.onResize(zt.ZP.getInfo()),this.setState({isViewportMounted:!0})}componentWillUnmount(){this.componentIsMounted=!1,zt.ZP.off("resize",this.onResize)}render(){return v.createElement(Jn.SL.Provider,{value:this.state},v.createElement(Xn,{size:this.state},v.createElement(Yn,{size:this.state,children:this.props.children})))}}const ea=(0,Ne.HJ)($n);var ta=n(36104),na=n(24907);class aa extends v.Component{constructor(e){var t,n,a,r,s,i,l,c,d,u;super(e),i=this,G()(this,"state",{useBetaEditor:this.props.features.redpopDesktopEditorBeta||!1,useGutenberg:this.props.features.experimentalBlockEditorIsTheNewBeta||(null===(t=this.props.cookieFunctions)||void 0===t?void 0:t.getCookie(ta.zC.EDITOR_GUTENBERG_TOGGLED))!==ta.R0}),G()(this,"hotkeys",{}),G()(this,"hotkeysDisabled",{all:0}),G()(this,"automatticId",null===(n=this.props.analyticsInfo)||void 0===n||null===(a=n.automattic)||void 0===a?void 0:a.id),G()(this,"hashedUserId",null===(r=this.props.analyticsInfo)||void 0===r||null===(s=r.ads)||void 0===s?void 0:s.hashedUserId),G()(this,"idGen",new na.Z),G()(this,"userInfoRequestInProgress",null),G()(this,"apiHelper",(0,Rt.ZP)(this.props.apiFetch)),G()(this,"renderBaseContainer",(e=>v.createElement("div",{id:"base-container",className:e},v.createElement(An,null),v.createElement(Le,{hashedUserId:this.automatticId,routeSet:this.props.routeSet}),v.createElement(Re,{hashedUserId:this.hashedUserId}),v.createElement(Se,null),v.createElement(Qn,{privacyKeys:this.props.privacy}),v.createElement(Fe,null,v.createElement(_e,null,v.createElement(it,null,v.createElement(yn,null,v.createElement(Oe.ZP,null,this.props.children)))))))),G()(this,"setTimeZoneCookie",(()=>{var e=(new Intl.DateTimeFormat).resolvedOptions().timeZone;this.appContext.timeZone!==e&&(this.appContext.setCookie("tz",e),this.appContext.timeZone=e)})),G()(this,"toggleEditorBeta",(e=>{this.setState((t=>({useBetaEditor:"boolean"==typeof e?e:!t.useBetaEditor})))})),G()(this,"toggleGutenberg",(e=>{this.setState((t=>({useGutenberg:"boolean"==typeof e?e:!t.useGutenberg})))})),G()(this,"getUserInfo",(e=>{if(!this.props.isLoggedIn)return Promise.resolve({});if(!this.userInfoRequestInProgress){if(this.userInfo&&!e)return Promise.resolve(this.userInfo);this.userInfoRequestInProgress=this.apiHelper.getUserInfo().fetch((e=>{var t=e.response;return this.userInfo=t.user,t.user})).then((e=>(this.userInfoRequestInProgress=null,e)),(e=>{throw this.userInfoRequestInProgress=null,e}))}return this.userInfoRequestInProgress})),G()(this,"updateUserBlogOrder",(e=>{this.userInfo=o()(o()({},this.userInfo),{},{blogs:e})})),G()(this,"onKeyDown",(e=>this.onKeyUpOrDown(e,!1))),G()(this,"onKeyUp",(e=>this.onKeyUpOrDown(e,!0))),G()(this,"onKeyUpOrDown",((e,t)=>{var n=this.hotkeys,a=this.hotkeysDisabled,o="AltRight"===e.code?He.SV.Alt:e.code,r=n[o];if(!a.all&&r&&!a[o]){var s=r[r.length-1],i=s.modifiers||{},l=!0;if(Object.keys(He.TE).forEach((t=>{var n=He.TE[t];(e[n]&&!i[n]||!e[n]&&i[n])&&(l=!1)})),!l)return;if(s.ignoreInputs)for(var c=e.target;c;){if("true"===c.contentEditable)return;var d=c.tagName.toLowerCase();if(["input","select","textarea"].includes(d))return;c=c.parentElement}!!t==!!s.firesOnKeyUp&&(s.triggersDefault?s.command(e):(s.command(),e.preventDefault()))}})),G()(this,"addHotkey",(e=>{var t,n=e.key,a=this.idGen.next();this.hotkeys[n]?null===(t=this.hotkeys[n])||void 0===t||t.push(o()(o()({},e),{},{id:a})):this.hotkeys[n]=[o()(o()({},e),{},{id:a})];return()=>this.removeHotkey(n,a)})),G()(this,"removeHotkey",((e,t)=>{var n,a;this.hotkeys[e]&&(this.hotkeys[e]=null===(n=this.hotkeys[e])||void 0===n?void 0:n.filter((e=>{var n=e.id;return t!==n})),0===(null===(a=this.hotkeys[e])||void 0===a?void 0:a.length)&&(this.hotkeys[e]=void 0))})),G()(this,"disableHotkeys",(e=>{null!=e&&e.length&&e.forEach((e=>{this.hotkeysDisabled[e]=(this.hotkeysDisabled[e]||0)+1}))})),G()(this,"enableHotkeys",(e=>{Array.isArray(e)&&e.length&&e.forEach((e=>{var t=this.hotkeysDisabled[e];void 0!==t&&0!==this.hotkeysDisabled[e]&&(this.hotkeysDisabled[e]=t-1)}))})),G()(this,"logEvent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.props.logger?i.props.logger.logEvent(e,t):"production"===P.Z.Development&&(console.warn("Uh oh! Tried to log event, but didn't have a logger. It's possible you don't have kraken info set up correctly."),console.warn("The attempted event info was: ".concat(JSON.stringify(e))))})),G()(this,"logImpression",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.props.logger?i.props.logger.logImpression(e,t):"production"===P.Z.Development&&(console.warn("Uh oh! Tried to log an impression, but didn't have a logger. It's possible you don't have kraken info set up correctly."),console.warn("The attempted impression info was: ".concat(JSON.stringify(e))))}));var p=null===(l=this.props.cookieFunctions)||void 0===l?void 0:l.getCookie("tz");this.appContext=o()(o()({timeZone:p||"UTC",cspNonce:this.props.cspNonce||"",getBootstrap:this.props.getBootstrap,apiFetch:this.props.apiFetch,queryClient:this.props.queryClient,features:this.props.features,configRef:this.props.configRef,toggleEditorBeta:this.toggleEditorBeta,toggleGutenberg:this.toggleGutenberg,setCookie:null===(c=this.props.cookieFunctions)||void 0===c?void 0:c.setCookie,getCookie:null===(d=this.props.cookieFunctions)||void 0===d?void 0:d.getCookie,isLoggedIn:this.props.isLoggedIn,isPartiallyRegistered:!!this.props.isPartiallyRegistered,isAdmin:this.props.isAdmin,endlessScrollingDisabled:!!this.props.endlessScrollingDisabled,bestStuffFirstDisabled:!!this.props.bestStuffFirstDisabled},this.props.translateFunctions),{},{getBrowserInfo:()=>this.props.browserInfo,isLowerRightContentHidden:!!this.props.isLowerRightContentHidden,getUserInfo:this.getUserInfo,updateUserBlogOrder:this.updateUserBlogOrder,addHotkey:this.addHotkey,disableHotkeys:this.disableHotkeys,enableHotkeys:this.enableHotkeys,logEvent:this.logEvent,logImpression:this.logImpression,tumblrIponwebUserId:this.hashedUserId,wwwBaseUrl:null!==(u=this.props.wwwBaseUrl)&&void 0!==u?u:"",colorizedTags:this.props.colorizedTags,timestamps:this.props.timestamps})}componentDidMount(){var e,t;null===(e=(t=this.props).clearBootstrap)||void 0===e||e.call(t),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),this.setTimeZoneCookie()}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}componentDidCatch(e){window.dispatchEvent(new ErrorEvent("error",{error:e,message:e.message}))}render(){return v.createElement(Ne.Tm.Provider,{value:this.getAppContextValue()},v.createElement(f.QueryClientProvider,{client:this.props.queryClient},v.createElement(f.Hydrate,{state:this.props.dehydratedState},v.createElement(ea,null,v.createElement(Gn,null,v.createElement(wn.Z,null),v.createElement(Tn,{adPlacementConfiguration:this.props.adPlacementConfiguration,privacy:this.props.privacy},v.createElement(Rn,null,v.createElement(Fn,{usePalette:this.props.usePalette},this.renderBaseContainer))))))))}getAppContextValue(){return o()(o()({},this.appContext),{},{features:o()(o()({},this.appContext.features),{},{redpopDesktopEditorBeta:this.state.useBetaEditor}),isPeeprShowing:this.props.isPeeprShowing,tumblrIponwebUserId:this.hashedUserId})}}G()(aa,"defaultProps",{children:null,features:{}});const oa=aa;var ra=n(38962),sa=n(18601),ia=n(92156);function la(e){var t=e.children,n=e.showingPeepr,a=e.showingModal,o=(0,ue.TH)().pathname,r=(0,v.useRef)(o);return(0,v.useEffect)((()=>{r.current===o||n||a||(window.scrollTo({behavior:"auto",top:0,left:0}),r.current=o)}),[o,n,a]),t}var ca={pathname:"/dashboard",search:"",state:{},hash:""},da={pathname:"/explore/trending",search:"",state:{},hash:""},ua=new na.Z;const pa=e=>{var t=e.baseRoutes,n=e.peeprRoutes,a=e.modalRoutes,r=e.isLoggedIn,s=e.isInitialRequestPeepr,i=e.setIsPeeprShowing,l=(0,ue.TH)(),c=r?ca:da,d=l.pathname,u=(0,sa.f)(n||[],d).length>0,p=(0,sa.f)(a||[],d).length>0,m=(0,v.useState)(u||p?c:l),h=de()(m,2),g=h[0],b=h[1],f=(0,v.useState)(l&&u?l:void 0),E=de()(f,2),C=E[0],y=E[1],w=(0,v.useState)(!s),k=de()(w,2),P=k[0],S=k[1],T=(0,v.useRef)([]);(0,v.useEffect)((()=>{p||u||(b(l),y(void 0),S(!0)),u&&y(l),null==i||i(u)}),[l,l.pathname]);var x=(0,v.useCallback)((e=>{var t;null===(t=T.current)||void 0===t||t.forEach((t=>(0,t.onCloseHandler)(e)))}),[]),N=p||u?g:l,I=(0,v.useMemo)((()=>o()(o()({},N),{},{onClose:x,isPeeprModal:P,peeprLocation:u?C:void 0,addOnCloseModalRouteHandler:e=>{var t=ua.next();return T.current.push({id:t,onCloseHandler:e}),()=>{T.current=T.current.filter((e=>e.id!==t))}}})),[N,C]),R=(0,v.useMemo)((()=>v.createElement(ue.AW,{location:N},(0,sa.H)(t))),[N,t]),M=v.createElement(la,{showingPeepr:u,showingModal:p},R),A=!(0,Ne.bp)().features.redpopPeeprRedesign||!u||u&&P;return v.createElement(ia.x.Provider,{value:I},I&&A&&M,C&&v.createElement(ue.AW,{location:C},(0,sa.H)(n)),p&&v.createElement(ue.AW,{location:l},(0,sa.H)(a)))};const ma=e=>{var t=e.baseRoutes,n=(0,ue.TH)();return v.createElement(ue.AW,{location:n},(0,sa.H)(t))};var ha=n(18630),ga=n(89574),va=n.n(ga);const ba=function(e){var t,a,o,r,s=e.bootstrap,i=e.apiFetch,l=e.queryClient,c=e.translateFunctions,u=e.features,p=e.configRef,m=e.logger,h=e.browserInfo,g=e.sessionInfo,b=e.isLoggedIn,f=e.isPartiallyRegistered,E=e.isAdmin,C=e.history,y=(t=s,[function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return va()(n,d()(t,e,{}))},function(){t={recaptchaV3PublicKey:t.recaptchaV3PublicKey}}]),w=de()(y,2),k=w[0],P=w[1],S=(0,v.useState)(!!s.isInitialRequestPeepr),T=de()(S,2),I=T[0],R=T[1];if(s.isServerError)a=v.createElement(ha.mf,null),o=!1,r=!0;else{var M=s.routeSet||x.Z.Main,A=ra.VM[M];if(M===x.Z.Main){var B=ra.Ns[M],Z=ra.qp[M];a=v.createElement(pa,{baseRoutes:A,peeprRoutes:B,modalRoutes:Z,isLoggedIn:b,isInitialRequestPeepr:s.isInitialRequestPeepr,setIsPeeprShowing:e=>R(e)})}else a=v.createElement(ma,{baseRoutes:A});o=void 0===s.routeUsesPalette||!!s.routeUsesPalette,r=!!s.routeHidesLowerRightContent}if("production"===N.Z.Development){var L=(0,v.useState)(!0),O=de()(L,2)[1],D=()=>O((e=>!e));v.useEffect((()=>{n.e(9995).then(n.bind(n,16830)).then((e=>(0,e.initializeDevFeatureFlags)(u,D)))}),[])}return v.createElement(ue.F0,{history:C},v.createElement(Ee,null,v.createElement(oa,{getBootstrap:k,clearBootstrap:P,apiFetch:i,queryClient:l,logger:m,translateFunctions:c,features:u,configRef:p,cspNonce:s.cspNonce,cookieFunctions:me,usePalette:o,isPeeprShowing:I,isLowerRightContentHidden:r,browserInfo:h,sessionInfo:g,isLoggedIn:b,isPartiallyRegistered:f,isAdmin:E,analyticsInfo:s.analyticsInfo,routeSet:s.routeSet,adPlacementConfiguration:s.adPlacementConfiguration,privacy:s.privacy,endlessScrollingDisabled:s.endlessScrollingDisabled,bestStuffFirstDisabled:s.bestStuffFirstDisabled,wwwBaseUrl:s.wwwBaseUrl,colorizedTags:s.colorizedTags,timestamps:s.timestamps,dehydratedState:s.queries},a)))};var fa;fa=performance.now.bind(performance);class Ea{constructor(){G()(this,"framesDroppedCount",0),G()(this,"frameDropEventsCount",0),G()(this,"isRecording",!1),G()(this,"recordingDuration",0),G()(this,"frameEventCount",0),G()(this,"recordingStartTime",0),G()(this,"lastIntervalStartTime",0),G()(this,"intervalFramesCount",0),G()(this,"recordFrameTime",(()=>{if(this.isRecording){var e=fa();if(0===this.recordingStartTime&&(this.recordingStartTime=e),0===this.lastIntervalStartTime)this.lastIntervalStartTime=e,this.intervalFramesCount=0;else if(this.intervalFramesCount=this.intervalFramesCount+1,this.intervalFramesCount>=Ea.RECORDING_INTERVAL){var t=e-this.lastIntervalStartTime;this.frameEventCount=this.frameEventCount+this.intervalFramesCount,t>Ea.EXPECTED_FRAME_TIME*this.intervalFramesCount&&(this.frameDropEventsCount=this.frameDropEventsCount+1,this.framesDroppedCount=this.framesDroppedCount+Math.floor((t-Ea.EXPECTED_FRAME_TIME*this.intervalFramesCount)/Ea.EXPECTED_FRAME_TIME+1)),this.lastIntervalStartTime=e,this.intervalFramesCount=0}window.requestAnimationFrame(this.recordFrameTime)}}))}start(){this.isRecording||(this.isRecording=!0,this.lastIntervalStartTime=0,this.intervalFramesCount=0,window.requestAnimationFrame(this.recordFrameTime))}stop(){this.isRecording=!1,this.recordingDuration=this.recordingDuration+this.lastIntervalStartTime-this.recordingStartTime,this.recordingStartTime=0}reset(){this.stop(),this.frameDropEventsCount=0,this.framesDroppedCount=0,this.recordingDuration=0,this.frameEventCount=0}}G()(Ea,"EXPECTED_FRAME_TIME",1e3/60),G()(Ea,"RECORDING_INTERVAL",6);class Ca{constructor(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.floor(10*Math.random())+1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ea;G()(this,"scrollCount",0),G()(this,"onScroll",(()=>{void 0===this.scrollTimerId?this.scrollCount=this.scrollCount+1:window.clearTimeout(this.scrollTimerId),this.scrollTimerId=window.setTimeout(this.onScrollStop,Ca.SCROLL_STOP_TIMEOUT_MS),this.scrollCount===this.scrollNumberToRecord&&this.frameTimeRecorder.start()})),G()(this,"onScrollStop",(()=>{if(this.scrollTimerId=void 0,this.frameTimeRecorder.isRecording&&(this.stop(),this.frameTimeRecorder.frameEventCount&&(this.reporter.sendFrameMetrics(this.frameTimeRecorder,Ca.ANALYTICS_EVENT_NAME,this.scrollNumberToRecord),this.logger))){var e=Math.round(this.frameTimeRecorder.recordingDuration);this.logger.logCustomMetric({metricName:"client_performance_frames_dropped_total",value:this.frameTimeRecorder.framesDroppedCount,eventDetails:{scroll_number:this.scrollNumberToRecord,scroll_duration:e}}),this.logger.logCustomMetric({metricName:"client_performance_frame_drop_events_total",value:this.frameTimeRecorder.frameDropEventsCount,eventDetails:{scroll_number:this.scrollNumberToRecord,scroll_duration:e}})}})),this.reporter=e,this.logger=t,this.scrollNumberToRecord=n,this.frameTimeRecorder=a}start(){window.addEventListener("scroll",this.onScroll)}stop(){this.frameTimeRecorder.stop(),window.removeEventListener("scroll",this.onScroll)}}G()(Ca,"SAMPLE_RATE",.1),G()(Ca,"ANALYTICS_EVENT_NAME","scroll"),G()(Ca,"SCROLL_STOP_TIMEOUT_MS",200);var ya=n(71204),wa=n.n(ya),ka=n(92530),Pa=["\n                ' '  ''\n            ''.-::::-::--'\n          '.-::::::////::--'            .-.'\n         '-:::/:::-///:////:.          '++/'  ''\n         '-///+/::::/::/://::'         .++:. ::--'.'\n        '-:++/:-----://::::::.         '++///os+-::---\n         ':o+/:------://:////:--.'''''.:+o+++os/--://:.\n         '-o+/:::://+ossys/++:::--://::/+ooo+oo/-::--:-\n          'smmds/ydmmdds++//+/''.-/ss+++oosssssso/:---:'\n           .hdho::+++::://+/+syoohmdysoosooossyysys/--+:'\n            /++o/////:://+++sydNNmds+//oo+oooshhhhy-:-..\n            .ooso+++o+/++++ohdNNNhyoo//oo++oossys+. '-..\n             -+osyosso+ooosdNNNNNdysys+oossyyyyy.    -..\n              '/o++/++ssoymNmNNNNmhyyhdyyyyyydmd-     '\n                sooooohddmNmhNNNNNNmhhhddhyydmNmy\n              -odmyoshddmNmddNNNNNNmmmmdsoyhhdmmd-\n            :hNNNNmhhyhdNNddmNNNNNNNhmNNmy+sddNhd+\n          'sNNNmNNNNNs:dNNmmNNNNNNNNmhdNNNhyddmmN+\n        '+dNNhshmNNNNmsNNNNNNNNmmddmNNhhmNmhdmmNms\n        yydNmhyyhmNNNNNmNNNNNNNmmmmmddmhsymdhmdmdd'\n       :m/oNNddhhdNNNNNNhmNmmmmmmmmmmmhddoohdhmddm+\n       yo/hNNNNmdmNNNNNNmhmdmddddmmmmmmhh+soshhmdhd.\n     ':o+oNNNNNNNmNNNNNmmdydhdmmmdhdmdmmyooysoyhmdmo\n    -oo+oyNNNNNdNNNNNmmNmmshdsmmmmdsdhmddso+ssohdhyh-\n  '+so++++ooydmmmNNNmmdNmdohhysdmmdoyhymmmy+o+oshhhss\n  /ss++++++ooooNNNNNNmymmmshhsyssddo+yhshmmh+o+osymmy.\n  +yys+++++oo+smhmmmmmhymmdsddsd+sdsoysyssydso++++hhhh:\n  -yshydhsooymmd.hmhmmdhydmhsdohy/oyosdoysoo+y+oooooysh/'\n   -dNNmdsydmmy. -mdhmmydoydds/oo++/oosoohodssosssoosysy/-\n    '/yhhyo:-.    oyyhmymooyss::+++/++/:ymyoyoo++++ooooo+o.\n       '           yhydhdy+ohso//+////+o+///ooo++//+hoooooo-\n                   :syydhsoyoso+++:--:/++yo/::/:::///osys/++\n                ':/++ss+s++ooosooo/::::/osys++so/:-:::/++++/\n                /so++o/+//+/::///os/:/o::/hd++dy++--//::::::\n                -hy++ooo+ss+++++sdmmy+/y+/:::::/:---/+++++++\n               ':+//+o//sh-:hmNNmmmmmmdsy///:::://:::/+++++:\n            '-///:::-:+/::/dmmNNNmmmmmmmmmyo/:--/++/++/:::+s\n          '+ddhy+//::--:/smmmmmmmmmmmmNNmmmmy/--:+//+o/:sdmd\n         'ymmmmmds/:/++ymmmmmdddmmmmmmNNmmmmmdy+-//+//odmmmd","\n             '.-:://///::-'\n          '.:/++++++++oooo++:.\n        '-//////////++++oooooo/-'\n     '.--/////////////+++oooooo+oy/'\n   '/+-////////////////+++ooooooosds.\n  .oo.-/////////////////+++ooooooosds.\n '+y://///////////////////++ooosso+sd+\n -yo///////////////////////++oosssoody-\n'oh//////////////////+//////+ossysoshd+'\n:yo////++++++++++++ooossssssossyhyssydo\n+ho+++ydhhhhhhs++ooyhhhhdddmdyyyhhysydo\n-yoooosyhhyoyyysooshhshshhddhyssyhyshh+\n.ys+++oosshysoy++osyo+hyyysoo+oosysshd:\n-ds+////++++o++//+++++++++++++++ossshd.\n.dh+//////++++////++++++///////+osssdy'\n :yoo+++++oossssoossssoo+++++++osyssh:\n  '+ssssshhyhydddddhhhhdhhyssssyhyyys\n   -syyydddhdhhhhhdhhhdddmNmdhhhdhyyo'\n    ossydhdd///++o++++ooyddmdhydhhyhs-\n    /yoso//oo++////+++oos++syyhddhhds/\n    :shso++ssooossssyyhhsooyyyddhddds+'\n    -:yhyss+/oyhhddyysyhyyyhhdddddmdy+.\n    ''-hhhys-.-/:::/--:hhhddddddmmdy+/.\n    .''-ydhhs--h+--ho-:ydddmmmmdy+:-:-'\n    '....:odh//hy//hh++ydmmmmds:-::-'\n      -'':+so+oshyyhmhhdhsdd+--::-'\n      .:+o.'  ''-:/+ssyd:'./:/+.'\n      :sy:..''''''''  ''-..-oy+\n        ':::---/o+''''.-:++++o/\n         '/:/o+:-''.-:/+oohdy++.\n         '--..-:////++sss:odyo+/\n          ./++oo//+ssyys- :dhso+.\n          '-///oyhhyyhy+  .dhso++.\n            'shyyyy+s+.   .yhyoooo'\n             /++ooy.      'ydysooy-\n             :+//oys'     'ydysooyo\n          '::oss+ohmo     -ddhysssh-\n        ./sosyhdmmNNy'    sdyosyyhmy.\n    '-:+oosyyhdmmNNNd.   'yhyosyyhhmy'\n  '/++osyhhdddmmNNNNd.   'shhyyhhdddm/\n -syyhhhdddmmmNNNNNd+     /dhyyyyyhddh.\n +dddddddmmmNNNd+-.       .dhysosyyhhdh'\n .sdmmNNNNNdho-'          .dhhyyyhhhdmm+\n    '.....'               'ymmdddddmmNNh\n                            ./oyhdmmmdy+"];function Sa(){return(Sa=s()(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ta=ct()((function(e){return Sa.apply(this,arguments)}));function xa(e){return Na.apply(this,arguments)}function Na(){return(Na=s()(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}C().polyfill();var Ia=document.getElementById("root"),Ra=d()(window,"___INITIAL_STATE___",{}),Ma=Ra.languageData||{code:T.lI.English,data:{},timeZone:"UTC"},Aa=function(e){var t=e.code,n=e.data,a=e.timeZone,r=void 0===a?"UTC":a,s=new(Z())({debug:!1}),i=t;function l(e,t){var n=i.replace("_","-");if("number"==typeof e){if(t===L.gO.Short)try{return e.toLocaleString(n,{notation:"compact",compactDisplay:"short"})}catch(t){return e.toLocaleString(n)}return e.toLocaleString(n)}if("production"===P.Z.Development)throw new Error('_getLocaleNumberString was provided "'.concat(e,"\" when it should've receive a number. An empty string was returned instead."));return""}function c(e,t){var n=H(e,t),a=n.unit,o=n.count;switch(a){case"millisecond":return f("Used in timestamps; indicates action happened just now (i.e. less than 1 second ago)","now");case"second":return E("Number of seconds (abbreviated, for use in relative timestamps)","%1$ss","%1$ss",o);case"minute":return E("Number of minutes (abbreviated, for use in relative timestamps)","%1$sm","%1$sm",o);case"hour":return E("Number of hours (abbreviated, for use in relative timestamps)","%1$sh","%1$sh",o);case"day":return E("Number of days (abbreviated, for use in relative timestamps)","%1$sd","%1$sd",o);case"month":return E("Number of months (abbreviated, for use in relative timestamps)","%1$smo","%1$smo",o);case"year":return E("Number of years (abbreviated, for use in relative timestamps)","%1$sy","%1$sy",o)}}function d(e,t){var n=H(e,t),a=n.unit,o=n.count;switch(a){case"millisecond":return f("Used in timestamps; indicates action happened just now (i.e. less than 1 second ago)","now");case"second":return E("Number of seconds ago (abbreviated, for use in relative timestamps)","%1$ss ago","%1$ss ago",o);case"minute":return E("Number of minutes ago (abbreviated, for use in relative timestamps)","%1$sm ago","%1$sm ago",o);case"hour":return E("Number of hours ago (abbreviated, for use in relative timestamps)","%1$sh ago","%1$sh ago",o);case"day":return E("Number of days ago (abbreviated, for use in relative timestamps)","%1$sd ago","%1$sd ago",o);case"month":return E("Number of months ago (abbreviated, for use in relative timestamps)","%1$smo ago","%1$smo ago",o);case"year":return E("Number of years ago (abbreviated, for use in relative timestamps)","%1$sy ago","%1$sy ago",o)}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.qC.Relative,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,a=(0,_.OE)(r),o="string"==typeof e?(0,D.Z)(e):e,s="string"==typeof n?(0,D.Z)(n):n,l=e=>e.getTime()+a-(e.getTime()+a)%O.g.Day;if(t===L.qC.Days){var u=l(s)-l(o),p=Math.floor(u/O.g.Day);return 0===p?v("Today"):1===p?v("Yesterday"):f("How many days ago","%1$s days ago",p.toString())}if(t===L.qC.Automatic||t===L.qC.AutomaticCompact){var m=s.getTime()-o.getTime();if(m<O.g.Week)return t===L.qC.AutomaticCompact?c(o,s):d(o,s);var h=i.replace("_","-"),g=s.getFullYear(),b=o.getFullYear(),E=g===b;if(E){var C=o.toLocaleDateString(h,{month:"short",day:"numeric"});return f("%1$s is the full month and numeric date","%1$s","".concat(C))}var y=o.toLocaleDateString(h,{month:"short",day:"numeric",year:"numeric"});return f("%1$s is the full date with month, day, and year.","%1$s",y)}if(t===L.qC.Simple){var w=i===T.uo||i===T.lI.English,k=i.replace("_","-"),P=s.getDate(),S=s.getMonth(),x=s.getFullYear(),N=o.getDate(),I=o.getMonth(),R=o.getFullYear(),M=s.getDate()-s.getDay(),A=M+6,B=x===R,Z=B&&S===I,H=Z&&M<=N&&N<=A,U=H&&P===N,z=o.toLocaleTimeString(k,{hour:"numeric",minute:"numeric"}),V=o.toLocaleDateString(k,{day:"numeric"}),W=w?F(V):"";if(U)return z;if(H){var G=o.toLocaleDateString(k,{weekday:"long"});return f("%1$s is the day of the week and %2$s is the time","%1$s %2$s",G,z)}if(B){var q=o.toLocaleDateString(k,{month:"long",day:"numeric"});return f("%1$s is the full month and numeric date and %2$s is the time","%1$s, %2$s","".concat(q).concat(W),z)}var j=o.toLocaleDateString(k,{month:"long",day:"numeric",year:"numeric"});if(w){var K=j.split(",");j="".concat(K[0]).concat(W,",").concat(K[1])}return f("%1$s is the full date with month and year. %2$s is the time.","%1$s, %2$s",j,z)}return d(o,s)}"production"===P.Z.Development&&(s.on("error",(e=>{s.locale.match(/^(en|long)/i)||console.error(e)})),i===T.uo&&(i=T.lI.English)),s.addTranslations(i,"messages",n),s.setLocale(i);var p=/%(\d+)\$s/g;function m(e,t){for(var n=p.exec(e),a=e,o=0;n&&o<1e3;){var r=parseInt(n[1],10),s=t[r-1];void 0!==s&&("number"==typeof s&&(s=l(s)),a=a.replace(new RegExp("%".concat(r,"\\$s"),"g"),s)),n=p.exec(e),o+=1}return a}function h(e,t){return t?s.pgettext(t,e):s.gettext(e)}function g(e,t,n,a){return a?s.npgettext(a,e,t,n):s.ngettext(e,t,n)}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return m(s.gettext(e),n)}function b(e,t,n){for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];return m(s.ngettext(e,t,n),[n,...o])}function f(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return m(s.pgettext(e,t),a)}function E(e,t,n,a){for(var o=arguments.length,r=new Array(o>4?o-4:0),i=4;i<o;i++)r[i-4]=arguments[i];return m(s.npgettext(e,t,n,a),[a,...r])}function C(e,t,n){var a=i.replace("_","-"),s="string"==typeof e?(0,D.Z)(e):e,l=n?{timeZone:r}:{timeZone:"UTC"},c="basic";switch(t){case L.Cx.Notes:return s.toLocaleDateString(a,o()(o()({},l),{},{formatMatcher:c,day:"2-digit",month:"short",year:"numeric"}));case L.Cx.ArchiveMonth:return s.toLocaleDateString(a,o()(o()({},l),{},{formatMatcher:c,month:"long",year:"numeric"}));case L.Cx.MonthNameLong:return s.toLocaleDateString(a,o()(o()({},l),{},{formatMatcher:c,month:"long"}));case L.Cx.WeekdayShort:return s.toLocaleDateString(a,o()(o()({},l),{},{formatMatcher:c,weekday:"short"}));case L.Cx.MonthDayShort:return s.toLocaleDateString(a,o()(o()({},l),{},{formatMatcher:c,month:"short",day:"numeric"}));case L.Cx.WeekdayMonthYear:return s.toLocaleDateString(a,o()(o()({},l),{},{formatMatcher:c,weekday:"long",month:"long",day:"numeric"}));case L.Cx.DateAndTime:return s.toLocaleDateString(a,{formatMatcher:c,month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"});case L.Cx.Time:return s.toLocaleTimeString(a,{hour:"numeric",minute:"2-digit"});case L.Cx.TimeUTC:return s.toLocaleTimeString(a,{hour:"numeric",minute:"2-digit",timeZone:"UTC"});case L.Cx.NumericDayMonth:return s.toLocaleDateString(a,o()(o()({},l),{},{month:"numeric",day:"numeric"}));case L.Cx.NumericDayMonthHour:return s.toLocaleDateString(a,o()(o()({},l),{},{month:"numeric",day:"numeric",hour:"numeric"}));case L.Cx.LeadingDayMonthYear:return s.toLocaleDateString(a,o()(o()({},l),{},{month:"2-digit",day:"2-digit",year:"numeric"}));default:return s.toLocaleDateString(a,l)}}function y(e,t){var n=i===T.uo?(0,M.tl)(T.lI.English):(0,M.tl)(i);return e.toLocaleString(n,{style:"currency",currency:t})}if("production"===P.Z.Development&&t===T.uo){var w=e=>function(){var t=e(...arguments);return"".concat(t," (").concat(t,", ").concat(t,")")};return{getText:w(h),getPluralText:w(g),_t:w(v),_n:w(b),_c:w(f),_cn:w(E),_getLocaleDateString:w(C),_getLocaleNumberString:w(l),_getRelativeDateString:w(u),_getLanguage:()=>({code:T.uo,localization:T.uo}),_getPriceInCurrency:w(y)}}return{_t:v,_n:b,_c:f,_cn:E,_getLocaleDateString:C,_getLocaleNumberString:l,_getRelativeDateString:u,_getLanguage:function(){return{code:T.Rv[i],localization:(0,M.tl)(i)}},_getPriceInCurrency:y,getText:h,getPluralText:g}}(Ma),Ba=function(){var e=s()(p().mark((function e(){var t,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("production"!==N.Z.Development){e.next=6;break}return e.next=3,n.e(9995).then(n.bind(n,16830));case 3:return t=e.sent,a=t.loadFeatures,e.abrupt("return",o()(o()({},re.W),a()));case 6:return e.abrupt("return",re.W);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Za={},La=d()(Ra,"configRef",{flags:""}),Oa=d()(Ra,"isLoggedIn.isLoggedIn"),Da=d()(Ra,"isLoggedIn.isPartiallyRegistered"),Fa=d()(Ra,"isLoggedIn.isAdmin");if(!Oa)try{localStorage.clear()}catch(e){}var _a,Ha,Ua,za,Va,Wa=Ra.reportingInfo,Ga=Ra.routeName,qa=void 0===Ga?"":Ga,ja=Ra.wwwBaseUrl,Ka=void 0===ja?"":ja,Qa=Ra.browserInfo||(_a=Ra.supportedBrowserRegexp,Ha=window.navigator.userAgent,Ua=new(ie())(Ha).getResult(),za=function(e){var t;switch(null===(t=e.device)||void 0===t?void 0:t.type){case"mobile":return le.ZP.Smartphone;case"tablet":return le.ZP.Tablet;default:return le.ZP.Desktop}}(Ua),Va=function(e,t){return!(e instanceof RegExp&&t)||e.test(t)}(_a,Ha),{userAgent:Ua,deviceType:za,isSupported:Va,isCrawler:!1}),Ja=Ra.sessionInfo,Ya=Ra.analyticsInfo||{};if((0,I.BY)(Qa))throw new Error("Unsupported browser");var Xa=Ra.routeSet;if(Wa){var $a=new Y(Wa,Xa);window.addEventListener("error",(e=>{$a.reportError(e)})),window.addEventListener("unhandledrejection",(e=>{$a.reportUnhandledException(e)})),"production"===P.Z.Production&&(m.S({dsn:"https://b93ddebac1c34cc393134ffa692bca07@o248881.ingest.sentry.io/5720031",sampleRate:.05,ignoreErrors:J,release:"redpop@6b7fd417b2d1ef786414a91717493fca47d00960",environment:"production"}),h.YA("supported_browser",Qa.isSupported),h.YA("page_locale",Ma.code))}var eo={"accept-language":(0,M.dS)(Ma.code)};if(Xa===x.Z.BlogNetwork){var to=d()(Ra,"tumblelogAuthToken");to&&(eo["X-Tumblelog-Auth"]=to)}var no={extraHeaders:eo,store:o()(o()({},d()(Ra,"apiFetchStore",{})),{},{csrfToken:Ra.csrfToken}),baseUrl:d()(Ra,"apiUrl",""),firstChanceErrorHandler:function(e){var t=e.status,n=(e.detailedErrors||[]).map((e=>e.code));if(!(0,R.$P)(e)){if(400===t&&n.includes(k.Z.InappropriateCursor)){var a=Aa._t;if(window.confirm(a("Something strange happened. Reload to try again?")))return void window.location.reload()}throw e}window.location.replace("".concat(Ka).concat((0,w.XU)({[S.A.Redirect]:window.location.href})))},fetchFunction:window.fetch},ao=(0,y.Z)(no),oo=new f.QueryClient,ro=Ya.kraken,so=ro?new A.ZP(ro,ao):void 0,io=(0,g.lX)();if(Wa){var lo=new oe(Wa,qa),co=!l()(d()(window,"performance.timing")),uo=Ra.routeSet===x.Z.Main,po=Ra.routeSet===x.Z.Main&&("production"===P.Z.Development||Math.random()<oe.SAMPLE_RATE);if(co)if(window.addEventListener("load",(()=>{uo&&so&&so.sendLoadMetrics(),po&&(lo.sendLoadMetrics(),setTimeout((()=>{lo.sendResourceMetrics(),so&&so.queueResourceMetrics()}),3e4))})),"production"===P.Z.Development||Math.random()<Ca.SAMPLE_RATE){var mo=new Ca(lo,so);window.addEventListener("load",(()=>{mo.start()}))}po&&so&&n.e(6328).then(n.bind(n,17713)).then((e=>e.record(so))).catch((e=>{"production"===P.Z.Development&&console.error("Failed to load web vitals recorder",e)}))}Promise.all([U.Z.load(Ra.chunkNames||[]),Ba().then((e=>Za=e))]).then((()=>{var e,t;(0,R.H4)(ao),e=ba,t=v.createElement(e,{bootstrap:Ra,apiFetch:ao,queryClient:oo,logger:so,translateFunctions:Aa,features:Za,configRef:La,browserInfo:Qa,sessionInfo:Ja,isLoggedIn:Oa,isPartiallyRegistered:Da,isAdmin:Fa,history:io}),(0,b.hydrate)(t,Ia)})),Ra.routeSet===x.Z.Main&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number(window.location.port)>1028;"serviceWorker"in navigator&&window.addEventListener("load",(()=>{"production"===P.Z.Development?navigator.serviceWorker.ready.then((e=>{e.unregister().then((e=>{e&&window.location.reload()}))})):navigator.serviceWorker.register(e).then((e=>{t&&e.update()}))}))}("/sw.js");var ho=(0,y.Z)(o()(o()({},no),{},{extraHeaders:o()(o()({},eo),{},{"X-Client-Extension":"true"})})),go=new class{constructor(e){G()(this,"on",((e,t)=>!!this.eventCallbacks[e]&&this.eventCallbacks[e].length!==this.eventCallbacks[e].push(t))),G()(this,"off",((e,t)=>wa()(this.eventCallbacks[e],(e=>e===t)).length>0)),G()(this,"onNavigation",(()=>{var e,t=V()(this.eventCallbacks.navigation);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(e){t.e(e)}finally{t.f()}})),this.krakenLogger=e.krakenLogger,this.windowProperty=e.windowProperty,this.translateFunctions=e.translateFunctions,this.cssMapUrl=e.cssMapUrl,this.apiFetch=e.apiFetch,this.history=e.history,this.eventCallbacks={navigation:[]},this.languageData=this.normalizeLanguageData(e.languageData)}createWindowApi(){var e=this.getApi();try{Object.preventExtensions(e),Object.freeze(e),Object.defineProperty(window,this.windowProperty,{configurable:!1,writable:!1,value:e})}catch(e){return!1}return!0}outputIntroMessage(){console.log("%c ".concat(Pa[Math.floor(Math.random()*Pa.length)]),"font-family:monospace"),console.log(this.getIntroMessage()),console.log(this.getJobsMessage()),console.log("window.".concat(this.windowProperty," ="),window[this.windowProperty])}logEvent(e,t){if(this.krakenLogger){var n=t?{eventName:e,eventDetails:t}:{eventName:e};this.krakenLogger.logEvent(n)}}getApi(){var e=this,t={};return this.cssMapUrl&&(t.getCssMap=s()(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCssMap(e.cssMapUrl);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),this.apiFetch&&(t.apiFetch=this.apiFetch),this.languageData&&(t.languageData=this.languageData),this.history&&(this.history.listen(this.onNavigation),t.on=this.on,t.off=this.off),t}getIntroMessage(){return(0,this.translateFunctions._c)("This is a message to be shown in the development console of the browser. Please don't translate `window`, since it refers to a browser-provided variable whose name is always in english","Hello fellow developers! Welcome to Tumblr. In the `window` property logged below, we have added some helpers we hope you will find useful when writing extensions.")}getJobsMessage(){return(0,this.translateFunctions._c)("The placeholder is the URL to the Tumblr jobs page","PS: We're hiring! %1$s","".concat(ka.Cw,"/jobs"))}getCssMap(e){var t=this;return s()(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.logEvent(rt.JE.ThirdPartyExtensionCSSMapRequest),n.next=4,xa(e);case 4:return n.abrupt("return",n.sent);case 7:return n.prev=7,n.t0=n.catch(0),t.logEvent(rt.JE.ThirdPartyExtensionCSSMapFailure,{error:n.t0}),n.abrupt("return",Promise.resolve({}));case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))()}normalizeLanguageData(e){if(e){var t=e.code,n=e.data,a={code:t,translations:{}};if(!n||!n.translations)return a;for(var o=0,r=Object.keys(n.translations);o<r.length;o++)for(var s=r[o],i=0,l=Object.keys(n.translations[s]);i<l.length;i++){var c=l[i];if(c.length){var d=n.translations[s][c],u=d.msgid,p=d.msgstr;a.translations[u]=p[0]}}return a}}}({krakenLogger:so,translateFunctions:Aa,languageData:Ma,history:io,windowProperty:"tumblr",cssMapUrl:d()(Ra,"cssMapUrl"),apiFetch:ho});go.createWindowApi()&&"production"!==P.Z.Development&&go.outputIntroMessage()},38012:(e,t,n)=>{"use strict";n.d(t,{o:()=>k,Z:()=>x});var a=n(85313),o=n.n(a),r=n(95004),s=n(81059),i=n(5858),l=n(80630),c=n(62513),d=n.n(c),u=(0,l.qv)(r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement("path",{d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11zm0-5a1 1 0 01-1-1v-6a1 1 0 112 0v6a1 1 0 01-1 1zm0-10a1 1 0 110-2 1 1 0 010 2z"})));u.defaultProps={size:{width:24,height:24},fill:c.white};const p=u;var m=n(99107),h=n(51742);const g="yFmaH",v="n8yJq",b="u8HQ3",f="agHCR",E="sPAXn",C="dhNbz",y="B8pBx",w="UFrll";var k;!function(e){e.Info="info",e.Success="success",e.Warning="warning",e.Error="error"}(k||(k={}));var P=e=>{switch(e){case k.Success:return{background:d().glassGreen15};case k.Warning:return{background:d().betamaxOrange15};case k.Error:return{background:d().rokrRed15};case k.Info:default:return{background:d().dreamcastBlue15}}},S=e=>{switch(e){case k.Success:return T(r.createElement(i.Z,null),d().glassGreen);case k.Warning:return T(r.createElement(m.Z,null),d().betamaxOrange);case k.Error:return T(r.createElement(m.Z,null),d().rokrRed);case k.Info:default:return T(r.createElement(p,null),d().dreamcastBlue)}},T=(e,t)=>r.cloneElement(e,{fill:t});const x=e=>{var t=e.theme,n=e.title,a=e.message,i=e.wrapperClassName,l=e.firstAction,c=e.secondAction;return r.createElement("div",{style:o()({},P(t)),className:(0,h.Z)([g,i])},r.createElement("div",{className:v},S(t)),r.createElement("div",{className:b},n&&r.createElement("label",{className:f},n),r.createElement("label",{className:E},a),l&&r.createElement("div",{className:C},r.createElement(s.Z,{label:l[0],onClick:l[1]},r.createElement("h2",{className:y},l[0])),c&&r.createElement(r.Fragment,null,r.createElement("label",{className:w},"•"),r.createElement(s.Z,{label:c[0],onClick:c[1]},r.createElement("h2",{className:y},c[0]))))))}},89494:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>L});var a=n(92969),o=n.n(a),r=n(44716),s=n.n(r),i=n(95004),l=n(79835),c=n(87556),d=n(73958),u=n(18381),p=n(57875),m=n(74625),h=n(22727),g=n(79005),v=n(65368),b=n(9615),f=n(74432),E=n(8312),C=n(77235),y=n(91291),w=n(41757),k=n(66716),P=n(46665),S=n(2978),T=n(5868),x=n(2540),N=n(40474);const I="pqAlM",R="XOib2",M="NPJ19";var A;!function(e){e.APPLE="APPLE",e.GOOGLE="GOOGLE"}(A||(A={}));var B={[(0,N.tl)(P.lI.German)]:l,[(0,N.tl)(P.lI.English)]:c,[(0,N.tl)(P.lI.Hindi)]:c,[(0,N.tl)(P.lI.Spanish)]:d,[(0,N.tl)(P.lI.French)]:u,[(0,N.tl)(P.lI.Indonesian)]:p,[(0,N.tl)(P.lI.Italian)]:m,[(0,N.tl)(P.lI.Japanese)]:h,[(0,N.tl)(P.lI.Korean)]:g,[(0,N.tl)(P.lI.Dutch)]:v,[(0,N.tl)(P.lI.Polish)]:b,[(0,N.tl)(P.lI.PortugueseBrazil)]:f,[(0,N.tl)(P.lI.PortuguesePortugal)]:E,[(0,N.tl)(P.lI.Russian)]:C,[(0,N.tl)(P.lI.Turkish)]:y,[(0,N.tl)(P.lI.ChineseSimplified)]:w,[(0,N.tl)(P.lI.ChineseTraditionalHongKong)]:w,[(0,N.tl)(P.lI.ChineseTraditionalTaiwan)]:k};class Z extends i.Component{constructor(){super(...arguments),o()(this,"renderAppLink",(e=>{var t=this.props,n=t.campaign,a=t.appContext._t,o=()=>this.logDownloadClick(e),r=n&&n.toLowerCase().replace(/[^a-z0-9]+/g,"_");return e===A.APPLE?i.createElement("a",{className:R,href:"https://apps.apple.com/app/apple-store/id305343404?".concat(r?"pt=".concat("212308","&ct=").concat(r,"&"):"","mt=8"),target:"_blank",onClick:o},i.createElement("img",{alt:a("Download on the Apple Store"),src:this.getAppleLogo()})):i.createElement("a",{className:M,href:"https://play.google.com/store/apps/details?id=com.tumblr&referrer=utm_source%3Dredpop".concat(r?"%26utm_campaign%3D".concat(r):""),target:"_blank",onClick:o},i.createElement("img",{alt:a("Get it on Google Play"),src:"https://play.google.com/intl/en_us/badges/static/images/badges/".concat(this.getGoogleLanguageCode(),"_badge_web_generic.png")}))})),o()(this,"getAppleLogo",(()=>{var e,t=this.props.appContext._getLanguage().localization;return null!==(e=B[t])&&void 0!==e?e:c})),o()(this,"getGoogleLanguageCode",(()=>{var e=this.props.appContext._getLanguage(),t=e.code,n=e.localization;return t===P.uo?P.Rv[P.lI.English]:s()([P.lI.PortugueseBrazil,P.lI.PortuguesePortugal],t)?P.Sy:s()([P.lI.ChineseSimplified,P.lI.ChineseTraditionalHongKong,P.lI.ChineseTraditionalTaiwan].map(N.tl),n)?(0,N.tl)(n):t})),o()(this,"logDownloadClick",(e=>this.props.appContext.logEvent({eventName:S.JE.AppDownloadClick,eventDetails:{appStore:e}})))}render(){var e=this.props.appContext.getBrowserInfo();return i.createElement("div",{className:I},!(0,T._V)(e)&&this.renderAppLink(A.APPLE),!(0,T.wQ)(e)&&this.renderAppLink(A.GOOGLE))}}const L=(0,x.HJ)(Z)},30531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(92969),o=n.n(a),r=n(95004),s=n(80261);const i=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Component",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=t=class extends r.Component{constructor(){super(...arguments),o()(this,"state",{component:null}),o()(this,"fetchInProgress",null)}componentDidMount(){this.fetchInProgress=(0,s.Z)(e()),this.fetchInProgress.then((e=>{var t=e.default;return this.setState({component:t})}))}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}render(){var e=this.state.component,t=this.props.asyncLoadingComponent;return e?r.createElement(e,this.props):t||(i?this.props.children:null)}cancelInProgressFetchIfNecessary(){this.fetchInProgress&&(this.fetchInProgress.cancel(),this.fetchInProgress=null)}},o()(t,"defaultProps",{asyncLoadingComponent:null}),o()(t,"displayName",a),n}},20708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var a=n(92969),o=n.n(a),r=n(17908),s=n.n(r),i=n(58665),l=n.n(i),c=n(95004),d=n(79153),u=n(24988),p=n(34995),m=n(87234),h=n(47740),g=n(51742);const v="ZdQlM",b="bRI1d";var f={[h.I2.Top]:{top:-1*m.AF},[h.I2.Bottom]:{top:3*m.AF}};class E extends c.Component{constructor(){super(...arguments),o()(this,"state",{softSelectedIndex:null,isFocused:!1}),o()(this,"getSoftSelectedSuggestion",(()=>{var e=this.props,t=e.suggestions,n=e.popularSuggestions,a=this.state.softSelectedIndex;if(null!==a){if(a<t.length)return t[a];if(a<this.allSuggestionsLength())return n[a-t.length]}return null})),o()(this,"shouldRenderHotkeyComponent",(()=>this.props.isShowing&&!!this.allSuggestionsLength())),o()(this,"allSuggestionsLength",(()=>{var e=this.props,t=e.suggestions,n=e.popularSuggestions;return t.length+n.length})),o()(this,"renderHotkeys",(()=>c.createElement(p.e.Consumer,null,(e=>{var t=e.hotkeyWrapper;return t?c.createElement(t,{shouldRenderHotkeyComponent:this.shouldRenderHotkeyComponent(),shouldDisableParentControlOfHotkeys:!0,shouldDisableEnterAsSubmit:!0},this.renderHotkeyComponent()):this.renderHotkeyComponent()})))),o()(this,"renderHotkeyComponent",(()=>c.createElement(u.ZP,{hotkey:this.getHotkeyCommands(),disableAllButMyHotkeys:!0}))),o()(this,"getHotkeyCommands",(()=>{var e=this.props,t=e.searchText,n=e.getSearchTextFromSuggestion,a=[{key:u.SV.Escape,command:this.unfocusAndClose},{key:u.SV.Enter,command:this.selectCurrentSoftSelection},{key:u.SV.Tab,command:this.selectCurrentSoftSelection},{key:u.SV.Up,command:this.softSelectPreviousOption},{key:u.SV.Down,command:this.softSelectNextOption},{key:u.SV.Left,command:this.unfocus,triggersDefault:!0},{key:u.SV.Backspace,command:this.unfocus,triggersDefault:!0}];return n(this.getSoftSelectedSuggestion())!==t&&a.push({key:u.SV.Right,command:this.selectIfFocused,triggersDefault:!0}),a})),o()(this,"unfocus",(()=>{this.state.isFocused&&(this.setState({isFocused:!1,softSelectedIndex:null}),this.props.onUnfocus&&this.props.onUnfocus())})),o()(this,"unfocusAndClose",(()=>{var e=this.props.onClose;this.unfocus(),e()})),o()(this,"renderSuggestions",(e=>{var t=this.props,n=t.suggestions,a=t.popularSuggestions,o=t.popularHeader,r=t.searchText,s=t.onSelection,i=t.renderSuggestion,l=t.renderEmptySuggestions,d=this.state,u=d.softSelectedIndex,p=d.isFocused;return(!!this.allSuggestionsLength()||l)&&c.createElement("div",{contentEditable:!1},c.createElement("div",{className:(0,g.Z)({[v]:!0,[b]:e})},n.map(((e,t)=>c.createElement("span",{key:t,role:"button",onClick:this.clickSuggestion},i({searchText:r,suggestion:e,onSelection:s,key:t,onSoftSelection:this.onSoftSelection,isSelected:t===u,isFocused:t===u&&p})))),o,a.map(((e,t)=>c.createElement("span",{key:t+n.length,role:"button",onClick:this.clickSuggestion},i({searchText:r,suggestion:e,onSelection:s,key:t+n.length,onSoftSelection:this.onSoftSelection,isSelected:t+n.length===u,isFocused:!!u&&p&&t===u-n.length})))),!this.allSuggestionsLength()&&l&&l()))})),o()(this,"softSelectNothing",(()=>{this.props.noSoftSelectionOnNewSuggestions?this.setState({softSelectedIndex:null}):this.onSoftSelection(null)})),o()(this,"softSelectFirstOption",(()=>!this.props.suggestions.length&&this.props.popularSuggestions.length?this.onSoftSelection(this.props.popularSuggestions[0]):this.onSoftSelection(this.props.suggestions[0]))),o()(this,"onSoftSelection",(e=>{var t,n;this.setState({softSelectedIndex:this.getIndexFromSuggestion(e)}),null===(t=(n=this.props).onSoftSelection)||void 0===t||t.call(n,e)})),o()(this,"getIndexFromSuggestion",(e=>{var t=this.props,n=t.suggestions,a=t.popularSuggestions;if(null!==e)for(var o=0;o<this.allSuggestionsLength();o+=1){if(n[o]&&s()(n[o],e))return o;if(a[o-n.length]&&s()(a[o-n.length],e))return o}return null})),o()(this,"softSelectPreviousOption",(()=>this.modifySoftSelectedIndex(-1))),o()(this,"softSelectNextOption",(()=>this.modifySoftSelectedIndex(1))),o()(this,"modifySoftSelectedIndex",(e=>{var t,n=this.props,a=n.suggestions,o=n.popularSuggestions,r=null!==(t=this.state.softSelectedIndex)&&void 0!==t?t:-1,s=r+e,i=this.allSuggestionsLength();i&&(r+e>=i?s=0:r+e<0&&(s=i-1),this.setState({softSelectedIndex:s,isFocused:!0},(()=>{var e,t;null===(e=(t=this.props).onSoftSelection)||void 0===e||e.call(t,a.length>=s?o[s-a.length]:a[s])})))})),o()(this,"selectIfFocused",(()=>{this.state.isFocused&&this.selectCurrentSoftSelection()})),o()(this,"selectCurrentSoftSelection",(()=>{var e=this.props.allowNullSelection,t=this.getSoftSelectedSuggestion();(t||e)&&this.props.onSelection(t),this.setState({softSelectedIndex:null})})),o()(this,"clickSuggestion",(()=>{this.setState({softSelectedIndex:null,isFocused:!1})})),o()(this,"isRibbon",(()=>!!this.props.autocompleteContainerRef&&!!this.props.autocompleteContainerRef.current))}componentDidMount(){var e=this.props,t=e.isShowing,n=e.noSoftSelectionOnNewSuggestions;window.addEventListener("mousedown",this.unfocus),window.addEventListener("keypress",this.unfocus),t&&this.allSuggestionsLength()&&!n?this.softSelectFirstOption():this.softSelectNothing()}componentWillUnmount(){window.removeEventListener("mousedown",this.unfocus),window.removeEventListener("keypress",this.unfocus)}componentDidUpdate(e){var t=this.props,n=t.suggestions,a=t.popularSuggestions,o=t.isShowing,r=t.noSoftSelectionOnNewSuggestions;!o||e.isShowing&&s()(e.suggestions,n)&&s()(e.popularSuggestions,a)||(this.allSuggestionsLength()&&!r?this.softSelectFirstOption():this.softSelectNothing())}render(){var e=this.props,t=e.autocompleteContainerRef,n=e.isShowing,a=e.shouldEscapeParentOverflow,o=e.positionBasedOffsetModifiers,r=e.popoverWidth,s=e.popoverMaxHeight;return c.createElement(c.Fragment,null,this.isRibbon()?n&&(null==t?void 0:t.current)&&(0,d.createPortal)(this.renderSuggestions(!0),t.current):n&&c.createElement(m.ZP,{isOpen:n,toggle:null,position:h.I2.BottomStart,positionBasedOffsetModifiers:o||f,height:"auto",component:this.renderSuggestions(),noTransitions:!0,usePortals:a,width:r,maxHeight:s,targetWrapperDisplayInline:!0},c.createElement("a",{tabIndex:-1})),this.renderHotkeys())}}o()(E,"defaultProps",{suggestions:[],popularSuggestions:[],onSoftSelection:l()})},36456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var a=n(92969),o=n.n(a),r=n(95004),s=n(80630),i=n(62513),l=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 16 16"},r.createElement("path",{d:"M8 0a8 8 0 0 0 0 16A8 8 0 0 0 8 0z"}),r.createElement("path",{fill:i.white,d:"M11.158 6.894a2.573 2.573 0 0 1-.953 1.196 9.93 9.93 0 0 0-.56.41 2.584 2.584 0 0 0-.47.469 1.361 1.361 0 0 0-.258.66v.502H7.134v-.593c.026-.379.1-.696.218-.952.12-.255.258-.472.415-.654.16-.18.327-.336.503-.469.176-.132.338-.264.49-.397a1.88 1.88 0 0 0 .363-.434c.093-.158.135-.358.126-.594 0-.404-.1-.706-.299-.9-.2-.194-.473-.292-.826-.292-.238 0-.442.048-.614.141a1.23 1.23 0 0 0-.423.368c-.11.155-.191.335-.245.544a2.71 2.71 0 0 0-.079.667H4.821c.009-.476.09-.912.245-1.31.154-.397.37-.74.648-1.03a2.915 2.915 0 0 1 1.004-.682 3.395 3.395 0 0 1 1.316-.245c.624 0 1.148.085 1.567.258.417.173.753.385 1.01.64.256.257.44.532.549.827.111.297.165.57.165.826-.002.423-.057.772-.167 1.044zm-4.21 4.032h2.074v2.035H6.948z"})));l.defaultProps={size:{width:14,height:14},fill:i.black};const c=l;var d=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 16 16"},r.createElement("circle",{cx:"8",cy:"8",r:"8"}),r.createElement("path",{fill:i.white,d:"M9 7h2.003c.55 0 .997.444.997 1 0 .552-.453 1-.997 1H9v2.003c0 .55-.444.997-1 .997-.552 0-1-.453-1-.997V9H4.997A.996.996 0 0 1 4 8c0-.552.453-1 .997-1H7V4.997C7 4.447 7.444 4 8 4c.552 0 1 .453 1 .997V7z"})));d.defaultProps={size:{width:14,height:14},fill:i.dreamcastBlue};const u=d;var p=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 16 16"},r.createElement("circle",{cx:"8",cy:"8",r:"8"}),r.createElement("path",{fill:i.white,d:"M9.903 4.5c-.64 0-1.265.316-1.76.89a5.38 5.38 0 0 0-.144.175 6.11 6.11 0 0 0-.144-.174C7.36 4.816 6.735 4.5 6.1 4.5a1.99 1.99 0 0 0-1.25.458c-1.092.876-1.025 2.428-.394 3.507.875 1.496 2.662 3.043 3.011 3.337.151.128.34.198.533.198.192 0 .382-.07.533-.197.35-.295 2.136-1.842 3.01-3.338.633-1.081.703-2.633-.387-3.507A1.991 1.991 0 0 0 9.903 4.5z"})));p.defaultProps={size:{width:14,height:14},fill:i.rokrRed};const m=p;var h=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 16 16"},r.createElement("path",{fill:i.white,d:"M8.1 3.5C5.38 3.5 3.5 5.34 3.5 8c0 2.71 1.86 4.5 4.7 4.5.58 0 1.14-.07 1.56-.19v-.88c-.31.11-.9.18-1.48.18-2.32 0-3.78-1.38-3.78-3.57 0-2.15 1.47-3.66 3.57-3.66 2.07 0 3.43 1.27 3.43 3.23 0 1.1-.35 1.79-.9 1.79-.33 0-.52-.22-.52-.6V5.92h-1.1v.64h-.1c-.22-.47-.69-.75-1.28-.75-1.09 0-1.83.89-1.83 2.2 0 1.37.75 2.28 1.89 2.28.63 0 1.08-.28 1.31-.83h.1c.12.52.62.84 1.3.84 1.32 0 2.14-1.07 2.14-2.79-.01-2.38-1.8-4.01-4.41-4.01zm-.18 5.77c-.57 0-.92-.46-.92-1.23s.34-1.23.92-1.23c.58 0 .94.47.94 1.23.01.76-.35 1.23-.94 1.23z"}),r.createElement("path",{fill:i.white,d:"M8.1 3.5C5.38 3.5 3.5 5.34 3.5 8c0 2.71 1.86 4.5 4.7 4.5.58 0 1.14-.07 1.56-.19v-.88c-.31.11-.9.18-1.48.18-2.32 0-3.78-1.38-3.78-3.57 0-2.15 1.47-3.66 3.57-3.66 2.07 0 3.43 1.27 3.43 3.23 0 1.1-.35 1.79-.9 1.79-.33 0-.52-.22-.52-.6V5.92h-1.1v.64h-.1c-.22-.47-.69-.75-1.28-.75-1.09 0-1.83.89-1.83 2.2 0 1.37.75 2.28 1.89 2.28.63 0 1.08-.28 1.31-.83h.1c.12.52.62.84 1.3.84 1.32 0 2.14-1.07 2.14-2.79-.01-2.38-1.8-4.01-4.41-4.01zm-.18 5.77c-.57 0-.92-.46-.92-1.23s.34-1.23.92-1.23c.58 0 .94.47.94 1.23.01.76-.35 1.23-.94 1.23z"}),r.createElement("path",{d:"M7.93 6.81c-.58 0-.92.46-.92 1.23s.34 1.23.92 1.23c.58 0 .95-.47.95-1.23-.01-.76-.37-1.23-.95-1.23z"}),r.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm2.36 10.3c-.68 0-1.18-.32-1.3-.84h-.1c-.23.55-.68.83-1.31.83-1.13 0-1.89-.91-1.89-2.28 0-1.31.74-2.2 1.83-2.2.58 0 1.06.28 1.27.76h.1v-.65h1.1v2.86c0 .38.19.6.52.6.55 0 .9-.69.9-1.79 0-1.95-1.36-3.23-3.43-3.23-2.11 0-3.57 1.5-3.57 3.66 0 2.19 1.47 3.57 3.78 3.57.58 0 1.18-.07 1.48-.18v.88c-.41.14-.97.21-1.54.21-2.84 0-4.7-1.79-4.7-4.5 0-2.67 1.88-4.5 4.6-4.5 2.61 0 4.4 1.63 4.4 4.01 0 1.72-.82 2.79-2.14 2.79z"})));h.defaultProps={size:{width:14,height:14},fill:i.zunePurple};const g=h;var v=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 16 16"},r.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.createElement("path",{fill:i.white,d:"M10.5 7.05c-.344.227-.5 0-.5-.23V5.75H5.593A.594.594 0 0 0 5 6.343v1.324a.625.625 0 0 1-1.25 0V6.343c0-1.016.827-1.843 1.843-1.843H10V3.32c0-.27.315-.398.5-.27s2 2 2 2l-2 2zM6 10.542h4.406A.594.594 0 0 0 11 9.949V8.625a.625.625 0 0 1 1.25 0V9.95a1.845 1.845 0 0 1-1.844 1.843H6v1.032s-.057.498-.5.208l-2-1.978 2-2c.173-.138.5 0 .5.286v1.202z"})));v.defaultProps={size:{width:14,height:14},fill:i.glassGreen};const b=v;var f=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 16 16"},r.createElement("circle",{cx:"8",cy:"8",r:"8"}),r.createElement("path",{fill:i.white,d:"M8.09 4a3.911 3.911 0 0 0-3.91 3.904 3.9 3.9 0 0 0 .343 1.595c-.084.297-.199.708-.314 1.164l-.194.764a.46.46 0 0 0 .567.556l.76-.208 1.146-.312A3.911 3.911 0 0 0 12 7.903 3.911 3.911 0 0 0 8.09 4"})));f.defaultProps={size:{width:14,height:14},fill:i.dreamcastBlue};const E=f;var C=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 16 16",role:"img"},r.createElement("circle",{cx:"8",cy:"8",r:"8"}),r.createElement("path",{d:"M8,2.5c-0.6,0-1,0.4-1,1c0,0,0,0.1,0,0.1C5.8,3.8,5,4.8,5,6c0,1.4,1.1,2.5,2.5,2.5h0.9c0.3,0,0.5,0.2,0.5,0.5 S8.7,9.5,8.4,9.5H6c-0.6,0-1,0.4-1,1s0.4,1,1,1h0.5c0.3,0,0.5,0.2,0.6,0.5c0.2,0.3,0.5,0.5,0.9,0.5c0.6,0,1-0.4,1-1 c0,0,0-0.1,0.1-0.1c1.1-0.3,1.9-1.3,1.9-2.4c0-1.4-1.1-2.5-2.4-2.5l-0.1,0H7.5C7.2,6.5,7,6.3,7,6s0.2-0.5,0.5-0.5H10 c0.6,0,1-0.4,1-1s-0.4-1-1-1H9.5C9.2,3.5,9,3.3,8.9,3C8.7,2.7,8.4,2.5,8,2.5z",fill:i.white})));C.defaultProps={size:{width:14,height:14},fill:i.betamaxOrange};const y=C;var w=n(35905);const k="D9Rbd";class P extends r.Component{render(){var e=this.props,t=e.icon,n=e.backgroundColor;return r.createElement("div",{className:k,style:{backgroundColor:n}},t)}}o()(P,"ofType",(e=>{switch(e){case w.w.Reblog:case w.w.Like:case w.w.Reply:case w.w.Follower:case w.w.Ask:case w.w.Tip:return P[e]();case w.w.UserMention:case w.w.NoteMention:return P.mention();default:return null}})),o()(P,"reblog",(()=>r.createElement(b,null))),o()(P,"like",(()=>r.createElement(m,null))),o()(P,"reply",(()=>r.createElement(E,null))),o()(P,"follower",(()=>r.createElement(u,null))),o()(P,"mention",(()=>r.createElement(g,null))),o()(P,"ask",(()=>r.createElement(c,null))),o()(P,"tip",(()=>r.createElement(y,null)))},54640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(95004),l=n(99349),c=n(57597),d=n(18602),u=n(61241),p=n(51742),m=n(2540),h=n(92191);const g={avatarWrapper:"nZ9l5",avatar:"j4akp",avatarWrapperInner:"ESMam",square:"ntiBu",circle:"_eWg9",badge:"qgvik",badgeBorder:"kbP4U",brokenBlog:"d4Zou",subavatar:"Coaf7",anonymous:"Ihxxq"};const v=function(e){var t=e.blog,n=e.showBlogCard,a=void 0===n||n,r=e.imageResponse,v=e.name,b=e.dimension,f=e.isAdult,E=e.placementId,C=e.eventName,y=e.eventDetails,w=e.avatarShape,k=void 0===w?u.o.Square:w,P=e.url,S=e.className,T=e.badge,x=void 0===T?null:T,N=e.isOnline,I=void 0!==N&&N,R=e.isLink,M=void 0===R||R,A=e.authorName,B=e.authorImageResponse,Z=e.imgStyleProps,L=void 0===Z?{}:Z,O=e.bigStatusIndicator,D=e.isAnonymous,F=e.badgeBorder,_=(0,m.bp)()._t,H=s()({width:b,height:b},L);if(D)return i.createElement("figure",{className:g.anonymous,"aria-label":_("Anonymous avatar"),style:s()({width:b,height:b},L)});var U=x?i.createElement("div",{className:(0,p.Z)({[g.badge]:!0,[g.badgeBorder]:F})},x):I&&i.createElement(h.Z,{big:O}),z=Math.round(b/2),V=B?i.createElement("div",{className:(0,p.Z)([g.subavatar,g.avatarWrapperInner,g[k]]),style:{width:z,height:z}},i.createElement(d.Pp,{imageResponse:B,style:s()({width:z,height:z},L),isSquare:!0,pixelated:f,altText:_("Avatar"),isTransparent:!0,sizes:"".concat(z,"px")})):null;V&&A&&(V=M?i.createElement(c.Z,{blogName:A,title:A,showBlogCard:a,krakenEventName:C,krakenEventDetails:y,placementId:E},V):a?i.createElement(l.Z,{blogName:A},V):V);var W=i.createElement("div",{className:(0,p.Z)([g.avatar,S]),style:{width:b,height:b}},i.createElement("div",{className:(0,p.Z)({[g.avatarWrapperInner]:!0,[g[k]]:!0})},r?i.createElement(d.Pp,{imageResponse:r,style:H,isSquare:!0,pixelated:f,altText:_("Avatar"),isTransparent:!0,sizes:"".concat(b,"px"),loading:"eager"}):i.createElement("div",{className:g.brokenBlog})),U),G=W,q=t?{blog:t}:{blogName:null!=v?v:""};return v&&(G=M?i.createElement(c.Z,{blogName:v,href:P,title:v,showBlogCard:a,blog:t,krakenEventName:C,krakenEventDetails:y,placementId:E},W):a?i.createElement(l.Z,o()({blogName:v},q),W):G),i.createElement("div",{className:g.avatarWrapper,role:"figure","aria-label":_("avatar")},G,V)}},92191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(95004),o=n(64018),r=n(44093),s=n(51742),i=n(10819),l=n(62513),c=n.n(l),d=n(34534);const u="ErOUd",p="iZsKV",m="MVKfc",h="kjUFb";const g=function(e){var t=e.secondsSinceLastActivity,n=void 0===t?-1:t,l=e.theme,g=e.big,v=(0,i.k)(n),b=Math.ceil((n+1)/r.y.Hour),f=l&&(0,d.sW)(l.backgroundColor,c().statusIndicator);return a.createElement("div",{className:(0,s.Z)([v&&h]),style:l&&{color:(0,d.sW)(l.backgroundColor,l.linkColor)}},a.createElement("div",{className:(0,s.Z)({[u]:!0,[p]:!v,[m]:!v&&g}),style:f?{border:"1px solid ".concat(f)}:void 0}),v&&a.createElement(o.M2,{comment:"Text shown next to status indicator. If there's a placeholder [number], it's the number of hours. Please treat it like the more-common %1$s placeholder.",number:b},a.createElement(o.CJ,null,"Active in the last hour"),a.createElement(o.CN,null,"Active in the last [number] hours")))}},91841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(4777),c=n(51742);const d="fvSXi";var u=["label","className","getPath","children","onClick","disableNavigation","isAlreadyOnPostFormPath","forwardedRef","disabled"];const p=e=>{var t=e.label,n=e.className,a=e.getPath,r=e.children,p=e.onClick,m=e.disableNavigation,h=e.isAlreadyOnPostFormPath,g=e.forwardedRef,v=e.disabled,b=s()(e,u),f=(0,l.k6)(),E=a();return i.createElement("a",o()({ref:g,"aria-label":t,href:v?void 0:E,className:(0,c.Z)([d,n]),onClick:v?void 0:e=>{null==p||p(e),e.ctrlKey||e.metaKey||m||(e.preventDefault(),h(window.location.pathname)||f.push(E))}},p&&{role:"button"},b),r||t)}},68234:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(85313),o=n.n(a),r=n(12195),s=n.n(r),i=n(78709),l=n(5818),c=n(52385),d=e=>s()(e)||null===e;const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.composeSettings,n=e.blogName,a=e.isPageBlogPage,r=e.editablePost,s=e.tags,u=e[c.PC.AdvertiserId],p=e[c.PC.CampaignId],m=e[c.PC.CreativeId],h=e[c.PC.AdGroupId],g=e[c.PC.AdId],v=t||{},b=v.saveButtonState,f={};return b&&b!==i.C.New&&(f[l.xq.PostSaveButtonState]=b),!r&&n&&a&&(f[l.xq.BlogName]=n),s&&(f.tags=s),[u,p,m,h,g].every(d)&&(f=o()(o()({},f),{},{[c.PC.AdvertiserId]:u,[c.PC.CampaignId]:p,[c.PC.CreativeId]:m,[c.PC.AdGroupId]:h,[c.PC.AdId]:g})),f}},99349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(43893),o=n.n(a),r=n(95004),s=n(73427),i=n(87234),l=n(40310),c=n(2978),d=n(47740),u=n(2540);const p=e=>{var t,n,a=e.blog,p=e.blogName,m=e.children,h=e.targetWrapperDisplayBlock,g=(0,u.bp)(),v=g.isLoggedIn,b=g.logEvent,f=(0,r.useState)(!1),E=o()(f,2),C=E[0],y=E[1],w=(0,l.v$)().isSmartphone,k=(0,r.useCallback)((()=>{var e=!C;y(e),e&&b({eventName:c.JE.BlogCardShown})}),[C]),P=null!==(t=null!==(n=null==a?void 0:a.name)&&void 0!==n?n:p)&&void 0!==t?t:"",S=r.useMemo((()=>r.createElement(s.Z,{blog:a,blogName:P})),[a,P]);return!v||w?r.createElement(r.Fragment,null,m):r.createElement(i.ZP,{width:280,height:void 0,maxHeight:370,isOpen:C,type:d.Oj.Hover,position:d.I2.Bottom,component:S,toggle:k,showOverflowY:!0,onHoverEnterDelay:500,onHoverExitDelay:200,usePortals:!0,targetWrapperDisplayBlock:h},m)}},73427:(e,t,n)=>{"use strict";n.d(t,{X:()=>L,Z:()=>D});var a=n(92969),o=n.n(a),r=n(95004),s=n(90780),i=n(55012),l=n(22654),c=n(85313),d=n.n(c),u=n(57597),p=n(13700),m=n(4003),h=n(76155),g=n(52385);const v="F5Omd",b="vu6Kh";const f=function(e){var t,n,a,o=e.chiclet,s=e.blog,i=[],l=[],c=!1;(0,g.mW)(o)&&(n=null===(a=o.links)||void 0===a?void 0:a.tap.href,i=function(e){var t=[],n=e.links,a=e.objectData,o=a.displayStyle,r=a.title,s=a.body,i=a.backgroundImage,l=(null==n?void 0:n.tap.href)||"",c=i?[{url:i,width:100,height:100}]:[];switch(o){case h.Ac.Link:t.push(d()(d()({type:h.kH.Link,url:l,displayUrl:l},r&&{title:r}),s&&{description:s}));break;case h.Ac.Audio:t.push(i?{type:h.kH.Image,media:c}:d()({type:h.kH.Audio},r&&{title:r}));break;case h.Ac.Video:t.push({type:h.kH.Video,poster:c});break;case h.Ac.Regular:case h.Ac.Photo:i&&t.push({type:h.kH.Image,media:c}),r&&t.push({type:h.kH.Text,text:r,subtype:h.lr.Heading1}),s&&t.push({type:h.kH.Text,text:s})}return t}(o),t=o.loggingId.split(":")[1],c=o.objectData.displayStyle===h.Ac.Audio&&!!o.objectData.backgroundImage);return(0,g.xT)(o)&&(i=o.content,l=o.trail,t=o.id,n=o.postUrl),r.createElement(u.Z,{blogName:s.name,postId:t,href:n,className:v,showBlogCard:!1,blog:s},(0,m.o)({content:i,trail:l,type:h.SB}),c&&r.createElement("div",{className:b},r.createElement(p.Z,{withCircle:!1})))};var E=n(14782),C=n(57284),y=n(3575),w=n(36643),k=n(2540),P=n(80813),S=n(80261),T=n(62513),x=n.n(T);const N="NTjLE",I="FDi9i",R="i6Lfi",M="mX1OQ",A="b_kEV",B="JxN_9";var Z={posts:null,hasAttemptedFetch:!0},L=e=>{var t,n;return void 0!==(null==e?void 0:e.url)&&void 0!==(null==e||null===(t=e.theme)||void 0===t?void 0:t.linkColor)&&void 0!==(null==e||null===(n=e.theme)||void 0===n?void 0:n.backgroundColor)};class O extends r.Component{constructor(){var e;super(...arguments),o()(this,"state",{blog:this.props.blog,posts:null!==(e=this.props.posts)&&void 0!==e?e:null,hasAttemptedFetch:!1}),o()(this,"apiHelper",(0,w.ZP)(this.props.appContext.apiFetch)),o()(this,"fetchInfo",(()=>{var e;null===(e=this.urlInfoFetch)||void 0===e||e.cancel();var t=this.state.blog,n=this.props.appContext.features.blogCardImprovements;return this.urlInfoFetch=(0,S.Z)(this.apiHelper.getUrlInfo(this.getBlogUrl(),n).fetch()),this.urlInfoFetch.then((e=>{var n,a=e.response.content;(0,h.ej)(a)?this.setState({blog:a.blog,posts:null!==(n=a.posts)&&void 0!==n?n:null,hasAttemptedFetch:!0}):t?this.setState({posts:[],hasAttemptedFetch:!0}):this.setState(Z)}),(()=>this.setState(Z)))})),o()(this,"getBlogUrl",(()=>{var e,t;return null!==(e=null===(t=this.state.blog)||void 0===t?void 0:t.url)&&void 0!==e?e:"https://".concat(this.props.blogName,".tumblr.com")})),o()(this,"getHrefForTag",(e=>(0,C.SS)({peeprBlogname:this.props.blogName},{peeprSearchTerm:e})))}componentDidMount(){return this.state.blog&&this.state.posts?Promise.resolve():this.fetchInfo()}componentWillUnmount(){var e;null===(e=this.urlInfoFetch)||void 0===e||e.cancel()}componentDidCatch(){this.setState({hasError:!0})}render(){var e=this.state,t=e.blog,n=e.posts,a=e.hasAttemptedFetch,o=e.hasError;if(!t&&a||o)return null;if(!t)return r.createElement("div",null,r.createElement(i.Z,null),r.createElement("div",{className:A},this.props.blogName,r.createElement("div",{className:B})));var c=t.topTagsFewer,d=t.badge,u=n?!!n.length&&r.createElement("div",{className:M},n.map((e=>r.createElement(f,{key:e.id,chiclet:e,blog:t})))):r.createElement("div",{className:R},r.createElement(l.Z,{color:x().blogLinkColor,centerOrientation:l.Q.None}));return r.createElement("div",{className:N,style:(0,P.ZP)(t)},r.createElement(E.ZP.Provider,{value:this.getHrefForTag},r.createElement("div",{className:I},r.createElement(s.Z,{blog:t,hasBlogSummary:!(!c&&!d),size:y.U0.Small,hasChicletsBelow:!(null==n||!n.length)})),u))}}const D=(0,k.HJ)(O)},57597:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var a=n(43893),o=n.n(a),r=n(95394),s=n.n(r),i=n(85313),l=n.n(i),c=n(86057),d=n.n(c),u=n(95004),p=n(4777),m=n(73427),h=n(99349),g=n(57284),v=n(51742),b=n(2540),f=n(67859);const E="BSUG4";var C=["blogName","blogNetwork","children","className","cleanupRef","krakenEventName","placementId","postId","setLinkWasRecentlyClicked","krakenEventDetails"],y=["showBlogCard","ellipsisOverflow"],w=e=>{var t=e.blogName,n=e.blogNetwork,a=e.children,o=e.className,r=e.cleanupRef,i=e.krakenEventName,c=e.placementId,m=e.postId,h=e.setLinkWasRecentlyClicked,y=e.krakenEventDetails,w=d()(e,C),k=(0,p.k6)(),P=(0,p.TH)(),S=(0,g.SS)({peeprBlogname:t,peeprPostId:null==m?void 0:m.toString()}),T=S===P.pathname,x=(0,b.bp)().logEvent,N=(0,u.useCallback)((e=>{var a;i&&x({eventName:i,eventDetails:l()({placement_id:c},y)}),h(!0);var o=setTimeout((()=>h(!1)),f.drawerAnimationDurationMs+100);r.current=()=>{o&&clearTimeout(o)},e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.alt||!t||!S||T||n||(k.push(S),e.preventDefault(),null===(a=w.onClick)||void 0===a||a.call(w,e))}),[S,h]);return!w.href&&t&&(w.href="//".concat(t,".tumblr.com").concat(m?"/post/".concat(m):"")),u.createElement("a",s()({},w,{onClick:N,role:"link",className:(0,v.Z)(l()({[E]:Boolean(t)},o&&{[o]:!0}))}),a)},k=e=>{var t=e.showBlogCard,n=e.ellipsisOverflow,a=d()(e,y),r=(0,u.useState)(!1),i=o()(r,2),l=i[0],c=i[1],p=(0,u.useRef)((()=>{}));(0,u.useEffect)((()=>function(){p.current()}),[]);var g=t&&!l,v=u.createElement(w,s()({},a,{cleanupRef:p,setLinkWasRecentlyClicked:c}));return g?u.createElement(h.Z,{blogName:a.blogName||"",blog:(0,m.X)(a.blog)?a.blog:void 0,targetWrapperDisplayBlock:n},v):v};k.defaultProps={target:"_blank",rel:"noopener",showBlogCard:!0,children:null};const P=k},45342:(e,t,n)=>{"use strict";n.d(t,{T6:()=>O,CK:()=>L,ZP:()=>D});var a=n(85313),o=n.n(a),r=n(95394),s=n.n(r),i=n(95004),l=n(59319),c=n(54640),d=n(57597),u=n(81059),p=n(86625),m=n(18174),h=n(78315),g=n(51742),v=n(2540),b=n(62513),f=n.n(b);const E="Ut4iZ",C="Ro4PU",y="_ON2X",w="wmRou",k="qgKw0",P="yElCb",S="QK2Zh",T="gLEkw",x="fTJAC",N="UulOO",I="SbeG8",R="vu9JS",M="isGvB",A="veU9u",B="ZOX9S",Z="KXYTk";var L,O;!function(e){e.Light="light",e.Dark="dark",e.BlogTheme="blogTheme"}(L||(L={})),function(e){e[e.Avatar=0]="Avatar",e[e.Body=1]="Body",e[e.None=2]="None"}(O||(O={}));const D=(0,v.HJ)((function(e){var t,n,a=e.avatar,r=e.avatarShape,v=e.blogName,b=e.blogTitle,D=e.blogUrl,F=e.theme,_=e.isPrivateChannel,H=e.openInPeepr,U=void 0===H||H,z=e.isMobile,V=e.floatingButton,W=e.onClick,G=e.primary,q=e.badge,j=e.children,K=e.appContext._t,Q=e.openBlogCard,J=void 0===Q?O.None:Q,Y=e.className,X=e.following,$=void 0!==X&&X,ee=e.followingYou,te=void 0!==ee&&ee,ne=e.followingPage,ae=void 0!==ne&&ne,oe=e.followingInfoText,re=e.directLink,se=void 0!==re&&re,ie={width:12,height:12},le=_&&i.createElement("div",{className:R},i.createElement(m.Z,{size:ie,fill:F===L.Light?f().paletteGray65:f().paletteTransparentWhite65})),ce=($&&!ae||te&&ae)&&i.createElement("div",{className:M,title:oe,"aria-label":oe},i.createElement(p.Z,{size:ie,fill:f().paletteGreen})),de={blogName:v,href:D,showBlogCard:J===O.Body},ue=i.createElement("div",{className:k},i.createElement(c.Z,{name:v,dimension:37,imageResponse:a,avatarShape:r,showBlogCard:J===O.Avatar,isLink:!1}),q),pe=i.createElement("div",{className:T},i.createElement("span",{className:N},j||v)," ",le," ",ce),me=i.createElement("div",{className:x},b);return t=W||J!==O.Avatar?i.createElement("div",{className:P},ue,i.createElement("div",{className:S},pe,me)):i.createElement("div",{className:P},ue,i.createElement(d.Z,s()({className:S},de),pe,me)),n=z&&W&&!G?i.createElement(u.Z,{wrapperClassName:y,className:w,onClick:W,label:K("Expand content")},t):se?i.createElement("a",{href:D,className:w},t):U?J===O.Avatar?i.createElement(i.Fragment,null,i.createElement(d.Z,s()({className:C},de)),i.createElement("div",{className:w},t)):i.createElement(d.Z,s()({className:w},de),t):i.createElement(l.Link,{to:(0,h.vw)({blogName:v}),className:w},t),i.createElement("div",{className:(0,g.Z)(o()({[E]:!0,[A]:F===L.Light,[B]:F===L.BlogTheme,[Z]:z},Y&&{[Y]:!0}))},n,i.createElement("div",{className:I},V))}))},50755:(e,t,n)=>{"use strict";n.d(t,{x:()=>K,Z:()=>J});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(54640),c=n(81059),d=n(22123),u=n(70532),p=n(87234),m=n(40310),h=n(51742),g=n(90553),v=n(62513),b=n.n(v),f=n(2540),E=n(59319),C=n(57789),y=n(21964),w=n(61147);const k="AHkyw",P="N96N2",S="KxZIc",T="D_cxo",x="OfvnG",N="OX4Jm",I="iGp0T",R="g3qmO",M="Uyky3",A="a5mFW",B="nd0kT";var Z=e=>i.createElement("div",{className:I},i.createElement(C.Z,{count:e,style:{color:b().paletteWhite,borderColor:b().paletteWhite}}));const L=function(e){var t=e.isSelected,n=e.onListItemClick,a=e.blog,o=e.pathGenerator,r=e.isMobile,s=e.showUnreadMessagesCount,d=e.showNotificationCount,u=(0,w.B)(),p=u.rerequestPoll,m=u.unreadMessagesByBlog,g=u.notificationCountByBlog,v=e=>{p(),n(e,a)},b=()=>{var e=r?24:16,n=a.title||" ",o=(0,h.Z)({[A]:!0,[B]:!a.title});return i.createElement(i.Fragment,null,i.createElement("div",{className:N},i.createElement(l.Z,{dimension:36,imageResponse:a.avatar}),!!s&&a.mentionKey&&Z(m[a.mentionKey]),!!d&&a.uuid&&Z(g[a.uuid])),i.createElement("div",{className:R},i.createElement("div",{className:M},a.name),i.createElement("div",{className:o},n)),t&&i.createElement("div",{className:S},i.createElement(y.Z,{size:{width:e,height:e}})))},f=(0,h.Z)({[k]:!0,[x]:r});return o?i.createElement(E.Link,{className:"".concat(f," ").concat(T),onClick:v,to:{pathname:o(a),state:{selectedBlog:a}}},b()):i.createElement(c.Z,{wrapperClassName:f,className:P,onClick:v,label:a.name},b())},O="criTZ",D="ZJtsP",F="tosY3",_="QYM1E";const H=function(e){var t=e.blogs,n=e.selectedBlogName,a=e.isMobile,o=e.onListItemClick,r=e.pathGenerator,s=e.showUnreadMessagesCount,l=e.showNotificationCount,c=(0,f.bp)()._t,d=(0,h.Z)({[O]:!0,[_]:a});return i.createElement("div",{className:d},a&&i.createElement("div",{className:D},c("Blogs")),i.createElement("div",{className:F},t.map(((e,t)=>i.createElement(L,{key:t,isSelected:n===e.name,blog:e,onListItemClick:o,pathGenerator:r,isMobile:a,showUnreadMessagesCount:s,showNotificationCount:l})))))},U="zOAiO",z="lHc1y",V="gcKSf",W="h6_FZ",G="HhrsO",q="wxU_r",j="SERD7";var K;!function(e){e[e.center=0]="center",e[e.left=1]="left"}(K||(K={}));class Q extends i.Component{constructor(){super(...arguments),s()(this,"state",{isOpen:!1}),s()(this,"renderSelectorArrow",(()=>{var e;return i.createElement(u.nT,{size:{width:14,height:14},fill:null!==(e=this.props.textColor)&&void 0!==e?e:b().paletteTransparentWhite65})})),s()(this,"toggleOpen",(()=>this.setState((e=>({isOpen:!e.isOpen})),(()=>{var e,t;return null===(e=(t=this.props).onToggle)||void 0===e?void 0:e.call(t,this.state.isOpen)})))),s()(this,"onClickListItem",((e,t)=>{e.stopPropagation();var n=this.props.onClickSelectedBlog;this.toggleOpen(),null==n||n(t,e)}))}render(){var e=this.props,t=e.blogs,n=e.children;return i.createElement(m.ZP,null,(e=>{var a=e.isMobile;return 1===t.length?this.renderBlogName(a):a?i.createElement(i.Fragment,null,(null==n?void 0:n(this.toggleOpen))||this.renderSelectorElement(a),this.state.isOpen&&i.createElement(d.Z,{onGlassClick:this.toggleOpen},this.renderBlogsList(a))):i.createElement(p.ZP,{isOpen:this.state.isOpen,toggle:this.toggleOpen,width:240,height:"auto",maxHeight:300,component:this.renderBlogsList(a)},(null==n?void 0:n(this.toggleOpen))||this.renderSelectorElement(a))}))}renderSelectorElement(e){var t=this.props,n=t.avatarOnly,a=t.align,o=t.selectedBlog,r=t.showUnreadMessagesCount,s=t.showNotificationCount,l=t.appContext._c,d=(0,h.Z)({[z]:!0,[q]:a===K.left});return i.createElement(c.Z,{label:l("Variable is blog name","Select a blog. Current selection is %1$s",o.name),onClick:this.toggleOpen,wrapperClassName:U,className:d},this.renderAvatar(),!n&&this.renderBlogName(e),!n&&this.renderSelectorArrow(),r&&this.renderMessagingBadge(),s&&this.renderActivityBadge())}renderMessagingBadge(){var e=this.props,t=e.selectedBlog.mentionKey,n=e.pollerContext,a=n.unreadMessagesCount,o=n.unreadMessagesByBlog;return this.renderBadge(a,o,t)}renderActivityBadge(){var e=this.props,t=e.selectedBlog.uuid,n=e.pollerContext,a=n.notificationCount,o=n.notificationCountByBlog;return this.renderBadge(a,o,t)}renderBadge(e,t,n){var a=n&&t[n]&&1===Object.keys(t).length;return e&&!a?i.createElement("div",{className:j}):null}renderAvatar(){var e=this.props,t=e.selectedBlog,n=e.avatarDimension;return e.displayAvatar&&n&&i.createElement(l.Z,{dimension:n,imageResponse:t.avatar})}renderBlogName(e){var t=this.props,n=t.selectedBlog,a=t.displayAvatar,r=t.maxTextWidth,s=t.textColor,l=(0,h.Z)({[V]:!0,[G]:a,[W]:e});return i.createElement("div",{className:l,style:o()({maxWidth:r},s&&{color:s})},n.name)}renderBlogsList(e){var t=this.props,n=t.selectedBlog,a=t.pathGenerator,o=t.blogs,r=t.showUnreadMessagesCount,s=t.showNotificationCount;return i.createElement(H,{blogs:o,selectedBlogName:n.name,onListItemClick:this.onClickListItem,pathGenerator:a,isMobile:e,showUnreadMessagesCount:r,showNotificationCount:s})}}s()(Q,"defaultProps",{avatarOnly:!1,avatarDimension:25,align:K.center,caretColor:b().paletteTransparentWhite65});const J=(0,g.X9)(Q,{appContext:!0,pollerContext:!0})},81888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var a=n(92969),o=n.n(a),r=n(95004),s=n(81059),i=n(97187),l=n(3575),c=n(51742),d=n(2540),u=n(51798),p=n(62513),m=n.n(p);const h="a15fm",g="yEDB7",v="AcdUU",b="cy7cN",f="TZT6X",E="mjAxW",C="UxSwc",y="yufeI",w="coTyK";class k extends r.Component{constructor(){super(...arguments),o()(this,"state",{oversized:!1}),o()(this,"setElement",(e=>this.element=e)),o()(this,"expand",(()=>{var e;return this.setState({expandedSize:void 0===this.state.expandedSize?null===(e=this.element)||void 0===e?void 0:e.scrollHeight:void 0})}))}componentDidMount(){this.element&&this.element.scrollHeight>this.element.clientHeight&&this.setState({oversized:!0})}renderExpandButton(){var e=this.props.appContext._t,t=void 0!==this.state.expandedSize,n={fill:m().blogTitleColor,size:{height:17,width:17}},a=t?r.createElement(i.mV,n):r.createElement(i.$S,n);return r.createElement(s.Z,{className:w,wrapperClassName:f,onClick:this.expand,label:e("Expand blog description")},r.createElement("div",{className:(0,c.Z)({[C]:!0,[y]:!t}),style:{}}),r.createElement("div",{className:b},a))}render(){var e=this.props,t=e.description,n=e.size,a=this.state,o=a.expandedSize,s=a.oversized,i=void 0!==o,d=(0,u.C)(t);if(0===d.length)return null;var p=(0,c.Z)({[h]:!0,[E]:n===l.U0.Medium,[g]:n===l.U0.Small,[C]:s&&n===l.U0.Small,[v]:i});return r.createElement(r.Fragment,null,r.createElement("div",{className:p,style:{maxHeight:o},ref:this.setElement},d),n!==l.U0.Small&&s?this.renderExpandButton():null)}}o()(k,"defaultProps",{size:l.U0.Big});const P=(0,d.HJ)(k)},66950:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Q});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(72368),l=n.n(i),c=n(95004),d=n(85787),u=n(57597),p=n(81059),m=n(98568),h=n(31107),g=n(2540);const v=function(e){var t=e.hasHistory,n=e.fill,a=e.size,o=e.onClick,r=e.forwardedRef,s=e.isMobile,i=(0,g.bp)()._c,l=t?i("Go back to the previous page","Return"):i("Close current popover window","Close");return c.createElement(p.Z,{style:{width:a.width},forwardedRef:r,label:l,onClick:o},t||s?c.createElement(m.Mq,{size:a,fill:n}):c.createElement(h.Z,{size:{height:.8*a.height,width:.8*a.width},fill:n}))};var b=n(46330),f=n(64945),E=n(15917),C=n(24988),y=n(18859),w=n(92316),k=n(60046),P=n(53903),S=n(8169),T=n(30716),x=n(47807),N=n(40310),I=n(78315),R=n(57284),M=n(3575),A=n(2978),B=n(93523),Z=n(36643),L=n(16439),O=n(51742),D=n(90553),F=n(67859),_=n(62513),H=n.n(_),U=n(94966),z=n(4059),V=n(28174);const W={headerContainer:"XP0zm",headerBar:"rTiqc",headerButton:"oNd7l",blogLinkWrapper:"mUv9w",displayingBlogSummary:"_Nabj",headerBarContainer:"VB0f0",headerLeftSide:"tzPEm",headerSearchContainer:"y7ux6",headerRightSide:"rcLy5",blogCardHeaderBar:"sXae7",withStretchedHeaderImage:"O0Gnc",blogLinkRecommendationWrapper:"k_NeV",blogRecommendation:"tOdXM",blogCardBlogLink:"h_uF1",blogLink:"qwIYc",blogLinkLong:"u_VQH",blogLinkShort:"Q7KVB",creatorBadge:"GNr8f",searching:"FcrUz",blogSummary:"LuSGH",blogBadge:"UBLeP"};var G={height:U.desktopHeaderBarIconWidth,width:U.desktopHeaderBarIconWidth},q={height:U.mobileHeaderBarIconWidth,width:U.mobileHeaderBarIconWidth};class j extends c.Component{constructor(){var e,t;super(...arguments),s()(this,"state",{followed:!(null===(e=this.props.blog)||void 0===e||!e.followed),canSubscribe:!(null===(t=this.props.blog)||void 0===t||!t.canSubscribe),isSearchOn:void 0!==this.props.match.params.peeprSearchTerm,lastSearchedText:""}),s()(this,"backButton",(0,c.createRef)()),s()(this,"headerBarRef",(0,c.createRef)()),s()(this,"filterMenuRef",(0,c.createRef)()),s()(this,"peeprSearchRef",(0,c.createRef)()),s()(this,"apiHelper",(0,Z.ZP)(this.props.appContext.apiFetch)),s()(this,"getLastSearchInputText",(()=>this.state.lastSearchedText)),s()(this,"getCurrentSearchInputText",(()=>{var e,t=this.props.appContext.features.tagUrlCleanup;return(0,z.qC)(null===(e=this.peeprSearchRef.current)||void 0===e?void 0:e.getSearchInputText(),t)})),s()(this,"toggleSearch",(()=>this.setState((e=>({isSearchOn:!e.isSearchOn}))))),s()(this,"openSearch",(()=>this.setState({isSearchOn:!0}))),s()(this,"returnButtonOnClick",(()=>{var e,t,n;null===(e=(t=this.props).onReturn)||void 0===e||e.call(t),null===(n=this.filterMenuRef.current)||void 0===n||n.reset()})),s()(this,"getIconSize",(e=>e?q:G)),s()(this,"renderSearchButton",(e=>c.createElement(d.ZP,{in:this.state.isSearchOn,timeout:{enter:F.inputPeeprSearchTransitionDurationInMs,exit:0}},(t=>this.renderContentFromTransitionStatus(t,e))))),s()(this,"renderContentFromTransitionStatus",((e,t)=>{var n=this.state.isSearchOn,a=this.props,o=a.blog.name,r=a.location;return c.createElement(T.ZP,{ref:this.peeprSearchRef,location:r,isOpen:n,size:this.getIconSize(t),fill:this.getHeaderColor(),onClick:this.toggleSearch,blogName:o,onTextUpdated:this.updateURL,isTransitionedIn:e===d.cn})})),s()(this,"onMessageIconClick",(()=>{var e=this.props,t=e.blog.name,n=e.appContext,a=n.getUserInfo,o=n.logEvent,r=e.messagingContext.openConversationWindow;return o({eventName:A.JE.BlogMessageIconClick}),a().then(S.$).then((e=>{var n=e.name;r({selectedBlogName:n,otherParticipantName:t})}))})),s()(this,"renderExportButton",(e=>c.createElement("div",{className:W.headerButton,key:"export"},c.createElement(b.Z,{blogUrl:this.props.blog.url,size:this.getIconSize(e),fill:this.getHeaderColor()})))),s()(this,"renderFilterButton",(e=>c.createElement("div",{className:W.headerButton,key:"filter"},c.createElement(f.ZP,{ref:this.filterMenuRef,onParamsUpdated:this.updateURL,blogUrl:this.props.blog.url,size:this.getIconSize(e),fill:this.getHeaderColor()})))),s()(this,"buildFilterPath",(()=>this.getHrefForTag(this.getCurrentSearchInputText()))),s()(this,"getHrefForTag",(e=>(0,R.SS)({peeprBlogname:this.props.blog.name},o()({peeprSearchTerm:e},this.filterMenuRef.current&&(0,B.g)(this.filterMenuRef.current.getFilterQueryParams()))))),s()(this,"updateURL",(()=>this.setState({lastSearchedText:this.getCurrentSearchInputText()},(()=>{var e=this.props,t=e.history,n=e.location;this.getCurrentSearchInputText()&&n.pathname!==this.buildFilterPath()&&t.push(this.buildFilterPath())})))),s()(this,"onFollow",((e,t)=>(this.setState({followed:t}),this.apiHelper.getBlogInfo(e,(0,L.n9)([M.lM.canSubscribe])).fetch((e=>{var t=e.response.blog.canSubscribe;this.setState({canSubscribe:!!t})}))))),s()(this,"getHeaderColor",(()=>this.isHeaderImageStretched()?H().white:H().blogContrastingLinkColor))}componentDidMount(){this.props.match.params.peeprSearchTerm&&this.setState({isSearchOn:!0})}componentDidUpdate(e){var t,n=this.props,a=n.onReturn,o=n.blog;a&&!e.onReturn&&(null===(t=this.backButton.current)||void 0===t||t.focus());o&&!e.blog&&this.setState({followed:!!o.followed,canSubscribe:!!o.canSubscribe})}render(){var e=this.props,t=e.blog,n=e.blogSummary,a=void 0===n?{}:n,o=e.isBlogCardHeader,r=e.isMembershipsView,s=e.appContext,i=s._t,d=s.isLoggedIn,u=s.wwwBaseUrl,p=this.state.isSearchOn,m=!o&&!r,h=a.topTagsFewer,g=void 0===h?[]:h,v=a.badge,b=a.badgeText,f=l()(g,2).map((e=>c.createElement(x.Z,{key:e,tagName:e}))),E=f.length>0||!!v&&v.length>0,y=c.createElement("span",{className:W.blogBadge,title:b,"aria-label":b},v),w=E&&c.createElement("div",{className:W.blogSummary,style:{color:this.getHeaderColor()}},y," ",f);return c.createElement(N.ZP,null,(e=>{var n=e.isMobile;return t?c.createElement("div",{className:(0,O.Z)({[W.headerContainer]:!0,[W.withStretchedHeaderImage]:this.isHeaderImageStretched(),[W.displayingBlogSummary]:E,[W.blogCardHeaderBar]:o,[W.searching]:m&&p}),style:{backgroundColor:this.isHeaderImageStretched()?void 0:H().blogBackgroundColor}},c.createElement("header",{className:(0,O.Z)({[W.headerBar]:!0,[W.withStretchedHeaderImage]:this.isHeaderImageStretched(),[W.blogCardHeaderBar]:o,[W.searching]:!o&&p,[W.displayingBlogSummary]:E}),ref:this.headerBarRef,"aria-label":i("%1$s's blog header",t.name),role:"banner"},this.renderReturnButton(n),!this.state.isSearchOn&&this.renderBlogUrl(),c.createElement("div",{className:W.headerSearchContainer},c.createElement("div",{className:W.headerLeftSide},m&&d&&this.renderSearchButton(n))),c.createElement("div",{className:W.headerRightSide},m&&p&&!!this.peeprSearchRef.current&&!!this.peeprSearchRef.current.getSearchInputText().length&&this.renderFilterButton(n),!o&&!n&&this.renderExportButton(n),this.renderMessageButton(n),this.renderSettingsButton(n,u),this.renderMeatballsButton(n),this.renderFollowButton(n)),m&&c.createElement(C.ZP,{hotkey:{key:C.SV.Slash,command:this.openSearch,modifiers:{[C.TE.Shift]:!0}}})),w):c.createElement("div",{className:W.headerContainer},c.createElement("header",{className:W.headerBar},this.renderReturnButton(n)))}))}renderReturnButton(e){var t=this.props,n=t.onReturn,a=t.hasHistory,o=t.blog?this.getHeaderColor():H().paletteGray40;return n?c.createElement(v,{forwardedRef:this.backButton,hasHistory:a,isMobile:e,onClick:this.returnButtonOnClick,size:this.getIconSize(e),fill:o}):null}renderBlogUrl(){var e=this.props,t=e.blog,n=e.linkToBlogNetwork,a=e.isBlogCardHeader,o=t.url,r=t.name,s=t.advertiserName,i=t.isBloglessAdvertiser,l=!(void 0!==i&&i),d=c.createElement(c.Fragment,null,c.createElement("div",{className:W.blogLinkShort},s||r)),p=c.createElement("div",{className:W.blogLinkLong},s||(0,V.T)(o)),m=null!=t&&t.recommendationReason?c.createElement("div",{className:W.blogRecommendation,style:{color:this.getHeaderColor()}},t.recommendationReason):null;return c.createElement("div",{className:W.blogLinkRecommendationWrapper},c.createElement("div",{className:(0,O.Z)({[W.blogLinkWrapper]:!0,[W.blogCardBlogLink]:a})},l?c.createElement(u.Z,{blogNetwork:n,blogName:r,className:W.blogLink,href:o,target:"_blank",rel:"noopener",style:{color:this.getHeaderColor()},showBlogCard:!1,blog:t,krakenEventName:A.JE.BlogUrlClick},d,p):c.createElement("div",{className:W.blogLink},d,p)),m)}renderMessageButton(e){var t=this.props,n=t.blog,a=n.canMessage,o=n.primary,r=t.appContext,s=r._t;return r.isLoggedIn&&!o&&a&&c.createElement(p.Z,{wrapperClassName:W.headerButton,key:"messaging",label:s("Message"),onClick:this.onMessageIconClick},c.createElement(y.Z,{size:this.getIconSize(e),filledIconFillColor:this.getHeaderColor()}))}renderMeatballsButton(e){var t=this.props,n=t.appContext.isLoggedIn,a=t.isBlogCardHeader,o=t.blog,r=o.name,s=o.url,i=o.canMessage,l=o.subscribed,d=o.ask,u=o.canSubmit,p=o.shareFollowing,m=o.isBlockedFromPrimary,h=o.analyticsUrl,g=o.advertiserName,v=o.primary,b=this.state,f=b.canSubscribe,E=b.followed;return c.createElement("div",{className:W.headerButton,key:"userInfo"},c.createElement(P.Z,{blogName:r,blogUrl:s,subscribed:l,canSubscribe:f,isBlockedFromPrimary:m,fill:this.getHeaderColor(),showFollowing:p,analyticsUrl:h,showAsk:d,showArchive:!g,renderExportItems:e,renderMessaging:a&&n&&i&&!v,renderUnfollowButton:e&&E,clickUnfollowButton:this.onFollow,clickSendAMessage:this.onMessageIconClick,showSubmission:u,icon:e&&c.createElement(k.Z,{size:{width:18,height:18},fill:this.getHeaderColor()})}))}renderSettingsButton(e,t){var n=this.props,a=n.blog,o=a.isMember,r=a.name,s=n.appContext,i=s._t;return s.isLoggedIn&&o&&c.createElement("a",{className:W.headerButton,key:"settings","aria-label":i("Settings"),role:"button",href:"".concat(t).concat((0,I.BR)({blogName:r})),target:"_blank"},c.createElement(w.Z,{size:this.getIconSize(e),fill:this.getHeaderColor()}))}renderFollowButton(e){var t=this.props,n=t.isBlogCardHeader,a=t.isPeeprHeader,o=t.hideFollowButton,r=void 0!==o&&o,s=this.props.blog,i=s.url,l=s.name,d=s.canBeFollowed,u=this.state.followed,p=this.isHeaderImageStretched()?H().black:H().blogBackgroundColor;return!r&&d&&!(e&&u)&&c.createElement(E.Z,{key:"followButton",className:(0,O.Z)([W.followButton,W.headerButton]),style:{color:e?this.getHeaderColor():p,backgroundColor:e?void 0:this.getHeaderColor()},following:u,blogName:l,blogUrl:i,onFollow:this.onFollow,isBlogCardHeader:n,isPeeprHeader:a})}isHeaderImageStretched(){var e=this.props,t=e.blog,n=e.hideHeaderImage,a=void 0!==n&&n,o=(null==t?void 0:t.theme)||{},r=o.headerStretch,s=o.showHeaderImage;return!a&&!!s&&!!r}}var K=(0,D.CN)(j,{appContext:!0,messagingContext:!0});const Q=(0,D.Iy)(K)},90780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(54640),c=n(57597),d=n(66950),u=n(84202),p=n(6957),m=n(64018),h=n(57284),g=n(61241),v=n(3575),b=n(2978),f=n(29694),E=n(51742),C=n(2540),y=n(10819),w=n(62513),k=n.n(w),P=n(94966),S=n(81888);const T={header:"o_noc",headerImage:"lk3RB",fadeIn:"_K7AO",parallax:"mvlL1",image:"qvXRI",stretched:"J_gJ7",unstretched:"f0tnQ",big:"YcN2a",medium:"buZqr",small:"lpoBh",mini:"CQSLb",headerImageBar:"_UsWg",displayingBlogSummary:"hxbVE",bottomHalf:"upBv4",slideUp:"Rtwqv",bigBottom:"OB7QQ",withoutHeader:"ExzOS",mediumBottom:"RsHu9",withUnstretchedHeaderImage:"lPoPV",withAvatar:"w6BCC",withStretchedHeaderImage:"H8ZqT",smallBottom:"CYh_b",withoutChiclets:"qlzhi",empty:"mfTK8",title:"PuQfD",withoutBlogInfo:"WEH6E",miniBottom:"fvN2v",titleOnly:"M76if",textContainer:"suPwa",textPositionsAroundImagelessHeader:"zFxHN",description:"kqFug",headerBar:"OMIlI",cover:"jRmdw",animateAvatar:"N7WwW",growAvatar:"wj3Ip",avatarBlock:"tqHEl",avatarPositioner:"w4NTf",atopHeaderImage:"zMD29",bigAvatarPositioner:"Ha6Cf",mediumAvatarPositioner:"OWShl",smallAvatarPositioner:"lZyq7",miniAvatarPositioner:"r3Q2D",avatarWrapper:"gCtaO",bigAvatar:"VZxxc",mediumAvatar:"vuPrm",smallAvatar:"WXd6m",miniAvatar:"T2iDv",square:"GP3V8",circle:"i6gsi",creatorInfo:"odpaS",withTitleOnly:"h2A17",withDescriptionOnly:"eV_lI",noTitleOrDescription:"et0DF",creatorBadge:"XosZM",creatorSupportButton:"Zigrb"};class x extends i.Component{constructor(){super(...arguments),s()(this,"prevProgression",0),s()(this,"parallaxScrollWithRequestAnimationFrame",(()=>{window.requestAnimationFrame(this.parallaxScroll)})),s()(this,"parallaxScroll",(()=>{var e=this.props,t=e.parallaxHeaderContainer,n=e.hasBlogSummary;if(t){var a=t.scrollTop;if(this.headerImageRef){var o=this.headerImageBarRef?n?this.headerImageRef.clientHeight-P.blogHeaderBarHeightWithBlogSummary:this.headerImageRef.clientHeight-P.blogHeaderBarHeight:this.headerImageRef.clientHeight,r=Math.max(1-Math.max(o-a,0)/o,0),s=Math.round(100*r)/100;if(s!==this.prevProgression){if(s<1&&a>=0&&(this.headerImageRef.style.transform="translate3d(0, ".concat(Math.ceil(a/2),"px, 0)")),this.headerImageBarRef&&(s<1?(this.headerImageRef.style.filter="blur(".concat(Math.ceil(10*s),"px)"),this.headerImageBarRef.style.opacity="0"):this.headerImageBarRef.style.opacity="1"),this.avatarRef){var i=1-Math.min(2*s,1);this.avatarRef.style.opacity="".concat(i),this.avatarRef.style.pointerEvents=i?"all":"none"}this.prevProgression=s}}}})),s()(this,"maybeRenderCreatorInfo",(()=>{if(!this.props.renderCreatorInfo)return null;var e=this.props,t=e.blog,n=t.isPaywallOn,a=t.paywallAccess,o=t.name,r=t.subscriptionPlan,s=t.theme;if(!e.appContext.features.paywallConsumption||!n||!r)return null;var l=s||{},c=l.linkColor,d=l.backgroundColor,g=l.showDescription,v=l.showTitle,b=(0,E.Z)({[T.creatorInfo]:!0,[T.withTitleOnly]:v&&!g,[T.withDescriptionOnly]:g&&!v,[T.noTitleOrDescription]:!v&&!g}),C=a&&a===f.bv.Creator,y=a&&a===f.bv.Member;return i.createElement("div",{className:b},y?i.createElement(p.ZP,{className:T.creatorSupportButton,theme:p.tl.Border,size:p.jf.EntireWidth,textColor:c,backgroundColor:c,href:(0,h.SS)({peeprBlogname:o},void 0,{isSupport:!0})},i.createElement(u.Z,{fill:c,size:{width:20,height:20}}),i.createElement(m.ZP,{comment:"This is a link to the creator profile"},"Supporting")):C?null:i.createElement(p.ZP,{className:T.creatorSupportButton,theme:p.tl.Default,size:p.jf.EntireWidth,textColor:d,backgroundColor:c,href:(0,h.SS)({peeprBlogname:o},void 0,{isSupport:!0}),onClick:this.logSupportClick},i.createElement(u.Z,{fill:d,size:{width:20,height:20}}),i.createElement(m.ZP,{comment:"This is a link/call to action for supporting a creator."},"Support")))})),s()(this,"setHeaderImageRef",(e=>this.headerImageRef=e)),s()(this,"setHeaderImageBarRef",(e=>this.headerImageBarRef=e)),s()(this,"setAvatarRef",(e=>this.avatarRef=e)),s()(this,"logSupportClick",(()=>{this.props.appContext.logEvent({eventName:b.JE.PostpSupportTap,eventDetails:{source:f.Xh.Peepr}})}))}componentDidMount(){this.attachParallaxScrollListener()}componentDidUpdate(e){var t;this.props.parallaxHeaderContainer!==e.parallaxHeaderContainer&&null!==(t=this.props.blog.theme)&&void 0!==t&&t.showHeaderImage&&(e.parallaxHeaderContainer&&this.removeParallaxScrollListener(e.parallaxHeaderContainer),this.attachParallaxScrollListener())}componentWillUnmount(){var e;this.props.parallaxHeaderContainer&&null!==(e=this.props.blog.theme)&&void 0!==e&&e.showHeaderImage&&this.removeParallaxScrollListener(this.props.parallaxHeaderContainer)}removeParallaxScrollListener(e){e.removeEventListener("scroll",this.parallaxScrollWithRequestAnimationFrame,{passive:!0})}attachParallaxScrollListener(){var e;this.props.parallaxHeaderContainer&&null!==(e=this.props.blog.theme)&&void 0!==e&&e.showHeaderImage&&(this.props.parallaxHeaderContainer.addEventListener("scroll",this.parallaxScrollWithRequestAnimationFrame,{passive:!0}),this.props.parallaxHeaderContainer.classList.add(T.parallaxContainer))}render(){var e=this.props,t=e.parallaxHeaderContainer,n=e.blog,a=e.hasBlogSummary,r=e.size,s=e.hasChicletsBelow,u=e.linkToBlogNetwork,p=e.hideHeaderBar,m=e.hideBlogInfo,h=n.theme,f=n.name,C=n.avatar,w=n.title,x=n.descriptionNpf,N=n.secondsSinceLastActivity,I=void 0===N?999999:N,R=n.topTagsFewer,M=n.badge,A=n.badgeText,B=h||{},Z=B.showAvatar,L=B.showHeaderImage,O=B.showTitle,D=B.showDescription,F=B.headerImageScaled,_=B.headerImageFocused,H=B.headerStretch,U=B.avatarShape,z=B.titleFont,V=B.titleFontWeight,W=void 0!==t,G=null;if(L){var q=i.createElement("img",{src:H?_:F,className:T.image,alt:w,ref:this.setHeaderImageRef,loading:"lazy"}),j=(0,E.Z)({[T.headerImage]:!0,[T.parallax]:!!t,[T.stretched]:H,[T.unstretched]:!H,[T[r]]:!0}),K=!!H&&!!W&&i.createElement("div",{ref:this.setHeaderImageBarRef,className:(0,E.Z)({[T.headerImageBar]:!0,[T.medium]:r===v.U0.Medium,[T.displayingBlogSummary]:a})},i.createElement("img",{src:_,className:T.image,role:"presentation"}));G=i.createElement(i.Fragment,null,i.createElement(c.Z,{className:j,blogName:f,showBlogCard:!1,blogNetwork:u,krakenEventName:b.JE.BlogHeaderLinkClick},q),K)}var Q=(0,E.Z)({[T.avatarPositioner]:!0,[T.atopHeaderImage]:L,[T["".concat(r,"AvatarPositioner")]]:!0}),J=(0,E.Z)({[T.avatarWrapper]:!0,[T.animateAvatar]:!0,[T.circle]:U===g.o.Circle,[T.square]:U!==g.o.Circle,[T["".concat(r,"Avatar")]]:!0}),Y=r===v.U0.Small?P.desktopPostAvatarSize:r===v.U0.Mini?P.miniBlogCardAvatarSize:P.peeprAvatarSize,X=Z&&i.createElement(c.Z,{className:T.avatarBlock,blogName:f,showBlogCard:!1,blogNetwork:u,krakenEventName:b.JE.BlogAvatarLinkClick},i.createElement("div",{className:Q},i.createElement("div",{className:J,ref:this.setAvatarRef},i.createElement(l.Z,{avatarShape:U,imageResponse:C,dimension:Y,isOnline:(0,y.k)(I),bigStatusIndicator:!0})))),$={fontFamily:"'".concat(z,"'"),fontWeight:"bold"===V?"bold":"normal",color:k().blogTitleColor},ee=O&&(r===v.U0.Mini?i.createElement(c.Z,{blogName:f,showBlogCard:!1,className:T.title,style:$,krakenEventName:b.JE.BlogTitleLinkClick},w):i.createElement("h1",{className:T.title,style:$},w)),te=D&&x&&i.createElement("div",{className:T.description},i.createElement(S.Z,{description:x,size:r})),ne=(0,E.Z)({[T.bottomHalf]:!0,[T.withAvatar]:Z,[T.withoutHeader]:!L,[T.withoutBlogInfo]:m,[T.withStretchedHeaderImage]:L&&H,[T.withUnstretchedHeaderImage]:L&&!H,[T.empty]:!Z&&!D&&!O,[T.titleOnly]:!D&&O,[T["".concat(r,"Bottom")]]:!0,[T.withoutChiclets]:!1===s}),ae=ee||te?i.createElement("div",{className:(0,E.Z)({[T.textContainer]:!0,[T.textPositionsAroundImagelessHeader]:!p&&!L})},ee,te,this.maybeRenderCreatorInfo()):this.maybeRenderCreatorInfo(),oe=a?{blogSummary:{topTagsFewer:R,badge:M,badgeText:A}}:{},re=i.createElement("div",{className:ne},L&&W&&i.createElement("div",{className:T.cover}),!p&&i.createElement("div",{className:T.headerBar},i.createElement(d.ZP,o()({blog:n,isBlogCardHeader:!0},oe))),X,!m&&ae);return i.createElement(i.Fragment,null,G,re)}}s()(x,"defaultProps",{size:v.U0.Big});const N=(0,C.HJ)(x)},28174:(e,t,n)=>{"use strict";function a(e){var t=e.match(/(https?:\/\/)?([^/]+)/i);return t?t[2]:e}n.d(t,{T:()=>a})},16755:(e,t,n)=>{"use strict";n.d(t,{E2:()=>v,ZP:()=>f});var a,o=n(85313),r=n.n(o),s=n(92969),i=n.n(s),l=n(58665),c=n.n(l),d=n(91377),u=n.n(d),p=n(95004),m=n(36643),h=n(2540),g=n(54596);!function(e){e.Posts="posts",e.Queue="queue",e.Drafts="drafts",e.Messages="messages"}(a||(a={}));var v={[a.Posts]:0,[a.Queue]:0,[a.Drafts]:0,[a.Messages]:0};class b extends p.Component{constructor(){super(...arguments),i()(this,"state",{countsByBlog:{}}),i()(this,"apiHelper",(0,m.ZP)(this.props.appContext.apiFetch)),i()(this,"getContextValue",(e=>({countsByBlog:e.countsByBlog,refreshCounts:this.refreshCounts}))),i()(this,"memoizeResolver",(e=>{var t=e.countsByBlog;return JSON.stringify(t)})),i()(this,"getMemoizedContextValue",u()(this.getContextValue,this.memoizeResolver)),i()(this,"refreshCounts",(()=>{this.apiHelper.getBlogPostCounts().fetch((e=>{var t=e.blog_post_counts,n=this.state.countsByBlog,a={};Object.keys(n).forEach((e=>{a[e]=r()(r()({},n[e]),t[e])})),this.setState({countsByBlog:a})})).catch(c())})),i()(this,"getCountsBlogFromResponse",(e=>e.blogs.reduce(((e,t)=>{var n=t.uuid,o=t.posts,r=t.queue,s=t.drafts,i=t.messages;return n?(e.countsByBlog[n]={[a.Posts]:o||0,[a.Queue]:r||0,[a.Drafts]:s||0,[a.Messages]:i||0},e):e}),{countsByBlog:{}})))}componentDidMount(){return this.props.appContext.getUserInfo().then((e=>{null!=e&&e.blogs&&this.setState(this.getCountsBlogFromResponse(e))}))}render(){return p.createElement(g.e.Provider,{value:this.getMemoizedContextValue(this.state)},this.props.children)}}const f=(0,h.HJ)(b)},4869:(e,t,n)=>{"use strict";n.d(t,{j:()=>o,S:()=>r});var a=(0,n(95004).createContext)(void 0),o=a.Provider,r=a.Consumer},38022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(43893),o=n.n(a),r=n(95004),s=n(80630),i=n(62513),l=(0,s.qv)(r.createElement("svg",{viewBox:"0 0 24 20.5"},r.createElement("path",{d:"M19.9 6.8c.9 0 1.6-.7 1.6-1.6 0-.9-.7-1.6-1.6-1.6-.9 0-1.6.7-1.6 1.6 0 .9.7 1.6 1.6 1.6zm0-.7c-.5 0-.8-.4-.8-.8s.4-.8.8-.8c.5 0 .8.4.8.8s-.4.8-.8.8z"}),r.createElement("path",{d:"M20.5 20.5h-17C1.6 20.5 0 18.9 0 17V4.8c0-1.9 1.6-3.5 3.5-3.5h4.4L8.5 0h7.2l.7 1.3h4.1c1.9 0 3.5 1.6 3.5 3.5V17c0 1.9-1.6 3.5-3.5 3.5zM3.5 2.2C2.1 2.2.9 3.4.9 4.8V17c0 1.4 1.2 2.6 2.6 2.6h17c1.4 0 2.6-1.2 2.6-2.6V4.8c0-1.4-1.2-2.6-2.6-2.6h-4.7L15.1.9h-6l-.7 1.3H3.5z"}),r.createElement("path",{d:"M12.1 17c3.4 0 6.1-2.7 6.2-6.1 0-3.4-2.7-6.1-6.1-6.2S6 7.5 6 10.8c0 3.5 2.7 6.2 6.1 6.2zm0 .8c-3.8 0-6.9-3.1-6.9-6.9C5.2 7.1 8.3 4 12.1 4c3.8 0 6.9 3.1 6.9 6.9 0 3.8-3.1 6.8-6.9 6.9z"}),r.createElement("path",{d:"M11.5 12.8h1.1v1.1h-1.1v-1.1zm1.1-5v1.8l-.3 2.6h-.5l-.3-2.6V7.8h1.1z"})));l.defaultProps={size:{width:24,height:21},fill:i.white};const c=l;var d=n(22909),u=n(40310),p=n(2540);const m={wrapper:"jSD2t",info:"eIMCU",overlay:"ZRf8S"};const h=e=>{var t=(0,r.useState)(!0),n=o()(t,2),a=n[0],s=n[1],i=(0,p.bp)()._t,l=(0,u.v$)().isMobile;if(a){var h=i(l?"Blurred because you don't follow this Tumblr yet. Tap to reveal.":"Blurred because you don't follow this Tumblr yet. Click to reveal.");return r.createElement("div",{className:m.wrapper,onClick:e=>{e.stopPropagation(),s(!1)},role:"button"},r.createElement("div",{className:m.imageWrapper},r.createElement(d.Z,e)),r.createElement("div",{className:m.overlay}),r.createElement("div",{className:m.info},r.createElement(c,{size:{width:50,height:50}}),r.createElement("p",null,h)))}return r.createElement(d.Z,e)}},55060:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(95004);const o=function(e){var t=e.backgroundColor,n=e.overflow,o=[];t&&o.push("background-color: ".concat(t,";")),n&&o.push("overflow: ".concat(n,";"));var r="body { ".concat(o.join("")," }");return a.createElement("style",null,r)}},14431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,C:()=>b});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(6957),c=n(51742),d=n(62513);const u="M4ozn",p="XfV8d";var m,h=["label","text","buttonStyle","className"];!function(e){e.Confirm="confirm",e.Cancel="cancel",e.Danger="danger",e.Neutral="neutral"}(m||(m={}));var g={[m.Confirm]:d.paletteAccent,[m.Danger]:d.paletteRed,[m.Cancel]:d.paletteGray40,[m.Neutral]:d.paletteGray40},v={[m.Confirm]:d.paletteNavy,[m.Danger]:d.paletteTransparentWhite87,[m.Cancel]:d.paletteTransparentWhite87,[m.Neutral]:d.paletteWhite};const b=e=>{var t=e.buttons,n=e.className;return i.createElement("div",{className:(0,c.Z)([u,n])},t.map(((e,t)=>{var n=e.label,a=e.text,r=e.buttonStyle,d=e.className,u=s()(e,h);return i.createElement(l.ZP,o()({key:t,backgroundColor:g[r],textColor:v[r],disabledBackgroundColor:g[r],disabledTextColor:v[r],disabledTheme:l.tl.Default,wrapperClassName:(0,c.Z)([p,d]),label:n||("string"==typeof a?a:"")},u),a)})))}},81059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(51742);const c="TRX6J",d="EvhBA";var u=["children","label","className","wrapperClassName","style","wrapperStyle","forwardedRef"];const p=function(e){var t=e.children,n=e.label,a=e.className,r=e.wrapperClassName,p=e.style,m=e.wrapperStyle,h=e.forwardedRef,g=s()(e,u);return i.createElement("button",o()({ref:h,className:(0,l.Z)([c,r]),"aria-label":n,style:m},g),i.createElement("span",{className:(0,l.Z)([d,a]),style:p,tabIndex:-1},t))}},17934:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var a=n(92969),o=n.n(a),r=n(95004),s=n(38678),i=n(81059),l=n(80630),c=n(62513),d=e=>r.createElement("svg",{viewBox:"0 0 31 50",style:{transform:"rotate(".concat(e,"deg)")}},r.createElement("path",{d:"M28.6 26.3c-.3 0-.7-.1-1-.4L1 3.1C.4 2.6.3 1.6.8 1 1.3.4 2.3.3 2.9.8l26.6 22.8c.6.5.7 1.5.2 2.1-.3.4-.7.6-1.1.6z"}),r.createElement("path",{d:"M2 49.5c-.4 0-.8-.2-1.1-.5-.5-.6-.5-1.6.2-2.1l26.6-22.8c.6-.5 1.6-.5 2.1.2.5.6.5 1.6-.2 2.1L3 49.2c-.3.2-.7.3-1 .3z"})),u=(0,l.qv)(d(180)),p=(0,l.qv)(d(0));[p,u].forEach((e=>e.defaultProps={size:{width:31,height:50},fill:c.white}));var m=n(2978),h=n(51742),g=n(2540),v=n(67859);const b="xXVDM",f="BQiWl",E="EvNuu",C="w9aO4",y="YL2V0",w="DeYmO",k="uFGNN",P="EwcDy",S="Ld7nr";class T extends r.Component{constructor(){super(...arguments),o()(this,"state",{currentItemIndex:0}),o()(this,"increment",(()=>{var e=this.props.items.length-1;this.state.currentItemIndex===e&&this.quickWiggle("left"),this.props.appContext.logEvent({eventName:m.JE.CarouselSlide,eventDetails:this.props.krakenEventDetails||{}}),this.setState({currentItemIndex:Math.min(this.state.currentItemIndex+1,e)})})),o()(this,"decrement",(()=>{0===this.state.currentItemIndex&&this.quickWiggle("right"),this.props.appContext.logEvent({eventName:m.JE.CarouselSlide,eventDetails:this.props.krakenEventDetails||{}}),this.setState({currentItemIndex:Math.max(0,this.state.currentItemIndex-1)})})),o()(this,"focusOnItem",(e=>{e>=0&&e<this.props.items.length&&this.setState({currentItemIndex:e})})),o()(this,"getFocusOnItem",(e=>()=>this.focusOnItem(e))),o()(this,"handleIntersectionChange",(e=>{e&&this.quickWiggle("left")}))}quickWiggle(e){var t=100*this.state.currentItemIndex*-1;"left"===e?this.setState({temporaryTransformX:"".concat(t-20,"%")}):this.setState({temporaryTransformX:"".concat(t+20,"%")}),clearTimeout(this.wiggleTimeout),this.wiggleTimeout=window.setTimeout((()=>{this.setState({temporaryTransformX:void 0})}),v.carouselSlideMoveTransitionTimeMs/2)}render(){var e=this.props,t=e.items,n=e.appContext._t,a=e.hideIndicator,o=e.hideArrowIfLast,l=e.arrowProps,c=e.className,d=e.carouselItemClassName,m=e.alwaysShowArrow,g=this.state,v=g.currentItemIndex,k=g.temporaryTransformX;if(1===t.length)return t;var P=k||"-".concat(v,"00%"),S={transform:"translate3d(".concat(P,", 0, 0)")};return r.createElement(s.df,{className:(0,h.Z)([b,c]),onChange:this.handleIntersectionChange,threshold:.9,triggerOnce:!0},r.createElement("div",{className:f,style:S},t.map(((e,t)=>r.createElement("div",{className:(0,h.Z)([E,d]),key:"item-".concat(t),onFocus:this.getFocusOnItem(t)},e)))),(!o||0!==v)&&r.createElement(i.Z,{wrapperClassName:(0,h.Z)({[C]:!0,[w]:m}),label:n("Previous"),onClick:this.decrement,tabIndex:-1},r.createElement(u,l)),(!o||v<t.length-1)&&r.createElement(i.Z,{wrapperClassName:(0,h.Z)({[y]:!0,[w]:m}),label:n("Next"),onClick:this.increment,tabIndex:-1},r.createElement(p,l)),!a&&this.renderIndicator())}renderIndicator(){var e=this.props,t=e.items,n=e.appContext._cn,a=this.state.currentItemIndex;return r.createElement("div",{className:k},t.map(((e,t)=>r.createElement(i.Z,{key:"dot-".concat(t),className:(0,h.Z)({[P]:!0,[S]:t===a}),onClick:this.getFocusOnItem(t),tabIndex:-1,label:n("Buttons that control a carousel of content - placeholder is the number slide that clicking on the button shows","Show slide %1$s","Show slide %1$s",t+1)}))))}}o()(T,"defaultProps",{hideIndicator:!1,hideArrowIfLast:!1,alwaysShowArrow:!1});const x=(0,g.HJ)(T)},30659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(92969),o=n.n(a),r=n(58665),s=n.n(r),i=n(91377),l=n.n(i),c=n(6895),d=n.n(c),u=n(95004),p=n(36078);const m={datetimePicker:"hp4db"};class h extends u.Component{constructor(){super(...arguments),o()(this,"memoGetDateStrFromDate",l()(this.getDateStrFromDate)),o()(this,"memoGet24HrTimeFromDate",l()(this.get24HrTimeFromDate)),o()(this,"state",{date:this.memoGetDateStrFromDate(this.props.initialDatetime),time:this.memoGet24HrTimeFromDate(this.props.initialDatetime)}),o()(this,"onDateChange",(e=>{var t=e.currentTarget.value;return!!t&&this.setState({date:t},this.updateDatetime)})),o()(this,"onTimeChange",(e=>this.setState({time:e.currentTarget.value},this.updateDatetime))),o()(this,"updateDatetime",(()=>{var e,t=this.state,n=t.date,a=t.time,o=this.props.onChange;if(n&&a){var r=(0,p.sg)(this.props.timezoneOffset),s=new Date("".concat(n,"T").concat(a).concat(r));this.isDateValid(s)&&(e=s)}o(e)}))}render(){var e=this.props,t=e.minDate,n=e.maxDate,a=this.state,o=a.date,r=a.time,s=this.memoGetDateStrFromDate(t),i=this.memoGetDateStrFromDate(n);return u.createElement("div",{className:m.datetimePicker},u.createElement("input",{type:"date",min:s||void 0,max:i||void 0,onChange:this.onDateChange,value:o,className:m.date}),u.createElement("input",{type:"time",onChange:this.onTimeChange,value:r,className:m.time}))}getDateStrFromDate(e){if(!e)return"";var t=d()(String(e.getMonth()+1),2,"0"),n=d()(String(e.getDate()),2,"0"),a=d()(String(e.getFullYear()),4,"0");return"".concat(a,"-").concat(t,"-").concat(n)}get24HrTimeFromDate(e){if(!e)return"";var t=d()(String(e.getHours()),2,"0"),n=d()(String(e.getMinutes()),2,"0");return"".concat(t,":").concat(n)}isDateValid(e){return!isNaN(e.getTime())}}o()(h,"defaultProps",{timezoneOffset:"",onChange:s()})},64049:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=(0,n(95004).createContext)({})},53505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,T:()=>s});var a=n(95004),o=(0,a.createContext)({isMediaDocked:!1,dockedTimelineObject:null,dockedMediaBlock:null,reparentableMediaManager:null,dock:()=>{},undock:()=>{},clearDockedInfo:()=>{},setDockedTimelineObject:()=>{},setTimelineContext:()=>{},getId:()=>"",getTimelineContext:()=>{}});const r=o;var s=()=>(0,a.useContext)(o)},49499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var a=n(85313),o=n.n(a),r=n(43893),s=n.n(r),i=n(95004),l=n(24988),c=n(87234),d=n(36643),u=n(2540),p=n(44210),m=n(30659),h=n(6957),g=n(90672),v=n(62513);const b="GSzq3";const f=e=>{var t=e.onPromote,n=new Date(Date.now()),a=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),o=(0,u.bp)(),r=o._t,l=o._c,c=(0,i.useState)(""),d=s()(c,2),p=d[0],f=d[1],E=(0,i.useState)(new Date(a+6048e5)),C=s()(E,2),y=C[0],w=C[1],k=i.useRef(null);i.useEffect((()=>{k.current.focus()}),[]);var P=(0,i.useCallback)((e=>{var t=e.target.value;return p!==t&&f(t)}),[p]),S=(0,i.useCallback)((()=>t({tags:(0,g.B)(p),endDate:null==y?void 0:y.toISOString()})),[p,y]),T=r("Promote");return i.createElement("div",{className:b},i.createElement("label",null,r("Tags"),i.createElement("input",{placeholder:l("A comma-separated list of example tags","a tag, another tag, ..."),ref:k,onChange:P,value:p})),i.createElement("label",null,r("End Date"),i.createElement(m.Z,{onChange:w,timezoneOffset:n.toString().substr(25,8),initialDatetime:y,minDate:new Date(a)})),i.createElement(h.ZP,{label:T,disabled:!p,onClick:S,theme:h.tl.Border,textColor:v.paletteBlack,backgroundColor:v.paletteGray65,disabledTextColor:v.paletteGray40,disabledBackgroundColor:v.paletteGray40},T))};var E;!function(e){e[e.Promote=0]="Promote",e[e.PromoteFor=1]="PromoteFor"}(E||(E={}));const C=e=>{var t=e.blogIdentifier,n=e.postId,a=e.isPromoted,r=e.className,m=e.onPromote,h=(0,u.bp)(),g=h.features,v=h._t,b=h.apiFetch,E=(0,i.useState)(!1),C=s()(E,2),y=C[0],w=C[1],k=(0,i.useCallback)((()=>w(!y)),[y]),P=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==m||m(n,!a),(0,d.ZP)(b).promote(t,o()(o()({},e),{},{postId:n,isUnpromote:a})).fetch().catch((()=>!!n&&(null==m?void 0:m(n,a))))}),[n,a,m]),S=(0,i.useCallback)((()=>P()),[P]);return g.promotingContentApi?i.createElement(i.Fragment,null,i.createElement(p.Z,{onClick:S,className:r},v(a?n?"I don't like this post any more":"I don't like this blog any more":n?"This post is really cool":"This blog is really cool")),!a&&i.createElement(i.Fragment,null,y&&i.createElement(l.ZP,{disable:l.z9}),i.createElement(c.ZP,{isOpen:y,toggle:k,targetStyles:{width:"100%"},height:"auto",component:i.createElement(f,{onPromote:P})},i.createElement(p.Z,{isWrappingButton:!0,keepDropdownOpenAfterClick:!0,className:r},v(n?"This post is cool for...":"This blog is cool for..."))))):null}},44210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(95004),d=n(59319),u=n(87234),p=n(23866),m=n(51742),h=n(90553);const g="v_1X3",v="egHyh",b="JtmSb";class f extends c.Component{constructor(){super(...arguments),l()(this,"onClick",(e=>t=>{var n=this.props,a=n.onClick,o=n.keepDropdownOpenAfterClick,r=this.props.appContext.logEvent;this.props.krakenEventName&&r({eventName:this.props.krakenEventName}),t.stopPropagation(),null==a||a(t),o||null==e||e.closeContainingPopover()}))}render(){var e=this.props,t=e.children,n=e.linkTo,a=e.title,r=e.className,i=e.isDisabled,l=e.isWrappingButton,h=e.alwaysExternalLink,f=e.paletteContext,E=i?-1:void 0,C=(0,m.Z)(s()(s()({},!!r&&{[r]:!0}),{},{[g]:!0,[b]:i,[v]:f.name===p.Z.ghost}));return c.createElement(u.LW.Consumer,null,(e=>{var r={title:a,tabIndex:E,className:C,onClick:i?void 0:this.onClick(e),"aria-disabled":i};return n&&!i?h||null!=n&&n.match(/^https?:\/\//)?c.createElement("a",o()({href:n,target:"_blank",rel:"noopener"},r),t):c.createElement(d.Link,o()({to:n},r),t):l?c.createElement("div",r,t):c.createElement("button",r,t)}))}}const E=(0,h.X9)(f,{appContext:!0,paletteContext:!0})},35679:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(95394),o=n.n(a),r=n(95004),s=n(22654),i=(0,r.lazy)((()=>Promise.resolve().then(n.bind(n,91085))));const l=(0,r.forwardRef)(((e,t)=>r.createElement(r.Suspense,{fallback:r.createElement(s.Z,null)},r.createElement(i,o()({ref:t},e)))))},91085:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(58665),l=n.n(i),c=n(60352),d=n.n(c),u=n(3440),p=n(29774),m=n(95004),h=n(62222),g=n(8931),v=n(36640),b=n(24907),f=n(32882);class E extends m.Component{constructor(){super(...arguments),s()(this,"state",{editorState:(0,f.rt)(this.props.compositeDecorators,this.props.initialContent),validMentionEntityKeys:new Set}),s()(this,"debouncedOnUserMightHaveChangedCaretPosition",d()((()=>this.onUserMightHaveChangedCaretPosition()),50)),s()(this,"editorCaretPositionListeners",[]),s()(this,"idGen",new b.Z),s()(this,"editorRef",(0,m.createRef)()),s()(this,"hotkeyDisablerRef",(0,m.createRef)()),s()(this,"getMemoizedContextValue",(0,p.Z)(((e,t,n,a)=>({autocompleteContainerRef:e,editorState:t,validMentionEntityKeys:n,maxMentions:a,setEditorState:this.onEditorChange,addListenerToCaretPositionChange:this.addListenerForCaretPositionChange,addTextAtSelection:this.addTextAtSelection,setMentionData:this.setMentionData,createMentionEntity:this.createMentionEntity})))),s()(this,"absolutelyMostRecentEditorState",this.state.editorState),s()(this,"absolutelyMostRecentValidMentionEntityKeys",new Set),s()(this,"getEditorState",(()=>this.state.editorState)),s()(this,"focus",(e=>{var t;if(null===(t=this.editorRef.current)||void 0===t||t.focus(),e){var n=u.EditorState.moveFocusToEnd(this.state.editorState);u.EditorState.forceSelection(n,n.getSelection()),this.onEditorChange(n)}})),s()(this,"toggleTextAttributes",(e=>this.onEditorChange((0,f.pL)(this.absolutelyMostRecentEditorState,e)))),s()(this,"addContent",((e,t)=>this.onEditorChange((0,f.tc)(this.absolutelyMostRecentEditorState,e,t)))),s()(this,"addTextAtSelection",((e,t)=>this.onEditorChange((0,f.jB)({textToAdd:e,selection:t,editorState:this.absolutelyMostRecentEditorState})))),s()(this,"clearEditorContent",(()=>this.addTextAtSelection("",(0,f.rx)(this.absolutelyMostRecentEditorState)))),s()(this,"refreshEditor",(()=>{this.setState({editorState:(0,f.rt)(this.props.compositeDecorators,this.props.initialContent)})})),s()(this,"handleReturn",(e=>{var t,n=this.state.editorState,a=this.props,o=a.submitForm,r=a.submitFormModifier,s=a.handleReturn;if(!0===e.shiftKey){var i=(0,f.SN)(n);return this.onEditorChange(i),g.v2.HANDLED}return s?(s(e),g.v2.HANDLED):o&&r&&e[r]?(e.preventDefault(),o(e),g.v2.HANDLED):o&&!r?(null!==(t=this.hotkeyDisablerRef.current)&&void 0!==t&&t.isEnterAsSubmitDisabled()||(e.preventDefault(),o(e)),g.v2.HANDLED):g.v2.NOTHANDLED})),s()(this,"handlePastedText",(e=>{var t=this.props,n=t.handlePastedText,a=t.maxTextLength,o=this.state.editorState;if(n){var r=n(e,this.absolutelyMostRecentEditorState),s=r.isHandled,i=r.nextEditorState;if(s)return i&&this.onEditorChange(i),g.v2.HANDLED}if(a){var l=this.state.editorState.getCurrentContent().getPlainText().length,c=(0,f.d5)(o);if(l-c+e.length>a){var d=a-l+c;return d&&this.addTextAtSelection(e.substr(0,d),o.getSelection()),g.v2.HANDLED}}return g.v2.NOTHANDLED})),s()(this,"handleBeforeInput",(e=>{var t=this.props,n=t.handleBeforeInput,a=t.maxTextLength,o=this.state.editorState.getCurrentContent().getPlainText().length+e.length,r=(0,f.d5)(this.state.editorState);if(a&&a<o-r)return g.v2.HANDLED;if(n){var s=n(e,this.absolutelyMostRecentEditorState),i=s.isHandled,l=s.nextEditorState;if(i)return l&&this.onEditorChange(l),g.v2.HANDLED}return g.v2.NOTHANDLED})),s()(this,"handlePastedFiles",(()=>g.v2.HANDLED)),s()(this,"onUserMightHaveChangedCaretPosition",(()=>{this.state.editorState.getSelection().isCollapsed()&&this.editorCaretPositionListeners.forEach((e=>(0,e.listener)()))})),s()(this,"onEditorChange",(e=>{this.absolutelyMostRecentEditorState=e,this.setState({editorState:e,validMentionEntityKeys:this.absolutelyMostRecentValidMentionEntityKeys},(()=>{var t,n,a,o,r;null===(t=(n=this.props).onEditorChange)||void 0===t||t.call(n,e),null===(a=(o=this.props).onEditorChangeText)||void 0===a||a.call(o,null===(r=e.getCurrentContent)||void 0===r?void 0:r.call(e).getPlainText()),this.debouncedOnUserMightHaveChangedCaretPosition()}))})),s()(this,"addListenerForCaretPositionChange",(e=>{var t=this.idGen.next();return this.editorCaretPositionListeners.push({id:t,listener:e}),()=>this.removeListenerForCaretPositionChange(t)})),s()(this,"removeListenerForCaretPositionChange",(e=>this.editorCaretPositionListeners=this.editorCaretPositionListeners.filter((t=>t.id!==e)))),s()(this,"createMentionEntity",(e=>this.onEditorChange((0,f.s6)(this.absolutelyMostRecentEditorState,e)))),s()(this,"setMentionData",((e,t)=>{var n=this.absolutelyMostRecentValidMentionEntityKeys;if(!t||n.has(e)||n.size<this.props.maxMentions){var a=(0,f.rn)(this.absolutelyMostRecentEditorState,e,{blog:t});a!==this.absolutelyMostRecentEditorState&&(t?n.add(e):n.delete(e),this.onEditorChange(a))}}))}componentDidMount(){window.addEventListener("editorrefresh",this.refreshEditor)}componentWillUnmount(){window.removeEventListener("editorrefresh",this.refreshEditor)}render(){var e=this.props,t=e.editorKey,n=e.placeholder,a=e.autocompleteContainerRef,r=e.blockRenderMap,s=e.blockStyleFn,i=e.readOnly,l=e.spellCheck,c=e.maxMentions,d=this.state,p=d.editorState,g=d.validMentionEntityKeys;return m.createElement(v.u.Provider,{value:this.getMemoizedContextValue(a,p,g,c)},m.createElement(h.Z,{forwardedRef:this.hotkeyDisablerRef,shouldRenderHotkeyBlocker:p.getSelection().getHasFocus()},m.createElement(u.Editor,o()({ref:this.editorRef,editorKey:t,editorState:p,spellCheck:l,placeholder:n,blockRenderMap:r,blockStyleFn:s,customStyleFn:f.Ne,onChange:this.onEditorChange,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,readOnly:i},{preserveSelectionOnBlur:!0}))))}}s()(E,"defaultProps",{editorKey:"",placeholder:"",maxMentions:50,compositeDecorators:{},onEditorChange:l(),readOnly:!1,spellCheck:!0})},40774:(e,t,n)=>{"use strict";n.d(t,{c:()=>_,wu:()=>U,IN:()=>Z,OR:()=>L});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(3440),d=n(95004),u=n(38678),p=n(20708),m=n(40310),h=n(36643),g=n(51742),v=n(2540),b=n(36640),f=n(80261),E=n(54640),C=n(81059);const y="rABXu",w="QYmLT",k="J8d0e",P="V3CBg",S="vxzhC",T="BndmE",x="USi3y",N="fFIVA",I="keQHQ";class R extends d.Component{constructor(){super(...arguments),l()(this,"renderBlogname",(()=>{var e=this.props,t=e.suggestion.name,n=e.searchText.length;return d.createElement("div",{className:T},d.createElement("span",{className:N},t.substr(0,n)),t.substr(n))})),l()(this,"renderBlogTitle",(()=>{var e=this.props.suggestion;return d.createElement("div",{className:(0,g.Z)({[x]:!0,[I]:!e.title})},e.title||" "," ")})),l()(this,"renderAvatar",(()=>d.createElement(E.Z,{dimension:L,imageResponse:[{url:this.props.suggestion.avatarUrl,width:L,height:L}]}))),l()(this,"onClick",(e=>{e.stopPropagation(),this.props.onSelection(this.props.suggestion)})),l()(this,"onSoftSelection",(()=>{var e,t;return null===(e=(t=this.props).onSoftSelection)||void 0===e?void 0:e.call(t,this.props.suggestion)})),l()(this,"onSoftSelectNothing",(()=>{var e,t;return null===(e=(t=this.props).onSoftSelection)||void 0===e?void 0:e.call(t,null)}))}render(){var e=this.props,t=e.suggestion,n=e.isSelected;return d.createElement(m.ZP,null,(e=>{var a=e.isMobile;return d.createElement(C.Z,{wrapperClassName:(0,g.Z)({[y]:!0,[w]:n,[P]:a}),className:k,onClick:this.onClick,onFocus:this.onSoftSelection,onMouseEnter:this.onSoftSelection,onMouseLeave:this.onSoftSelectNothing,label:t.name},a&&this.renderAvatar(),d.createElement("div",{className:S},this.renderBlogname(),!a&&this.renderBlogTitle()),!a&&this.renderAvatar())}))}}const M="cOYwp",A="G0CLQ",B="sN1R8";var Z="@",L=36,O={isShowingSuggestions:!1};class D extends d.Component{constructor(){super(...arguments),l()(this,"state",{isShowingSuggestions:!1,suggestedMentionBlogs:[],justSelectedSuggestion:!1}),l()(this,"apiHelper",(0,h.ZP)(this.props.appContext.apiFetch)),l()(this,"removeCaretPositionListener",null),l()(this,"mentionValidityFetchInProgress",null),l()(this,"suggestedMentionsFetchInProgress",null),l()(this,"getSearchTextFromSuggestion",(e=>(null==e?void 0:e.name)||"")),l()(this,"renderSuggestion",(e=>d.createElement(R,e))),l()(this,"renderEmptySuggestions",(()=>this.state.haveFetchedSuggestions&&d.createElement("div",{className:B,style:{lineHeight:"".concat(L,"px")}},this.props.appContext._t("No blogs found")))),l()(this,"onCloseAutocomplete",(()=>this.updateMentionBlog(null))),l()(this,"updateMentionBlog",(e=>{var t=this.props,n=t.decoratedText,a=t.editorStateContext.addTextAtSelection,o=!!e&&n!=="".concat(Z).concat(e.name);this.setState(s()(s()({},O),{},{justSelectedSuggestion:o}),(()=>{e&&(this.setMentionData(e),o&&a(e.name,this.getSelectionForDecoratedText(!0)))}))})),l()(this,"updateIsShowingSuggestions",(()=>{var e=this.state,t=e.justSelectedSuggestion,n=e.isShowingSuggestions,a=this.props.editorStateContext.editorState.getSelection(),o=this.doesSelectionHaveFocus(a)&&this.isSelectionInMentionRange(a),r=n||!o||t?n&&!o?O:{}:{isShowingSuggestions:!0};this.setState(s()(s()({},r),{},{justSelectedSuggestion:!1}))})),l()(this,"doesSelectionHaveFocus",(e=>e.getHasFocus())),l()(this,"isSelectionInMentionRange",(e=>{var t=this.props,n=t.start,a=t.end,o=t.blockKey;if(!(t.editorStateContext.editorState.getCurrentContent().getBlockForKey(e.getAnchorKey()).getKey()===o))return!1;var r=e.getAnchorOffset();return r>=n+Z.length&&r<=a})),l()(this,"getSelectionForDecoratedText",(e=>{var t=this.props,n=t.start,a=t.end,o=t.blockKey;return new c.SelectionState({anchorKey:o,focusKey:o,anchorOffset:n+(e?Z.length:0),focusOffset:a})})),l()(this,"isValidMention",(()=>this.props.editorStateContext.validMentionEntityKeys.has(this.props.entityKey))),l()(this,"updateMentionData",(()=>{var e;null===(e=this.mentionValidityFetchInProgress)||void 0===e||e.cancel();var t=this.getBlognameFromDecoratedText();return t.length?(this.mentionValidityFetchInProgress=(0,f.Z)(this.apiHelper.getMentionSuggestions(t).fetch()),this.mentionValidityFetchInProgress.then((e=>{var n=e.response.blogs,a=null==n?void 0:n.filter((e=>e.name===t))[0];this.setMentionData(a)}),(()=>this.setMentionData(null))),this.mentionValidityFetchInProgress):(this.setMentionData(null),Promise.resolve())})),l()(this,"setMentionData",(e=>{var t=this.props,n=t.entityKey;(0,t.editorStateContext.setMentionData)(n,e)})),l()(this,"updateSuggestedMentionBlogs",(()=>{var e;return null===(e=this.suggestedMentionsFetchInProgress)||void 0===e||e.cancel(),this.suggestedMentionsFetchInProgress=(0,f.Z)(this.apiHelper.getMentionSuggestions(this.getBlognameFromDecoratedText()).fetch()),this.suggestedMentionsFetchInProgress.then((e=>{var t=e.response;return this.setState({suggestedMentionBlogs:t.blogs,haveFetchedSuggestions:!0})}),(()=>this.setState({suggestedMentionBlogs:[],haveFetchedSuggestions:!0})))})),l()(this,"cancelInProgressFetches",(()=>{var e,t;null===(e=this.suggestedMentionsFetchInProgress)||void 0===e||e.cancel(),null===(t=this.mentionValidityFetchInProgress)||void 0===t||t.cancel()})),l()(this,"getBlognameFromDecoratedText",(()=>this.props.decoratedText.substr(Z.length)))}componentDidMount(){var e=this.props.editorStateContext.addListenerToCaretPositionChange;return this.setIdentifyingKeys(),this.removeCaretPositionListener=e(this.updateIsShowingSuggestions),Promise.all([this.updateSuggestedMentionBlogs(),this.updateMentionData()])}componentDidUpdate(e,t){var n=this.props.decoratedText;return Promise.all([e&&e.decoratedText!==n?this.updateSuggestedMentionBlogs():Promise.resolve(),this.shouldUpdateMentionData(e,t)?this.updateMentionData():Promise.resolve()])}shouldUpdateMentionData(e,t){var n=this.state,a=n.isShowingSuggestions,o=n.justSelectedSuggestion,r=this.props.editorStateContext,s=r.validMentionEntityKeys,i=r.maxMentions;return!a&&!o&&s.size<=i&&(!0===(null==t?void 0:t.isShowingSuggestions)||!this.isValidMention()&&(null==e?void 0:e.editorStateContext.validMentionEntityKeys.size)!==s.size)}componentWillUnmount(){var e;null===(e=this.removeCaretPositionListener)||void 0===e||e.call(this),this.cancelInProgressFetches(),this.setMentionData(null)}render(){var e=this.state,t=e.isShowingSuggestions,n=e.suggestedMentionBlogs,a=this.props,o=a.children,r=a.editorStateContext.autocompleteContainerRef,s=(0,g.Z)({[M]:!0,[A]:!t&&this.isValidMention()});return d.createElement(m.ZP,null,(e=>{var a=e.isMobile;return d.createElement(u.df,{threshold:.5},(e=>{var i=e.inView,l=e.ref,c=t&&i;return d.createElement("div",{className:s,ref:l},c&&d.createElement(p.Z,{isShowing:!0,searchText:this.getBlognameFromDecoratedText(),suggestions:n,renderSuggestion:this.renderSuggestion,renderEmptySuggestions:a?this.renderEmptySuggestions:void 0,onSelection:this.updateMentionBlog,onClose:this.onCloseAutocomplete,shouldEscapeParentOverflow:!0,popoverWidth:224,getSearchTextFromSuggestion:this.getSearchTextFromSuggestion,autocompleteContainerRef:r}),o)}))}))}setIdentifyingKeys(){var e=this.props.editorStateContext.createMentionEntity;this.props.entityKey||e(this.getSelectionForDecoratedText(!1))}}var F=(0,v.HJ)(D),_=function(e){return d.createElement(b.u.Consumer,null,(t=>d.createElement(F,o()({},e,{editorStateContext:t}))))},H=new RegExp("".concat(Z,"[a-z0-9-]*"),"gi");function U(e,t){for(var n=e.getText(),a=H.exec(n);null!==a;){var o=a.index;t(o,o+a[0].length),a=H.exec(n)}}},32882:(e,t,n)=>{"use strict";n.d(t,{tc:()=>b,vg:()=>I,jB:()=>N,s6:()=>f,Ne:()=>L,vL:()=>Z,PX:()=>v,Sb:()=>E,d5:()=>M,rt:()=>h,rx:()=>R,SN:()=>w,O1:()=>B,rn:()=>C,pL:()=>y});var a=n(85313),o=n.n(a),r=n(17908),s=n.n(r),i=n(3440),l=n(63864),c=n(8931),d=n(76155),u=n(95004),p=n(40774),m={mentions:{strategy:p.wu,component:p.c},links:{strategy:(e,t,n)=>e.findEntityRanges((e=>{var t=e.getEntity();return null!==t&&n.getEntity(t).getType()===c.El.Link}),t),component:e=>{var t=e.contentState,n=e.entityKey,a=e.children,o=t.getEntity(n).getData().url;return u.createElement("a",{href:o,target:"_blank",rel:"noopener"},a)}}},h=(e,t)=>t?i.EditorState.createWithContent(t,g(e)):i.EditorState.createEmpty(g(e)),g=e=>new i.CompositeDecorator(Object.keys(e).reduce(((t,n)=>{var a=m[n];return e[n]&&a&&t.push(a),t}),[])),v=(e,t)=>{var n=h(e,t);return{getEditorState:()=>n,toggleTextAttributes:e=>{n=y(n,e)},addContent:(e,t)=>{n=b(n,e,t)}}},b=(e,t,n)=>{var a=e,o=a.getCurrentContent().getBlocksAsArray(),r=t.getBlocksAsArray(),s=i.ContentState.createFromBlockArray([...o,...r]);return a=i.EditorState.push(e,s,"insert-characters"),n&&(a=A(a)),a},f=(e,t)=>{var n=e,a=n.getCurrentContent().createEntity(c.El.Mention,"MUTABLE",{blog:null}),o=a.getLastCreatedEntityKey();n=i.EditorState.set(n,{currentContent:a});var r=i.Modifier.applyEntity(a,t,o);return i.EditorState.forceSelection(i.EditorState.push(n,r,"apply-entity"),e.getSelection())},E=e=>{var t=e.getSelection(),n=e.getCurrentContent().getBlockForKey(t.getStartKey()),a=t.getStartOffset(),o=t.isCollapsed();return n.getEntityAt(o&&a>0?a-1:a)},C=(e,t,n)=>{if(!t)return e;try{var a=e.getCurrentContent();return s()(n,a.getEntity(t).getData())?e:i.EditorState.set(e,{currentContent:a.replaceEntityData(t,n)})}catch(t){return e}},y=(e,t)=>{var n=t.inlineStyle,a=t.textType,o=t.url,r=e;return t.focusEditor&&(r=A(r)),a&&(r=S(r,a)),n&&(r=k(r,n)),void 0!==o&&(r=P(r,o)),r},w=e=>i.RichUtils.insertSoftNewline(e),k=(e,t)=>{var n=e,a=n.getCurrentInlineStyle().toJS();return B(t)&&a.forEach((e=>{B(e)&&e!==t&&(n=i.RichUtils.toggleInlineStyle(n,e))})),i.RichUtils.toggleInlineStyle(n,t)},P=(e,t)=>{var n=e,a=n.getSelection(),o=null;if(!a.isCollapsed()){if(t){var r=n.getCurrentContent().createEntity(c.El.Link,c.HP.MUTABLE,{url:t});o=r.getLastCreatedEntityKey(),n=i.EditorState.set(n,{currentContent:r})}return i.RichUtils.toggleLink(n,a,o)}var s=n.getCurrentContent(),l=s.getBlockForKey(a.getStartKey());if(!(o=E(n))||s.getEntity(o).getType()!==c.El.Link)return n;var d=a;if(l.findEntityRanges((e=>e.getEntity()===o),((e,t)=>d=new i.SelectionState({anchorOffset:e,focusOffset:t,anchorKey:a.getAnchorKey(),focusKey:a.getFocusKey()}))),!t)return i.EditorState.forceSelection(i.RichUtils.toggleLink(n,d,null),e.getSelection());var u=n.getCurrentContent().createEntity(c.El.Link,c.HP.MUTABLE,{url:t}),p=u.getLastCreatedEntityKey();return n=i.EditorState.set(n,{currentContent:u}),i.EditorState.forceSelection(i.RichUtils.toggleLink(n,d,p),e.getSelection())},S=(e,t)=>{var n=e,a=n.getSelection(),o=x(n);switch(t){case d.lr.Quirky:n=T(n,o,[c.K.BOLD,c.K.ITALIC]);break;case d.lr.Quote:n=T(n,o,[c.K.ITALIC]);break;case d.lr.Chat:(0,i.convertToRaw)(i.ContentState.createFromBlockArray(o)).blocks.reduce(((e,t)=>e+t.inlineStyleRanges.length),0)||o.forEach((e=>{n=(0,l.o5)(n,e.getKey())}))}n.getSelection().serialize()!==a.serialize()&&(n=i.EditorState.forceSelection(n,a));var r=n.getCurrentContent();if(a.isCollapsed()&&r.getPlainText().length){var s=a.getFocusKey();r.getBlockForKey(s).getLength()||(n=i.EditorState.set(n,{currentContent:i.Modifier.replaceText(r,a,"\ufeff")}),n=i.EditorState.forceSelection(n,new i.SelectionState({anchorKey:s,anchorOffset:1,focusKey:s,focusOffset:1})))}return i.RichUtils.toggleBlockType(n,t)},T=(e,t,n)=>{var a=e.getCurrentContent(),o=t.reduce(((e,t)=>{var a=t.getKey(),o=new i.SelectionState({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:t.getCharacterList().size});return n.reduce(((e,t)=>i.Modifier.removeInlineStyle(e,o,t)),e)}),a);return i.EditorState.push(e,o,"change-inline-style")},x=e=>{var t=e.getSelection(),n=t.getAnchorKey(),a=t.getFocusKey(),o=t.getIsBackward(),r=e.getCurrentContent(),s=n===a,i=[r.getBlockForKey(n)];if(!s)for(var l=n;l!==a;){var c=o?r.getBlockBefore(l):r.getBlockAfter(l);i.push(c),l=c.getKey()}return i},N=e=>{var t=e.editorState,n=e.textToAdd,a=e.selection||t.getSelection(),o=a.getAnchorKey(),r=a.getAnchorOffset()+n.length;return i.EditorState.forceSelection(i.EditorState.push(t,i.Modifier.replaceText(t.getCurrentContent(),a,n),c.iQ.ReplaceText),new i.SelectionState({anchorKey:o,focusKey:o,anchorOffset:r,focusOffset:r}))},I=e=>{var t=e.editorState,n=e.textToAdd,a=t.getSelection(),o=a.getAnchorKey(),r=a.getAnchorOffset()+n.length,s=t.getCurrentContent().createEntity(c.El.Link,c.HP.MUTABLE,{url:n}).getLastCreatedEntityKey();return i.EditorState.forceSelection(i.EditorState.push(t,i.Modifier.replaceText(t.getCurrentContent(),a,n,void 0,s),c.iQ.ReplaceText),new i.SelectionState({anchorKey:o,focusKey:o,anchorOffset:r,focusOffset:r}))},R=e=>{var t=e.getCurrentContent();return new i.SelectionState({anchorKey:t.getFirstBlock().getKey(),focusKey:t.getLastBlock().getKey(),anchorOffset:0,focusOffset:t.getLastBlock().getLength()})},M=e=>{var t=e.getSelection();if(t.isCollapsed())return 0;var n=t.getStartKey(),a=t.getEndKey();if(n===a)return t.getEndOffset()-t.getStartOffset();for(var o=e.getCurrentContent(),r=o.getBlockForKey(n).getLength()-t.getStartOffset(),s=o.getKeyAfter(a),i=n,l=0;i&&i!==s;)l+=i===n?r+1:i===a?t.getEndOffset():o.getBlockForKey(i).getLength()+1,i=o.getKeyAfter(i);return l},A=e=>i.EditorState.forceSelection(e,e.getSelection()),B=e=>e.startsWith(c.d1),Z=e=>e.split(c.d1)[1],L=(e,t)=>e.toJS().reduce(((e,t)=>o()(o()(o()({},e),B(t)&&{color:Z(t)}),t===c.K4.SMALL&&{fontSize:"0.8em"})),{})},46330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y,o:()=>C});var a=n(92969),o=n.n(a),r=n(95004),s=n(81059),i=n(44210),l=n(2978),c=n(19453),d=n(2540),u=n(99539),p=e=>()=>(0,u.l)(c.ho.Facebook,{u:e},c.E6,"facebookShare"),m=e=>()=>(0,u.l)(c.ho.Twitter,{url:e},c.E6,"twitterShare");const h=(0,d.HJ)((function(e){var t,n=e.shareTo,a=e.blogUrl,o=e.className,s=e.captionExplicit,d=e.appContext._t,u="",h=l.JE.BlogShareClick;switch(n){case c.Is.Twitter:u=d(s?"Share to Twitter":"Twitter"),t=m(a),h=l.JE.BlogShareToTwitterClick;break;case c.Is.Facebook:u=d(s?"Share to Facebook":"Facebook"),t=p(a),h=l.JE.BlogShareToFacebookClick}return r.createElement(i.Z,{krakenEventName:h,className:o,onClick:t},u)}));var g=n(13378),v=n(75369),b=n(47740);const f={exportMenu:"K8P_J",exportItem:"n5xjW"};class E extends r.Component{constructor(){super(...arguments),o()(this,"renderMenu",(()=>r.createElement("div",{className:f.ExportMenu},C(this.props.blogUrl,f.exportItem)))),o()(this,"logEvent",(()=>{(0,this.props.appContext.logEvent)({eventName:l.JE.BlogShareClick})}))}render(){var e=this.props,t=e.fill,n=e.size,a=this.props.appContext._t;return r.createElement(v.Z,{render:this.renderMenu,position:b.I2.Bottom,width:"250px",height:"auto",boundary:b.gc.ScrollParent,onOpen:this.logEvent},r.createElement(s.Z,{label:a("Export")},r.createElement(g.Z,{size:n,fill:t})))}}var C=(e,t,n)=>[c.Is.Twitter,c.Is.Facebook].map(((a,o)=>r.createElement(h,{key:o,shareTo:a,blogUrl:e,className:t,captionExplicit:n})));const y=(0,d.HJ)(E)},14e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(95004),o=n(72137);class r extends a.Component{shouldComponentUpdate(){return!1}render(){return this.props.children}}const s=e=>{var t=e.className,n=e.index,s=e.children;return a.createElement(o.Z.Consumer,null,(e=>{var o=e.window,i=o[n]?o[n].opacity:0;return a.createElement("div",{style:{opacity:i},className:t},a.createElement(r,null,s))}))}},72137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(95004);const o=(0,a.createContext)({window:{},scrollContainerRef:(0,a.createRef)()})},54518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var a=n(43893),o=n.n(a),r=n(92969),s=n.n(r),i=n(46118),l=n.n(i),c=n(95004),d=n(81059),u=n(70532),p=n(51742),m=n(2540),h=n(68711),g=n(72137);const v="kDCXR",b="GTDnP",f="wOp1Q",E="jxu4l";var C=1/30*1e3;class y extends c.Component{constructor(){super(...arguments),s()(this,"state",{scrollPosition:0,containerWidth:0,scrollWidth:0}),s()(this,"scrollContainerRef",(0,c.createRef)()),s()(this,"onScroll",l()((()=>{var e=this.scrollContainerRef.current?Math.max(this.scrollContainerRef.current.scrollLeft,0):0;this.setState({scrollPosition:e})}),C)),s()(this,"scrollChildrenDidChange",l()((()=>{var e,t=null===(e=this.scrollContainerRef.current)||void 0===e?void 0:e.scrollWidth;void 0!==t&&this.setState({scrollWidth:t})}),250)),s()(this,"onResize",l()((()=>{var e,t,n,a;this.setState({containerWidth:null===(e=this.scrollContainerRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.clientWidth,scrollWidth:null===(n=this.scrollContainerRef)||void 0===n||null===(a=n.current)||void 0===a?void 0:a.scrollWidth})}),C)),s()(this,"scrollLeft",(()=>{this.scroll(!1)})),s()(this,"scrollRight",(()=>{this.scroll(!0)})),s()(this,"scroll",(e=>{var t=this.scrollContainerRef.current,n=this.props,a=n.itemWidth,o=n.visibleWidth,r=this.state.containerWidth;if(t){var s=Math.min(o,r)/a,i=Math.round(s/2),l=Math.max(i,1)*(e?1:-1);t.scrollBy({left:a*l,behavior:"smooth"})}})),s()(this,"onScrollContainerResize",(e=>{var t=o()(e,1)[0].target;this.setState({containerWidth:t.clientWidth,scrollWidth:t.scrollWidth})}))}componentDidMount(){var e=this.scrollContainerRef.current;h.ZP.on("resize",this.onResize),e&&(this.resizeObserver=new ResizeObserver(this.onScrollContainerResize),this.resizeObserver.observe(e)),this.setState({scrollWidth:(null==e?void 0:e.scrollWidth)||0,containerWidth:null==e?void 0:e.clientWidth}),e&&(this.mutationObserver=new MutationObserver(this.scrollChildrenDidChange),this.mutationObserver.observe(e,{childList:!0,subtree:!0}))}componentWillUnmount(){var e,t;h.ZP.off("resize",this.onResize),null===(e=this.mutationObserver)||void 0===e||e.disconnect(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.scrollChildrenDidChange.cancel(),this.onScroll.cancel()}render(){var e=this.props,t=e.children,n=e.visibleWidth,a=e.className,o=e.itemWidth,r=e.appContext._t,s=this.state,i=s.scrollPosition,l=s.containerWidth,m=s.scrollWidth,h="calc((100% - ".concat(n,"px) / 2)"),C=(0,p.Z)([a,v]);return c.createElement("div",{className:C},c.createElement("div",{className:E,onScroll:this.onScroll,ref:this.scrollContainerRef},c.createElement(g.Z.Provider,{value:{window:this.calculateWindowBasedOnScroll(i),scrollContainerRef:this.scrollContainerRef}},c.createElement("div",{style:{paddingLeft:h}}),t,c.createElement("div",{style:{paddingRight:h}}),c.createElement(d.Z,{className:(0,p.Z)({[b]:!0,[f]:i<o/2}),style:{left:0,paddingLeft:h},label:r("Scroll carousel left"),onClick:this.scrollLeft},c.createElement(u.UX,{size:{height:40,width:40}})),c.createElement(d.Z,{className:(0,p.Z)({[b]:!0,[f]:i+l>=m}),style:{right:0,paddingRight:h},label:r("Scroll carousel right"),onClick:this.scrollRight},c.createElement(u.jV,{size:{height:40,width:40}})))))}calculateWindowBasedOnScroll(e){for(var t=this.props,n=t.visibleWidth,a=t.itemWidth,o=n+e,r=e/a,s=Math.floor(r),i=1-(r-s),l=Math.min(1.5*i,1),c=o/a,d=Math.floor(c),u=c-d,p={[s]:{opacity:l},[d]:{opacity:Math.min(1.5*u,1)}},m=s+1;m<d;m+=1)p[m]={opacity:1};return p}}const w=(0,m.HJ)(y)},49553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(59319),c=["feature","href","children"];const d=e=>{var t=e.feature,n=e.href,a=e.children,r=s()(e,c);return t?i.createElement(l.Link,o()({to:n},r),a):i.createElement("a",o()({href:n},r),a)}},64945:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>x});var a=n(92969),o=n.n(a),r=n(58665),s=n.n(r),i=n(95004),l=n(81059),c=n(44210),d=n(21964),u=n(56448),p=n(75369),m=n(90089),h=n(71358),g=n(93370),v=n(47740),b=n(76155),f=n(35811),E=n(33667),C=n(2540),y=n(90553),w=n(62513),k=n.n(w);const P={filterMenu:"uDNEd",filterItem:"AZP_1",filterButton:"_4ERKC"};class S extends i.Component{constructor(){super(...arguments),o()(this,"state",{postRole:this.props.match.params.peeprPostRole||g.f.postRole,postType:this.props.match.params.peeprSelectedPostType||g.f.postType,postSort:this.props.match.params.peeprSearchMode===f.f8.Top?b.H_.PopularityDesc:b.H_.CreatedDesc}),o()(this,"getFilterQueryParams",(()=>this.state)),o()(this,"reset",(()=>this.setState(g.f))),o()(this,"renderFilterMenu",(()=>{var e=this.props,t=e.postTypesOnly,n=e.appContext._t,a=this.state,o=a.postRole,r=a.postType;return i.createElement("div",{className:P.FilterMenu},!t&&i.createElement(i.Fragment,null,this.renderDropdownItemForSort(n("Top Posts"),b.H_.PopularityDesc),this.renderDropdownItemForSort(n("Recent Posts"),b.H_.CreatedDesc),i.createElement(c.Z,{className:P.filterItem,onClick:this.toggleOriginalState},n("Original Posts"),i.createElement(h.Z,{onChange:s(),size:E.h.small,checked:o===b.QL.Original,controlled:!0}))),i.createElement(m.ZP,{selectType:this.selectType,selected:r}))})),o()(this,"renderDropdownItemForSort",((e,t)=>i.createElement(c.Z,{className:P.filterItem,onClick:this.getOnClickSortDropdown(t)},e,t===this.state.postSort&&i.createElement(d.Z,{size:m.Gk,fill:k().paletteBlue})))),o()(this,"getOnClickSortDropdown",(e=>()=>this.setState({postSort:e},this.props.onParamsUpdated))),o()(this,"selectType",(e=>this.setState({postType:e},this.props.onParamsUpdated))),o()(this,"toggleOriginalState",(()=>this.setState((e=>({postRole:e.postRole===b.QL.Any?b.QL.Original:b.QL.Any})),this.props.onParamsUpdated)))}render(){var e=this.props,t=e.fill,n=e.size,a=this.props.appContext._t;return i.createElement(p.Z,{render:this.renderFilterMenu,position:v.I2.Bottom,width:"250px",height:"auto",boundary:v.gc.ScrollParent},i.createElement(l.Z,{wrapperClassName:P.filterButton,label:a("Filter")},i.createElement(u.Z,{size:n,fill:t})))}}var T=(0,C.tM)(S);const x=(0,y.Iy)(T)},88456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(4777),c=n(81059),d=n(78315),u=n(76097),p=n(2978),m=n(90976),h=n(36643),g=n(51742),v=n(90553),b=n(29252),f=n(93761);const E="qskHA";class C extends i.Component{constructor(){super(...arguments),s()(this,"apiHelper",(0,h.ZP)(this.props.appContext.apiFetch)),s()(this,"sendCallbacks",(e=>{var t,n=this.props,a=n.blogName,o=n.onFollow,r=n.timelineContext;null==o||o(a,e),null==r||null===(t=r.onFollow)||void 0===t||t.call(r,a,e)})),s()(this,"getFollowSource",(()=>{var e=location.pathname,t=this.props,n=t.isPostHeader,a=t.isReblogHeader,o=n||a;return(0,d.lc)(e)?o?p.Y3.EXPLORE_POST:p.Y3.EXPLORE:(0,d.C4)(e)?o?p.Y3.TAGGED_POST:p.Y3.TAGGED:void 0})),s()(this,"onClick",(e=>{var t=this.props,n=t.following,a=t.blogUrl,r=t.callOnFollowAfterApiFetch,s=t.placementId,i=t.earnedId;e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var l=!n;r||this.sendCallbacks(l);var c=this.getFollowSource();return(n?this.apiHelper.unfollowBlog(a,s,c):this.apiHelper.followBlog(a,s,c)).fetch((()=>r&&this.sendCallbacks(l))).then((()=>{var e=this.props,t=e.isReblogHeader,n=e.isBlogCardHeader,a=e.isPeeprHeader;(0,e.appContext.logEvent)({eventName:l?p.JE.Follow:p.JE.Unfollow,eventDetails:o()(o()(o()({placement_id:s,earned_id:i},t&&{is_reblog_header_follow:t}),n&&{is_blog_card_header_follow:n}),a&&{is_peepr_header_follow:a})})})).catch((()=>!r&&this.sendCallbacks(n)))}))}render(){var e,t=this.props,n=t.location,a=t.following,o=t.children,r=t.className,s=t.wrapperClassName,l=t.style,p=t.appContext,h=p._t,v=p.isLoggedIn,b=o(a),C=null!==(e=this.props.registrationSource)&&void 0!==e?e:(0,f.k)(n.pathname,m.Vu.BlogFollowButton);return!!b&&(v?i.createElement(c.Z,{label:h(a?"Unfollow":"Follow"),className:r,style:l,onClick:this.onClick,wrapperClassName:s},b):i.createElement("a",{className:(0,g.Z)([E,r]),style:l,href:(0,d.gZ)({formToShow:u.c.Register},{redirect_to:n.pathname,source:C})},b))}}var y=(0,v.X9)(C,{appContext:!0,timelineContext:!0}),w=(0,l.EN)(y);(0,b.D)(w,y.displayName);const k=w},79793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(4777),c=n(88456),d=n(90976),u=n(51742),p=n(2540);const m="f68ED";var h=["className","showUnfollowText"];const g=function(e){var t=e.className,n=e.showUnfollowText,a=s()(e,h),r=(0,l.TH)(),g=(0,p.bp)()._t;return new URLSearchParams(r.search).get("source")===d.yy.HomepageExplore&&(a.registrationSource=d.yy.HomepageExploreBlogFollow),i.createElement(c.Z,o()({},a,{className:(0,u.Z)([m,t])}),(e=>e?n?g("Unfollow"):null:g("Follow")))}},15917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(95004),d=n(88456),u=n(51742),p=n(2540);const m="Uj1VY";class h extends c.Component{constructor(){super(...arguments),l()(this,"renderChildren",(e=>{var t=this.props,n=t.followCaption,a=t.unfollowCaption,o=t.appContext._t;return e?a||o("Unfollow"):n||o("Follow")}))}render(){var e=this.props,t=e.className,n=e.callOnFollowAfterApiFetch;return c.createElement(d.Z,o()({},s()(s()({},this.props),{},{appContext:void 0}),{className:(0,u.Z)([m,t]),callOnFollowAfterApiFetch:void 0===n||n,children:this.renderChildren}))}}const g=(0,p.HJ)(h)},22123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var a=n(92969),o=n.n(a),r=n(95004),s=n(79153),i=n(55060),l=n(24988),c=n(87234),d=n(5868),u=n(51742),p=n(90553),m=n(28155),h=n(67859);const g="Lq1wm",v="SaLOl",b="ZUy1d",f="EDp57",E="o4qtI";class C extends r.Component{constructor(){super(...arguments),o()(this,"glassEl",null),o()(this,"closeButtonEl",(0,r.createRef)()),o()(this,"isClosingDueToMouseDown",!1),o()(this,"getColor",(()=>{var e=this.props,t=e.color,n=e.opacity,a=e.paletteContext.colors.bg;return t?(0,m.ZP)(t,n):"rgba(".concat(a,", ").concat(n,")")})),o()(this,"renderGlass",(()=>{var e=this.props,t=e.appContext,n=e.topOffset,a=e.children,o=e.isAboveOverlays,s=e.centerContent,p=e.glassIsClickable,m=this.getColor(),h=t.getBrowserInfo(),b=p?this.renderGlassButton():r.createElement("div",{ref:this.closeButtonEl,className:v,style:{backgroundColor:m},tabIndex:-1}),C=n>0?{top:n,height:(0,d.wQ)(h)?window.outerHeight-n:"calc(100vh - ".concat(n,"px)")}:{};return r.createElement(c.TL.Provider,{value:this.getGlassEl},r.createElement("div",{ref:e=>this.glassEl=e,className:(0,u.Z)({[g]:!0,[f]:o,[E]:s}),onClick:this.stopEventPropagation,onTouchMove:this.stopEventPropagation,style:C,role:"dialog","aria-modal":"true"},b,r.createElement(l.ZP,{hotkey:{key:l.SV.Escape,command:this.props.onGlassClick}}),r.createElement(i.Z,{overflow:"hidden"}),a))})),o()(this,"getGlassEl",(()=>this.glassEl)),o()(this,"handleOnGlassMouseDown",(()=>{this.isClosingDueToMouseDown=!0,setTimeout((()=>{this.isClosingDueToMouseDown=!1}),h.drawerAnimationDurationMs+100)})),o()(this,"handleOnGlassClick",(e=>{var t=this.props,n=t.onGlassClick;t.glassIsClickable&&n(e),this.stopEventPropagation(e)})),o()(this,"stopEventPropagation",(e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}))}componentDidMount(){var e;this.targetEl=document.activeElement,null===(e=this.closeButtonEl.current)||void 0===e||e.focus(),this.props.numGlassOpenContext.onGlassOpen()}componentWillUnmount(){var e;this.isClosingDueToMouseDown||(null===(e=this.targetEl)||void 0===e||e.focus());this.props.numGlassOpenContext.onGlassClose()}render(){var e=this.props.glassContext.glassContainerRef;return e?(0,s.createPortal)(this.renderGlass(),e):null}renderGlassButton(){var e=(0,this.props.appContext._c)("Close the dialog/modal","Close"),t=this.getColor();return r.createElement("button",{ref:this.closeButtonEl,className:v,"aria-label":e,onClick:this.handleOnGlassClick,onMouseDown:this.handleOnGlassMouseDown,onTouchStart:this.stopEventPropagation,onTouchMove:this.stopEventPropagation},r.createElement("span",{className:b,style:{backgroundColor:t},tabIndex:-1}))}}o()(C,"defaultProps",{color:void 0,opacity:.95,topOffset:0,isAboveOverlays:!1,centerContent:!1,glassIsClickable:!0});var y=(0,p.X9)(C,{glassContext:!0,numGlassOpenContext:!0,appContext:!0,paletteContext:!0});class w extends r.Component{render(){return r.createElement(y,this.props)}}o()(w,"defaultProps",C.defaultProps);const k=w},57789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var a=n(92969),o=n.n(a),r=n(44716),s=n.n(r),i=n(95004),l=n(85787),c=n(55149),d=n(51742),u=n(67859);const p="XnKJk",m="e2EeC",h="jpu7k",g="D0OOd";class v extends i.Component{constructor(){super(...arguments),o()(this,"prevCount",0),o()(this,"renderContentFromTransitionStatus",(e=>{var t=this.props,n=t.count,a=t.showNumber,o=t.isCircle,r=t.className,u=t.style,v=this.prevCount>n&&0===n,b=s()([l.d0,l.cn,l.Ix],e),f=v&&b?this.prevCount:n;return i.createElement("div",{className:(0,d.Z)({[h]:!0,[g]:s()([l.d0,l.cn],e),[m]:o,[p]:!o,["".concat(r)]:!!r}),style:u},a&&(0,c.Z)(f,99))}))}componentDidUpdate(e){e&&(this.prevCount=e.count||0)}render(){var e=this.props.count;return i.createElement(l.ZP,{in:e>0,timeout:u.notificationBadgeTransitionDurationMs},this.renderContentFromTransitionStatus)}}o()(v,"defaultProps",{count:0,showNumber:!0});const b=v},36851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(95004),o=n(38678);const r="qrzdF";const s=e=>{var t=e.margin,n=void 0===t?"250%":t,s=e.children,i=e.wrapperClassName,l=e.wrapperStyle,c=(0,o.YD)({rootMargin:n}),d=c.ref,u=c.inView,p=c.entry;if(Boolean(!u&&(null==p?void 0:p.target))){var m=null==p?void 0:p.target,h=m.clientHeight,g={width:m.clientWidth,height:h};return a.createElement("div",{ref:d,role:"figure",className:r,style:g})}return a.createElement("div",{className:i,style:l,ref:d},s)}},34995:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var a=(0,n(95004).createContext)({hotkeyWrapper:null,isEnterAsSubmitDisabled:!1})},62222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(29774),l=n(95004),c=n(24988),d=n(34995);class u extends l.Component{constructor(){var e,t,n,a;super(...arguments),s()(this,"state",{disableHotkeysForTextEntryOverrideCount:0,disableEnterAsSubmitOverrideCount:0}),s()(this,"isEnterAsSubmitDisabled",(()=>{var e;return(null===(e=this.props.hotkeyDisablerForTextEntryContext)||void 0===e?void 0:e.isEnterAsSubmitDisabled)||!!this.state.disableEnterAsSubmitOverrideCount})),s()(this,"disableParentControlOfHotkeys",(e=>{var t=e?1:-1;this.setState((e=>({disableHotkeysForTextEntryOverrideCount:e.disableHotkeysForTextEntryOverrideCount+t})))})),s()(this,"disableEnterAsSubmit",(e=>{var t=e?1:-1;this.setState((e=>({disableEnterAsSubmitOverrideCount:e.disableEnterAsSubmitOverrideCount+t})))})),s()(this,"getHotkeyWrapperMethods",(()=>({disableParentControlOfHotkeys:this.disableParentControlOfHotkeys,disableEnterAsSubmit:this.disableEnterAsSubmit}))),s()(this,"hotkeyWrapper",(e=this.getHotkeyWrapperMethods(),t=e.disableParentControlOfHotkeys,n=e.disableEnterAsSubmit,a=class extends l.Component{componentDidMount(){this.setHotkeyOptionsOnWrapper()}componentWillUnmount(){this.lastUnsetValues||this.setHotkeyOptionsOnWrapper({unsetValues:!0})}componentDidUpdate(e){!e.shouldRenderHotkeyComponent&&this.props.shouldRenderHotkeyComponent?this.setHotkeyOptionsOnWrapper():e.shouldRenderHotkeyComponent&&!this.props.shouldRenderHotkeyComponent&&this.setHotkeyOptionsOnWrapper({unsetValues:!0})}render(){return this.props.shouldRenderHotkeyComponent&&this.props.children}setHotkeyOptionsOnWrapper(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).unsetValues,a=this.props,o=a.shouldRenderHotkeyComponent,r=a.shouldDisableParentControlOfHotkeys,s=a.shouldDisableEnterAsSubmit;this.lastUnsetValues=!!e,(o||e)&&(r&&t(!e),s&&(null==n||n(!e)))}},a)),s()(this,"getContextValue",(0,i.Z)((e=>({isEnterAsSubmitDisabled:e,hotkeyWrapper:this.hotkeyWrapper}))))}render(){var e=this.props,t=e.children,n=e.shouldRenderHotkeyBlocker,a=e.hotkeyDisablerForTextEntryContext,o=this.state.disableHotkeysForTextEntryOverrideCount;return null!=a&&a.hotkeyWrapper?t:l.createElement(l.Fragment,null,n&&!o&&l.createElement(c.ZP,{disable:c.z9}),l.createElement(d.e.Provider,{value:this.getContextValue(!!o)},t))}}class p extends l.Component{render(){return l.createElement(d.e.Consumer,null,(e=>l.createElement(u,o()({},this.props,{ref:this.props.forwardedRef,hotkeyDisablerForTextEntryContext:e}))))}}const m=p},24988:(e,t,n)=>{"use strict";n.d(t,{TE:()=>l,SV:()=>c,ZP:()=>y,z9:()=>b,$6:()=>f,YZ:()=>g,_b:()=>v,yK:()=>h,LA:()=>m,VY:()=>p,A4:()=>E});var a=n(92969),o=n.n(a),r=n(95004),s=n(17908),i=n.n(s);var l,c,d=n(2540);!function(e){e.Alt="altKey",e.Meta="metaKey",e.Shift="shiftKey",e.Ctrl="ctrlKey"}(l||(l={})),function(e){e.All="all",e.Escape="Escape",e.Enter="Enter",e.Left="ArrowLeft",e.Right="ArrowRight",e.Up="ArrowUp",e.Down="ArrowDown",e.C="KeyC",e.Tab="Tab",e.Backspace="Backspace",e.P="KeyP",e.Slash="Slash",e.Dot="Period",e.J="KeyJ",e.K="KeyK",e.I="KeyI",e.B="KeyB",e.L="KeyL",e.R="KeyR",e.Q="KeyQ",e.W="KeyW",e.E="KeyE",e.Alt="AltLeft"}(c||(c={}));var u=[c.Tab,c.Backspace],p=[c.J,c.K,c.Dot],m=[c.L,c.R,c.Q,c.Alt,c.W,c.E],h=[c.P,c.Slash],g=[c.Left,c.Right,c.Up,c.Down],v=[...m,...h],b=[...u,...p,...m,...g,...h],f=[...b,c.Enter,c.Escape],E=e=>f.filter((t=>-1===e.indexOf(t)));class C extends r.Component{constructor(){super(...arguments),o()(this,"hotkey",[]),o()(this,"removeFunctions",[])}componentDidMount(){var e=this.props.appContext,t=e.addHotkey,n=e.disableHotkeys,a=this.getHotkeysToDisable();a.length&&n(a),this.getHotkeys().forEach((e=>this.removeFunctions.push(t(e))))}componentDidUpdate(e){var t,n,a=this.props.appContext,o=a.enableHotkeys,r=a.disableHotkeys,s=this.getHotkeysToDisable(e),l=this.getHotkeysToDisable();(t=s)===(n=l)||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&i()(t.sort(),n.sort())||(o(s),r(l))}componentWillUnmount(){this.props.appContext.enableHotkeys(this.getHotkeysToDisable()),this.removeFunctions.forEach((e=>e()))}render(){return this.props.children||null}getHotkeys(){var e=this.props.hotkey;return e?Array.isArray(e)?e:[e]:[]}getHotkeysToDisable(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.disable,n=e.disableAllButMyHotkeys;return t||n&&E(this.getHotkeys().map((e=>e.key)))||[]}}const y=(0,d.HJ)(C)},56843:(e,t,n)=>{"use strict";n.d(t,{j:()=>E,Z:()=>y});var a,o=n(63240),r=n.n(o),s=n(92969),i=n.n(s),l=n(6632),c=n.n(l),d=n(95004),u=n(43073),p=n(76155),m=n(36643),h=n(90553),g=n(94966),v=n.n(g),b=n(24988);!function(e){e.Next="next",e.Previous="previous"}(a||(a={}));var f={canFastQueue:!1,canFastReblog:!1,canFastReblogDeprecated:!1},E=-(v().desktopHeaderHeightPx+v().marginBetweenPosts);class C extends d.Component{constructor(e){super(e),i()(this,"apiHelper",(0,m.ZP)(this.props.appContext.apiFetch)),i()(this,"blogs",[]),i()(this,"getBlogs",(()=>this.blogs)),i()(this,"setDefaultFastBlog",(e=>{this.blogs.sort(((t,n)=>n.name===e.name?1:t.name===e.name?-1:0))})),i()(this,"renderScrollPositionDependentHotkeys",(()=>d.createElement(b.ZP,{hotkey:[{key:b.SV.J,command:this.scrollToNextElement,ignoreInputs:!0},{key:b.SV.K,command:this.scrollToPreviousElement,ignoreInputs:!0},{key:b.SV.L,command:this.likeVisibleTimelineObject,ignoreInputs:!0},{key:b.SV.R,command:this.reblogVisibleTimelineObject,modifiers:{[b.TE.Alt]:!0},ignoreInputs:!0},{key:b.SV.Q,command:this.queueVisibleTimelineObject,modifiers:{[b.TE.Alt]:!0},ignoreInputs:!0}]}))),i()(this,"enableFastReblog",(()=>!this.state.canFastReblog&&this.setState({canFastReblog:!0}))),i()(this,"disableFastReblog",(()=>this.state.canFastReblog&&this.setState({canFastReblog:!1}))),i()(this,"enableFastReblogDeprecated",(()=>!this.state.canFastReblogDeprecated&&this.setState({canFastReblogDeprecated:!0}))),i()(this,"disableFastReblogDeprecated",(()=>this.state.canFastReblogDeprecated&&this.setState({canFastReblogDeprecated:!1}))),i()(this,"enableFastQueue",(()=>!this.state.canFastQueue&&this.setState({canFastQueue:!0}))),i()(this,"disableFastQueue",(()=>this.state.canFastQueue&&this.setState({canFastQueue:!1}))),i()(this,"isValidElement",(e=>!(null==e||!e.ref))),i()(this,"scrollToNextElement",(()=>{this.scrollToElement(a.Next)})),i()(this,"scrollToPreviousElement",(()=>{this.scrollToElement(a.Previous)})),i()(this,"scrollToElement",(e=>{var t=this.props,n=t.scrollContainer,o=t.getPostRefs,r=n||window,s=[...o()];e===a.Previous&&s.reverse();for(var i,l=Math.ceil(n?n.scrollTop:window.scrollY),c=0,d=s;c<d.length;c++){var u=d[c];if(this.isValidElement(u)){var p=u.ref,m=void 0!==(null==(i=p.offsetParent)?void 0:i.offsetTop)?p.offsetParent.offsetTop:0,h=n?p.offsetTop+m:p.offsetTop,g=l-h;if(e===a.Next?g<E:g>E)return p.focus({preventScroll:!0}),void r.scrollTo({left:0,top:h+E})}}if(e===a.Next){var v=n?n.scrollHeight:document.body.scrollHeight;r.scrollTo({left:0,top:v})}})),i()(this,"scrollToTop",(()=>(this.props.scrollContainer||window).scrollTo({behavior:"smooth",left:0,top:0}))),i()(this,"likeVisibleTimelineObject",(()=>{var e=this.getVisibleTimelineObject().props.timelineObject,t=e.liked,n=e.id,a=e.reblogKey,o=e.placementId,r=e.earnedId,s=this.props,i=s.timelineContext.onLike,l=s.appContext.logEvent;this.apiHelper.likePost({id:n,liked:t,reblogKey:a,placementId:o,earnedId:r,logEvent:l,onLike:i}).fetch()})),i()(this,"reblogVisibleTimelineObject",(()=>this.postVisibleTimelineObject(p.hA.Published,this.props.appContext._t("Reblogged!")))),i()(this,"queueVisibleTimelineObject",(()=>this.postVisibleTimelineObject(p.hA.Queue,this.props.appContext._t("Queued!")))),i()(this,"postVisibleTimelineObject",((e,t)=>{var n=this.getVisibleTimelineObject().props.timelineObject.placementId,a=this.props,o=a.appContext,r=o.getUserInfo,s=o._c,i=o.logEvent,l=a.toastContext.toggleToast,c=this.getVisibleTimelineObject().props.timelineObject;return r().then((a=>{var o=a.name,r=c.blog,s=c.id,d=c.reblogKey,u=c.earnedId;return this.apiHelper.postAPost({selectedBlogName:o,placementId:n,logEvent:i,post:{reblogKey:d,earnedId:u,content:[],state:e,parentTumblelogUuid:r.name,parentPostId:s,id:void 0}}).fetch((()=>(this.setState({fastRebloggedPosts:this.state.fastRebloggedPosts.concat([c.id])}),l(t))))})).catch((()=>l(s("Failed to do action","Failed"))))})),i()(this,"getVisibleTimelineObject",(()=>{var e,t=this.props.scrollContainer,n=this.props.getPostRefs(),a=Math.ceil(t?t.scrollTop:window.scrollY),o=r()(n);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(this.isValidElement(s)){var i=s.ref;if(a-(t?i.offsetTop+c()(i.offsetParent,"offsetTop",0):i.offsetTop)<i.clientHeight+E)return s}}}catch(e){o.e(e)}finally{o.f()}})),i()(this,"unsetCanFastAction",(()=>this.setState(f))),this.state={canFastReblog:!1,canFastQueue:!1,canFastReblogDeprecated:!1,fastRebloggedPosts:[],setDefaultFastBlog:this.setDefaultFastBlog,getBlogs:this.getBlogs}}componentDidMount(){return window.addEventListener("blur",this.unsetCanFastAction),this.props.appContext.getUserInfo().then((e=>{var t=e.blogs,n=void 0===t?[]:t;this.blogs=[...n]}))}componentWillUnmount(){window.removeEventListener("blur",this.unsetCanFastAction)}render(){var e=this.props,t=e.disabled,n=e.children,a=this.state,o=a.canFastReblog,r=a.canFastQueue,s=a.canFastReblogDeprecated;return d.createElement(d.Fragment,null,!t&&this.renderScrollPositionDependentHotkeys(),s&&d.createElement(b.ZP,{hotkey:{key:b.SV.Alt,command:this.disableFastReblogDeprecated,firesOnKeyUp:!0,ignoreInputs:!0}}),o&&d.createElement(b.ZP,{hotkey:{key:b.SV.E,command:this.disableFastReblog,firesOnKeyUp:!0,ignoreInputs:!0}}),r&&d.createElement(b.ZP,{hotkey:{key:b.SV.W,command:this.disableFastQueue,firesOnKeyUp:!0,ignoreInputs:!0}}),d.createElement(b.ZP,{hotkey:[{key:b.SV.Dot,command:this.scrollToTop,ignoreInputs:!0},{key:b.SV.Alt,modifiers:{[b.TE.Alt]:!0},command:this.enableFastReblogDeprecated,ignoreInputs:!0},{key:b.SV.E,command:this.enableFastReblog,ignoreInputs:!0},{key:b.SV.W,command:this.enableFastQueue,ignoreInputs:!0}]}),d.createElement(u.ZP.Provider,{value:this.state},n))}}const y=(0,h.X9)(C,{appContext:!0,toastContext:!0,timelineContext:!0})},10314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(95004),o=n(62513),r=(0,n(80630).qv)(a.createElement("svg",{role:"img",viewBox:"0 0 17 17"},a.createElement("path",{d:"M2 15l3.17-5.065 4.124-.956c.475-.143.475-.816 0-.96L5.17 7.066 2 2l13 6.5L2 15zm13.894-8.29l-13-6.5A1.996 1.996 0 0 0 .52.655 2 2 0 0 0 .304 3.06L3.71 8.5.303 13.94a2 2 0 0 0 2.59 2.85l13-6.5a2.002 2.002 0 0 0 .001-3.58z"})));r.defaultProps={size:{width:17,height:17},fill:o.gray65};const s=r},29359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(95004),o=(0,n(80630).qv)(a.createElement("svg",{viewBox:"0 0 39 44"},a.createElement("g",{fill:"none"},a.createElement("path",{fill:"none",d:"M0 0h39v44H0z"}),a.createElement("path",{fill:"#000",d:"M19.82 13.138c1.083 0 2.44-.732 3.25-1.708.732-.885 1.266-2.121 1.266-3.357 0-.168-.015-.336-.046-.473-1.205.046-2.655.809-3.524 1.83-.687.779-1.313 2-1.313 3.25 0 .184.031.367.046.428.077.015.199.03.32.03zM16.005 31.6c1.48 0 2.136-.992 3.983-.992 1.876 0 2.288.961 3.936.961 1.617 0 2.7-1.495 3.723-2.96 1.144-1.678 1.617-3.326 1.648-3.402-.107-.03-3.205-1.297-3.205-4.852 0-3.082 2.442-4.47 2.579-4.577-1.617-2.32-4.074-2.38-4.745-2.38-1.816 0-3.296 1.098-4.226 1.098-1.007 0-2.335-1.037-3.906-1.037-2.99 0-6.027 2.472-6.027 7.14 0 2.9 1.13 5.966 2.517 7.95 1.19 1.678 2.228 3.051 3.723 3.051z"}))));o.defaultProps={size:{width:23,height:24}};const r=o},98568:(e,t,n)=>{"use strict";n.d(t,{Mq:()=>i,Ii:()=>c,vK:()=>p,br:()=>m,_C:()=>h});var a=n(95004),o=n(80630),r=n(62513),s=e=>(0,o.qv)(a.createElement("svg",{viewBox:"0 0 20 17",style:{transform:"rotate(".concat(e,"deg)")}},a.createElement("path",{d:"M5.7 10.009l4.8 4.527c.2.2.2.603 0 .804L9 16.85c-.2.2-.6.2-.8 0L0 8.901v-.804L8.2.15c.2-.201.6-.201.8 0l1.5 1.509c.2.2.2.603 0 .804L5.7 6.991h13.4s.9.905.9 1.006v.905l-1 1.107H5.7z"}))),i=s(0),l=s(45),c=s(90),d=s(135),u=s(180),p=s(225),m=s(270),h=s(315);[i,l,c,d,u,p,m,h].forEach((e=>e.defaultProps={size:{width:20,height:17},fill:r.white}))},84202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 1C13.5523 1 14 1.44772 14 2V4.95167V9.68083C14 9.97129 13.8737 10.2474 13.654 10.4374L8.65396 14.7595C8.27842 15.0841 7.72158 15.0841 7.34604 14.7595L2.34604 10.4374C2.12629 10.2474 2 9.97129 2 9.68083V4.95167V2C2 1.44772 2.44772 1 3 1H13ZM4 3.47583C4 3.19969 4.22386 2.97583 4.5 2.97583H11.5C11.7761 2.97583 12 3.19969 12 3.47583V4.45167C12 4.72781 11.7761 4.95167 11.5 4.95167H4.5C4.22386 4.95167 4 4.72781 4 4.45167V3.47583ZM7.6379 6.70181C7.78187 6.3988 8.21813 6.3988 8.36209 6.70181L8.81369 7.6523C8.88453 7.80142 9.02596 7.90583 9.19079 7.93071L10.2305 8.08764C10.5523 8.13622 10.6837 8.52402 10.4564 8.75424L9.67622 9.54416C9.5654 9.65638 9.51507 9.81391 9.54062 9.96864L9.72149 11.064C9.77524 11.3896 9.42542 11.6331 9.13319 11.4735L8.24189 10.9868C8.09136 10.9045 7.90863 10.9045 7.7581 10.9868L6.86681 11.4735C6.57458 11.6331 6.22475 11.3896 6.27851 11.064L6.45937 9.96864C6.48492 9.81391 6.4346 9.65638 6.32377 9.54416L5.54363 8.75424C5.31626 8.52402 5.44768 8.13622 5.76952 8.08764L6.80921 7.93071C6.97403 7.90583 7.11546 7.80142 7.18631 7.6523L7.6379 6.70181Z"})));s.defaultProps={size:{width:14,height:14},fill:r.tivoYellow};const i=s},97187:(e,t,n)=>{"use strict";n.d(t,{iL:()=>l,$S:()=>c,sz:()=>d,mV:()=>u});var a=n(95004),o=n(62513),r=n(80630),s=e=>a.createElement("svg",{viewBox:"0 0 13 20.1",style:{transform:"rotate(".concat(e,"deg)")}},a.createElement("path",{d:"M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"})),i=e=>a.createElement("svg",{viewBox:"0 0 16 16",style:{transform:"rotate(".concat(e,"deg)")}},a.createElement("path",{d:"M7.314 8.27L4.537 5.647a1 1 0 00-1.373 0l-.074.07a1 1 0 00.001 1.456l4.234 3.98a1 1 0 001.372 0l4.215-3.98a1 1 0 000-1.454l-.076-.072a1 1 0 00-1.373 0L8.686 8.269a1 1 0 01-1.372 0z"})),l=(0,r.qv)(s(0),i(270)),c=(0,r.qv)(s(90),i(0)),d=(0,r.qv)(s(180),i(90)),u=(0,r.qv)(s(270),i(180));[l,c,d,u].forEach((e=>e.defaultProps={size:{width:24,height:24},fill:o.white}))},70532:(e,t,n)=>{"use strict";n.d(t,{jV:()=>l,nT:()=>c,UX:()=>d,Cq:()=>u});var a=n(95004),o=n(62513),r=n(80630),s=e=>a.createElement("svg",{width:"15",height:"9",viewBox:"0 0 15 9",style:{transform:"rotate(".concat(e,"deg)")}},a.createElement("path",{d:"M2.498 1.045a1.026 1.026 0 0 0-1.446.005 1.027 1.027 0 0 0 0 1.454l5.839 5.45a1.023 1.023 0 0 0 .83.29c-.017.004.02.006.057.006.27 0 .53-.106.726-.3l5.828-5.44a1.029 1.029 0 1 0-1.448-1.46l-5.19 4.845-5.196-4.85z"})),i=e=>a.createElement("svg",{viewBox:"0 0 6 4",style:{transform:"rotate(".concat(e,"deg)")}},a.createElement("path",{d:"M3.296 3.878l2.457-2.453C6.28.899 5.907 0 5.163 0H.837C.093 0-.28.899.247 1.425l2.457 2.453a.419.419 0 00.592 0z"})),l=(0,r.qv)(s(270),i(270)),c=(0,r.qv)(s(0),i(0)),d=(0,r.qv)(s(90),i(90)),u=(0,r.qv)(s(180),i(180));[l,c,d,u].forEach((e=>e.defaultProps={size:{width:15,height:9},fill:o.white}))},5858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 24 24"},a.createElement("path",{fillRule:"evenodd",d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11zm5.529-13.305a1.006 1.006 0 00-.092-1.461 1.007 1.007 0 00-1.357.06l-4.932 4.976a.5.5 0 01-.688.023l-1.795-1.688a1.001 1.001 0 00-1.332 1.496l2.964 2.736a1 1 0 001.392-.057l5.84-6.085z"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},21964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 13 10"},a.createElement("path",{d:"M11.5 0L4.2 7.1 1.5 4.4 0 5.8 4.2 10 13 1.5 11.5 0"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},31107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},a.createElement("path",{d:"M11.68.32a1.095 1.095 0 0 1 0 1.55L7.548 6l4.13 4.13a1.095 1.095 0 1 1-1.549 1.55L6 7.548l-4.13 4.13A1.095 1.095 0 1 1 .32 10.13L4.452 6 .321 1.87A1.095 1.095 0 1 1 1.87.32L6 4.452l4.13-4.13a1.095 1.095 0 0 1 1.55 0z"})));s.defaultProps={size:{width:12,height:12},fill:r.white};const i=s},85706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 16 16"},a.createElement("path",{d:"M9.527 8l6.164-6.188a1.066 1.066 0 0 0 0-1.5 1.053 1.053 0 0 0-1.495 0L8 6.531 1.805.311a1.053 1.053 0 0 0-1.495 0 1.064 1.064 0 0 0 0 1.5L6.473 8 .31 14.188a1.064 1.064 0 0 0 0 1.501 1.052 1.052 0 0 0 1.495 0L8 9.47l6.195 6.22a1.052 1.052 0 0 0 1.495 0 1.066 1.066 0 0 0 0-1.5L9.527 8z"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},28458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(95004),o=n(62513),r=function(e){var t=e.width,n=e.height,o=e.fill,r=e.className,s=e.onClick;return a.createElement("svg",{width:t,height:n,className:r,onClick:s,viewBox:"0 0 14 14",fill:o},a.createElement("path",{d:"M14 2.8L11.2 0 7 4.2 2.8 0 0 2.8 4.2 7 0 11.2 2.8 14 7 9.8l4.2 4.2 2.8-2.8L9.8 7 14 2.8z"}))};r.defaultProps={width:24,height:24,fill:o.black};const s=r},64986:(e,t,n)=>{"use strict";var a;n.d(t,{n:()=>o,Z:()=>r}),function(e){e.RAINBOW="rainbowColorList",e.AMERICANFLAG="americanFlagColorList"}(a||(a={}));var o={[a.RAINBOW]:["likableRed","cheezbort","alwaysSunny","reblogGreen","neatBlue","purpleRain"],[a.AMERICANFLAG]:["likableRed","neatBlue","white"]};const r=a},33881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(95004),o=(0,n(80630).qv)(a.createElement("svg",{viewBox:"0 0 17.6 17.6"},a.createElement("path",{d:"M5.3 13.8l-2.1.7.7-2.1L10.3 6l1.4 1.4-6.4 6.4zm6.4-9.3l-1.4-1.4-1.4 1.4-6.7 6.7-.2.5-2 5.9 3.8-1.3 2.1-.7.4-.1.3-.3 7.8-7.8c.1 0-2.7-2.9-2.7-2.9zm5.6-1.4L14.5.3c-.4-.4-1-.4-1.4 0l-1.4 1.4L15.9 6l1.4-1.4c.4-.5.4-1.1 0-1.5"})));o.defaultProps={size:{width:24,height:24}};const r=o},92003:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,E:()=>l});var a=n(95004),o=n(62513),r=n(80630),s=e=>(0,r.qv)(a.createElement("svg",{viewBox:"0 0 11 15",style:{transform:"rotate(".concat(e,"deg)")}},a.createElement("path",{d:"M3 9v5h5V9h3L5.5 3 0 9h3zM0 2V0h11v2H0z"}))),i=s(0),l=s(180);[i,l].forEach((e=>e.defaultProps={size:{width:11,height:15},fill:o.gray65}))},60614:(e,t,n)=>{"use strict";n.d(t,{b:()=>i,v:()=>l});var a=n(95004),o=n(80630),r=n(62513),s=e=>(0,o.qv)(a.createElement("svg",{viewBox:"0 0 17.5 3.9",style:{transform:"rotate(".concat(e,"deg)")}},a.createElement("path",{d:"M17.5 1.9c0 1.1-.9 1.9-1.9 1.9-1.1 0-1.9-.9-1.9-1.9S14.5 0 15.6 0c1 0 1.9.9 1.9 1.9m-6.8 0c0 1.1-.9 1.9-1.9 1.9-1.1.1-2-.8-2-1.9 0-1 .9-1.9 2-1.9s1.9.9 1.9 1.9m-6.8 0c0 1.1-.9 2-2 2-1 0-1.9-.9-1.9-2S.9 0 1.9 0c1.1 0 2 .9 2 1.9"}))),i=s(0),l=s(90);[i,l].forEach((e=>e.defaultProps={size:{width:14,height:8},fill:r.tumblrGray}))},25531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 21.8 21.8"},a.createElement("path",{d:"M10.9 21.8C4.9 21.8 0 16.9 0 10.9S4.9 0 10.9 0s10.9 4.9 10.9 10.9-4.9 10.9-10.9 10.9zM12 2.1c-.5-.1-1.8-.1-2 0-4.1.4-7.5 3.7-8 7.8-.1.5-.1 1.8 0 2 .4 4.2 3.8 7.6 8 8h2c4.1-.5 7.4-3.8 7.8-8v-2C19.2 5.8 16 2.6 12 2.1zm1.7 11.3c-.1.2-.2.3-.4.4l-6.7 2.5c-.5.2-1.1-.3-.9-.9l2.5-6.7c.1-.2.2-.3.4-.4l6.7-2.5c.5-.2 1.1.3.9.9l-2.5 6.7zm-1.9-3.3c-.5-.5-1.3-.5-1.7 0-.5.5-.5 1.3 0 1.7.5.5 1.3.5 1.7 0 .4-.4.4-1.2 0-1.7z"})));s.defaultProps={fill:r.white,size:{width:22,height:24}};const i=s},13378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(95004),o=(0,n(80630).qv)(a.createElement("svg",{viewBox:"0 0 22.5 18.5"},a.createElement("path",{d:"M14 13.2V8.9c-.4 0-5.2-.5-9.4 3.2 0 0 1-7.5 9.4-7.5V0l8.5 6.6-8.5 6.6z"}),a.createElement("path",{d:"M19 18.5H0L.1 3.6H7L5 5.5H2v11h15v-2.3l2-1.6v5.9z"})));o.defaultProps={size:{width:24,height:24}};const r=o},56448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(95004),o=(0,n(80630).qv)(a.createElement("svg",{viewBox:"0 0 22.5 18.5"},a.createElement("path",{d:"M16.077 11.171H8.169c-.374 1.415-1.649 2.461-3.165 2.461-1.515 0-2.79-1.046-3.164-2.461H.985a.996.996 0 0 1-.99-1c0-.552.444-1 .99-1h.947c.464-1.263 1.664-2.167 3.072-2.167 1.409 0 2.609.904 3.072 2.167h8.001c.547 0 .99.448.99 1s-.443 1-.99 1zM5.004 8.504c-.989 0-1.794.814-1.794 1.814s.805 1.813 1.794 1.813c.99 0 1.794-.813 1.794-1.813s-.804-1.814-1.794-1.814zm11.073-4.338h-.855c-.373 1.415-1.648 2.461-3.164 2.461-1.515 0-2.79-1.046-3.164-2.461H.985a.996.996 0 0 1-.99-1c0-.553.444-1 .99-1h8.001C9.449.903 10.65-.001 12.058-.001c1.409 0 2.609.904 3.072 2.167h.947c.547 0 .99.447.99 1 0 .552-.443 1-.99 1zm-4.019-2.667c-.989 0-1.794.814-1.794 1.814s.805 1.813 1.794 1.813 1.794-.813 1.794-1.813-.805-1.814-1.794-1.814zM.985 15.724h8.001c.463-1.263 1.664-2.167 3.072-2.167 1.409 0 2.609.904 3.072 2.167h.947c.547 0 .99.448.99 1.001 0 .552-.443 1-.99 1h-.855c-.373 1.414-1.648 2.461-3.164 2.461-1.515 0-2.79-1.047-3.164-2.461H.985a.996.996 0 0 1-.99-1 .996.996 0 0 1 .99-1.001zm11.073 2.961c.989 0 1.794-.814 1.794-1.814 0-.999-.805-1.813-1.794-1.813s-1.794.814-1.794 1.813c0 1 .805 1.814 1.794 1.814z"})));o.defaultProps={size:{width:24,height:24}};const r=o},86625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 20 21"},a.createElement("path",{d:"M11.5 8.8c0-1.5-1.2-2.8-2.6-2.8-1.4 0-2.6 1.3-2.6 2.8 0 1.5 1.2 2.2 2.6 2.2 1.5 0 2.6-.7 2.6-2.2zM5 16.2v.8h7.7v-.8c0-3-1.7-4.2-3.9-4.2C6.7 12 5 13.2 5 16.2zM16 19H2V4h10V2H2C.9 2 0 2.9 0 4v14.9C0 20.1.9 21 2 21h14.2c1.1 0 1.8-.9 1.8-2.1V8h-2v11zm2-17V0h-2v2h-2v2h2v2h2V4h2V2h-2z"})));s.defaultProps={size:{width:20,height:21},fill:r.white};const i=s},59187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{preserveAspectRatio:"xMinYMin",viewBox:"1 1 22 21"},a.createElement("path",{d:"M1 4.995C1 3.893 1.89 3 2.991 3H21.01C22.109 3 23 3.893 23 4.995v14.01C23 20.107 22.11 21 21.009 21H2.99A1.992 1.992 0 0 1 1 19.005V4.995zm9.829 6.653H7.722v1.26h1.487v1.047s-.328.45-1.477.45c-1.148 0-2.05-.83-2.05-2.265 0-1.436.881-2.266 2.02-2.266.963 0 1.517.482 1.814.81l1.097-.954c-.225-.246-1.035-1.23-2.912-1.23C5.723 8.5 4 9.782 4 12.14s1.723 3.65 3.68 3.65c1.949 0 2.79-.892 3.149-1.21v-2.932zm2.82-3.045h-1.662v7.074h1.661V8.603zm6.064 0h-4.42v7.074h1.651v-2.696h2.605v-1.323h-2.605V9.925h2.769V8.603z"})),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5C0 3.34315 1.34315 2 3 2H21C22.6569 2 24 3.34315 24 5V19C24 20.6569 22.6569 22 21 22H3C1.34315 22 0 20.6569 0 19V5ZM10 12C10 11.4477 9.55228 11 9 11H8C7.44772 11 7 11.4477 7 12C7 12.1991 7.05817 12.3846 7.15844 12.5404C7.4573 13.0048 8.00484 13.5427 7.5404 13.8416C7.38456 13.9418 7.19908 14 7 14C6.44772 14 6 13.5523 6 13V11C6 10.4477 6.44772 10 7 10H8.82929H9C9.55228 10 10 9.55228 10 9C10 8.44772 9.55228 8 9 8H7C5.34315 8 4 9.34315 4 11V13C4 14.6569 5.34315 16 7 16C8.65685 16 10 14.6569 10 13V12ZM12 8C11.4477 8 11 8.44772 11 9V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 12.5523 8 12 8ZM15 8C14.4477 8 14 8.44772 14 9V12V15C14 15.5523 14.4477 16 15 16C15.5523 16 16 15.5523 16 15V14C16 13.4477 16.4477 13 17 13H18C18.5523 13 19 12.5523 19 12C19 11.4477 18.5523 11 18 11H16.5C16.2239 11 16 10.7761 16 10.5C16 10.2239 16.2239 10 16.5 10H19C19.5523 10 20 9.55228 20 9C20 8.44772 19.5523 8 19 8H15Z",fill:"#00B8FF"})));s.defaultProps={size:{width:24,height:24},fill:r.paletteNavy};const i=s},40138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(95004),o=(0,n(80630).qv)(a.createElement("svg",{viewBox:"10 8 26 30"},a.createElement("defs",null,a.createElement("filter",{id:"a",width:"200%",height:"200%",x:"-50%",y:"-50%",filterUnits:"objectBoundingBox"},a.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:".5"}),a.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.168 0"}),a.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter2"}),a.createElement("feGaussianBlur",{in:"shadowOffsetOuter2",result:"shadowBlurOuter2",stdDeviation:".5"}),a.createElement("feColorMatrix",{in:"shadowBlurOuter2",result:"shadowMatrixOuter2",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.084 0"}),a.createElement("feMerge",null,a.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),a.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),a.createElement("feMergeNode",{in:"SourceGraphic"})))),a.createElement("g",{fill:"none"},a.createElement("g",{filter:"url(#a)",transform:"translate(3 3)"},a.createElement("use",{fill:"#FFF"}),a.createElement("use",null),a.createElement("use",null),a.createElement("use",null)),a.createElement("path",{fill:"#4285F4",d:"M31.64 23.205c0-.639-.057-1.252-.164-1.841H23v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z"}),a.createElement("path",{fill:"#34A853",d:"M23 32c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711h-3.007v2.332A8.997 8.997 0 0023 32z"}),a.createElement("path",{fill:"#FBBC05",d:"M17.964 24.71a5.41 5.41 0 01-.282-1.71c0-.593.102-1.17.282-1.71v-2.332h-3.007A8.996 8.996 0 0014 23c0 1.452.348 2.827.957 4.042l3.007-2.332z"}),a.createElement("path",{fill:"#EA4335",d:"M23 17.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C27.463 14.891 25.426 14 23 14a8.997 8.997 0 00-8.043 4.958l3.007 2.332c.708-2.127 2.692-3.71 5.036-3.71z"}),a.createElement("path",{d:"M14 14h18v18H14V14z"}))));o.defaultProps={size:{width:23,height:24}};const r=o},80630:(e,t,n)=>{"use strict";n.d(t,{P_:()=>a,qv:()=>d,$:()=>g});var a,o=n(92969),r=n.n(o),s=n(95004),i=n(62513),l=n.n(i),c=n(64986);function d(e,t){class n extends s.Component{constructor(){super(...arguments),r()(this,"state",{isHovering:!1}),r()(this,"onMouseEnter",(()=>this.setState({isHovering:!0}))),r()(this,"onMouseLeave",(()=>this.setState({isHovering:!1})))}render(){var n=this.props,o=n.size,r=(o=void 0===o?{width:20,height:20}:o).width,i=o.height,l=n.fill,d=n.options,g=n.useAlt,v=n.className,b=g&&t?t:e,f=[b.props.children];if(null!=d&&d.colorList){var E=!0;d.fillCriteria===a.ONHOVER&&(E=this.state.isHovering),E&&f.push(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n="".concat(t,"ms"),a=c.n[e],o=p(e);return s.createElement("defs",{key:"svgDefsKey"},s.createElement("linearGradient",{id:o,x1:"0%",y1:"0%",x2:"100%",y2:"0"},a.map(h),h(a[0],a.length,a)),s.createElement("pattern",{id:m(e),x:"0",y:"0",width:"400px",height:"100%",patternUnits:"userSpaceOnUse"},s.createElement("rect",{x:"0",y:"0",width:"200px",height:"100%",fill:"url(#".concat(o,")")},s.createElement("animate",{attributeType:"XML",attributeName:"x",from:"0",to:"200px",dur:n,repeatCount:"indefinite"})),s.createElement("rect",{x:"-200px",y:"0",width:"200px",height:"100%",fill:"url(#".concat(o,")")},s.createElement("animate",{attributeType:"XML",attributeName:"x",from:"-200px",to:"0",dur:n,repeatCount:"indefinite"}))))}(d.colorList,d.durationMs))}return s.cloneElement(b,{width:r,height:i,className:v,fill:u(d,this.state,l),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},f)}}return n}!function(e){e.ALWAYS="ALWAYS",e.ONHOVER="ONHOVER"}(a||(a={}));var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colorList,n=e.fillCriteria,o=arguments.length>1?arguments[1]:void 0,r=o.isHovering,s=arguments.length>2?arguments[2]:void 0,i=n||a.ALWAYS;return t&&(i===a.ALWAYS||i===a.ONHOVER&&r)?"url('#".concat(m(t),"')"):s};var p=e=>"gradient-".concat(e),m=e=>"pattern-".concat(e);function h(e,t,n){return s.createElement("stop",{key:t,offset:"".concat(0+t*(100/n.length),"%"),style:{stopColor:l()[e]}})}function g(e){var t=e.filledIcon,n=e.emptyIcon;class a extends s.Component{render(){var e=this.props,a=e.filled,o=e.size,r=e.options,i=e.filledIconFillColor,l=e.emptyIconFillColor;return a?s.createElement(t,{size:o,options:r,fill:i}):s.createElement(n,{size:o,options:r,fill:l})}}return r()(a,"defaultProps",{filled:!1}),a}},63187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 24 24"},a.createElement("path",{d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11z",fillOpacity:"0.1"}),a.createElement("path",{d:"M12 18a1 1 0 01-1-1v-6a1 1 0 112 0v6a1 1 0 01-1 1z M12 8a1 1 0 110-2 1 1 0 010 2z"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},3450:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(62513),r=n(80630),s=(0,r.$)({filledIcon:(0,r.qv)(a.createElement("svg",{role:"img",width:"20",height:"18",viewBox:"0 0 20 18"},a.createElement("path",{d:"M17.888 1.1C16.953.38 15.87 0 14.758 0c-1.6 0-3.162.76-4.402 2.139-.098.109-.217.249-.358.42a12.862 12.862 0 0 0-.36-.421C8.4.758 6.84 0 5.248 0 4.14 0 3.06.381 2.125 1.1-.608 3.201-.44 6.925 1.14 9.516c2.186 3.59 6.653 7.301 7.526 8.009.38.307.851.474 1.333.474a2.12 2.12 0 0 0 1.332-.473c.873-.71 5.34-4.42 7.526-8.01 1.581-2.597 1.755-6.321-.968-8.418"}))),emptyIcon:(0,r.qv)(a.createElement("svg",{role:"img",width:"20",height:"18",viewBox:"0 0 20 18"},a.createElement("path",{d:"M14.658 0c-1.625 0-3.21.767-4.463 2.156-.06.064-.127.138-.197.225-.074-.085-.137-.159-.196-.225C8.547.766 6.966 0 5.35 0 4.215 0 3.114.387 2.162 1.117c-2.773 2.13-2.611 5.89-1.017 8.5 2.158 3.535 6.556 7.18 7.416 7.875A2.3 2.3 0 0 0 9.998 18c.519 0 1.028-.18 1.436-.508.859-.695 5.257-4.34 7.416-7.875 1.595-2.616 1.765-6.376-1-8.5C16.895.387 15.792 0 14.657 0h.001zm0 2.124c.645 0 1.298.208 1.916.683 1.903 1.461 1.457 4.099.484 5.695-1.973 3.23-6.16 6.7-6.94 7.331a.191.191 0 0 1-.241 0c-.779-.631-4.966-4.101-6.94-7.332-.972-1.595-1.4-4.233.5-5.694.619-.475 1.27-.683 1.911-.683 1.064 0 2.095.574 2.898 1.461.495.549 1.658 2.082 1.753 2.203.095-.12 1.259-1.654 1.752-2.203.8-.887 1.842-1.461 2.908-1.461h-.001z"})))});s.defaultProps={filled:!1,size:{width:20,height:18},filledIconFillColor:o.paletteRed,emptyIconFillColor:o.transparentWhite40};const i=s},18174:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 24 24"},a.createElement("path",{d:"M19 11.018V7.88c0-1.914-.601-4.15-1.791-5.434-1.187-1.283-2.744-1.443-4.607-1.442-2.148-.001-3.604-.147-5.075 1.442C5.84 3.725 6 7.066 6 7.88v3.138l-2 .067c-.579.159-1 .523-1 1.003v9.904C3 22.471 3.527 23 4 23h17c.476 0 1-1.04 1-1.04v-9.872c0-1.008-.525-1.07-1-1.07h-2zM9.834 4.736c.65-.794 1.83-1.085 2.768-1.085.936 0 2.062.291 2.712 1.085.647.794.686 2.112.686 3.375v2.885H9V8.11c0-1.263.189-2.578.834-3.375z"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},8371:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513);var s=(0,o.qv)(a.createElement("svg",{width:"400",height:"81.897",viewBox:"0 0 400 81.897",className:"XnmP8"},a.createElement("path",{d:"M17.241 1.571c0 6.328-6.682 15.885-13.371 19.123L0 22.568v13.639h10.177l.321 15.302c.528 25.205 4.083 29.417 25.493 30.206l10.561.39v-17.45h-5.643c-9.171 0-9.875-1.163-9.875-16.34V36.207H45.69V19.828H31.034V0h-6.896c-6.097 0-6.897.182-6.897 1.571m219.828 5.326v6.896h8.621v68.104h18.965v-2.156c0-2.617-.019-2.616 3.996-.248 5.368 3.167 17.807 3.327 23.979.307 10.27-5.025 13.836-12.594 13.836-29.369 0-21.321-7.683-30.677-25.1-30.566-5.257.034-8.013.638-13.478 2.956-1.394.591-1.509-.25-1.509-11.091V0h-29.31v6.897m71.552 0v6.896h8.62v54.31h-6.896v13.794h34.483V68.103h-7.759V0h-28.448v6.897M53.606 42.457c.348 25.726 1.055 28.895 7.717 34.597 7.88 6.745 25.797 6.506 33.194-.443l2.035-1.912v7.198h23.276V68.103h-6.035V19.828H86.207v14.655h7.759v11.292c0 15.732-2.335 19.742-11.493 19.742-7.195 0-7.473-.932-7.473-25.116V19.828H53.3l.306 22.629M125 27.155v7.328h8.621v33.62h-6.897v13.794h33.621V68.103h-6.897V56.869c0-15.754 1.962-19.662 10.272-20.46 7.808-.751 8.694 1.07 8.694 17.862v13.832h-6.897v13.794H200V68.103h-6.897V55.992c0-9.14.321-12.733 1.308-14.641 2.687-5.195 10.458-6.804 14.808-3.066l2.419 2.079.275 13.87.275 13.869h-7.016v13.794h33.621V68.103h-6.896V53.547c0-17.777-1.01-21.846-6.873-27.709-8.058-8.057-24.92-8.285-33.229-.448l-2.956 2.787-1.963-2.133c-7.299-7.936-23.087-8.407-33.49-.999l-2.524 1.797v-7.014H125v7.327m225 0v7.328h7.759v33.62h-6.897v13.794h33.621V68.103h-7.13l.412-10.678c.613-15.922 3.54-19.494 15.972-19.494H400V19.828h-6.062c-6.77 0-11.229 1.486-14.843 4.948l-2.371 2.271v-7.219H350v7.327m-68.546 10.059c6.507 5.119 6.487 23.55-.031 27.821-8.395 5.5-16.643-2.8-15.712-15.812.828-11.573 8.681-17.564 15.743-12.009"})));s.defaultProps={size:{width:274,height:56},fill:r.white};const i=s},467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{fill:"none",viewBox:"0 0 24 24"},a.createElement("path",{fillRule:"evenodd",d:"M16 8v1a1 1 0 01-1 1H9a1 1 0 01-1-1V8a4 4 0 118 0zm2.982 2.164C18.46 9.984 18 9.552 18 9V8A6 6 0 006 8v1c0 .552-.46.984-.982 1.164A3.001 3.001 0 003 13v6a3 3 0 003 3h12a3 3 0 003-3v-6a3.001 3.001 0 00-2.018-2.836zM12 12a1 1 0 011 1v1a1 1 0 001 1h1a1 1 0 110 2h-1a1 1 0 00-1 1v1a1 1 0 11-2 0v-1a1 1 0 00-1-1H9a1 1 0 110-2h1a1 1 0 001-1v-1a1 1 0 011-1z",clipRule:"evenodd"})));s.defaultProps={size:{width:36,height:36},fill:r.black};const i=s},18859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.$)({filledIcon:(0,o.qv)(a.createElement("svg",{viewBox:"0 0 20 20"},a.createElement("path",{d:"M10 0C4.5 0 0 4.5 0 10c0 2.1.6 4 1.7 5.6l-.6 3.9 4.2-.7c1.4.8 3.1 1.2 4.7 1.2 5.5 0 10-4.5 10-10S15.5 0 10 0zm3.2 11.1h-2.1v2.1c0 .6-.5 1.1-1.1 1.1-.6 0-1.1-.5-1.1-1.1v-2.1H6.8c-.6 0-1.1-.5-1.1-1.1 0-.6.5-1.1 1.1-1.1h2.1V6.8c0-.6.5-1.1 1.1-1.1.6 0 1.1.5 1.1 1.1v2.1h2.1c.6 0 1 .5 1 1.1 0 .6-.5 1-1 1.1z"}))),emptyIcon:(0,o.qv)(a.createElement("svg",{viewBox:"0 0 24 24"},a.createElement("path",{d:"M4.27 17.436l.102-.38a1 1 0 00-.081-.727l-.184-.347a8.768 8.768 0 01-1.012-4.106C3.095 6.987 7.09 3 12.047 3 17.005 3 21 6.987 21 11.876c0 4.889-3.995 8.876-8.953 8.876a8.972 8.972 0 01-3.944-.905l-.335-.164a1 1 0 00-.696-.067l-.36.096-1.62.43a1 1 0 01-1.222-1.226l.4-1.48zm7.777 5.316c6.05 0 10.953-4.87 10.953-10.876C23 5.869 18.096 1 12.047 1 5.998 1 1.095 5.87 1.095 11.876c0 1.679.383 3.268 1.066 4.688.11.227.14.486.075.73l-1.2 4.45c-.2.741.482 1.42 1.228 1.22l4.602-1.224c.232-.062.478-.036.698.062 1.368.61 2.886.95 4.483.95zM12 7a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 110 2h-2a1 1 0 00-1 1v2a1 1 0 11-2 0v-2a1 1 0 00-1-1H8a1 1 0 110-2h2a1 1 0 001-1V8a1 1 0 011-1z"})))});s.defaultProps={size:{width:24,height:24},filledIconFillColor:r.white,emptyIconFillColor:r.white,filled:!0};const i=s},2838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 14 18"},a.createElement("path",{d:"M8.561 17.444c3.187 0 5.407-1.993 5.407-4.571 0-2.34-1.48-3.796-3.27-4.166 1.67-.489 2.9-1.933 2.9-4.034 0-2.459-1.97-4.452-5.287-4.452H.684v17.223H8.56zm-.74-10.157H4.002V3.181h3.82c1.599 0 2.458.68 2.458 2.041 0 1.349-.86 2.065-2.459 2.065zm.24 7.21h-4.06V10.14H8.06c1.6 0 2.59.692 2.59 2.16 0 1.48-.99 2.196-2.59 2.196z"})));s.defaultProps={size:{width:15,height:15},fill:r.tumblrGray};const i=s},53076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 14 13"},a.createElement("path",{fillRule:"evenodd",d:"M12.213 9.486a.781.781 0 01-.772.785.78.78 0 01-.773-.785c0-.681.447-1.415.773-1.86.669.904.772 1.549.772 1.86zM6.809 5.85c.116 0 .21.095.21.213 0 .057-.022.11-.061.15a.207.207 0 01-.297 0 .214.214 0 010-.302.206.206 0 01.147-.061v-.13l.001.129zM6.141 7.4a1.47 1.47 0 001.984-.659 1.511 1.511 0 00-.648-2.016 1.453 1.453 0 00-1.163-.075L5.11 3.426l1.14-1.157 4.295 4.361-4.862 4.939a.42.42 0 01-.596 0L1.388 7.813a.436.436 0 010-.605l2.826-2.871 1.204 1.222c-.247.704.06 1.499.723 1.841zm6.555-.192a6.914 6.914 0 00-.807-1.03L6.699.901a.625.625 0 00-.897 0L4.214 2.515 1.924.188a.627.627 0 00-.897 0 .645.645 0 00-.185.455.65.65 0 00.185.456l2.291 2.327L.491 6.297a1.74 1.74 0 000 2.425l3.7 3.758c.313.318.745.501 1.189.501h.01c.442 0 .875-.183 1.187-.5l2.828-2.873c.063 1.085.953 1.949 2.036 1.95 1.123-.001 2.038-.93 2.04-2.072 0-.705-.265-1.472-.785-2.279z",clipRule:"evenodd"})));s.defaultProps={size:{width:16,height:16},fill:r.paletteGray65};const i=s},30287:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 7 19"},a.createElement("path",{d:"M4.746 4.229c1.014 0 1.85-.871 1.85-1.886 0-.955-.74-1.659-1.683-1.659A1.872 1.872 0 0 0 3.05 2.546c0 .955.752 1.683 1.695 1.683zM2.884 18.444L5.498 6.14H2.669L.055 18.444h2.829z"})));s.defaultProps={size:{width:14,height:14},fill:r.tumblrGray};const i=s},9784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 29 19"},a.createElement("path",{fillRule:"evenodd",d:"M23.383 6.202c3.005.004 5.44 2.487 5.44 5.548v1.704c-.003 3.057-2.432 5.537-5.433 5.545h-8.583c-2.334-.005-4.405-1.523-5.15-3.775h2.128a3.47 3.47 0 0 0 3.015 1.774h8.583c1.92-.002 3.476-1.585 3.482-3.54V11.75c.002-1.958-1.553-3.548-3.475-3.554h-8.583a3.468 3.468 0 0 0-2.967 1.7H9.684c.768-2.209 2.816-3.687 5.116-3.694zM14.188.8c2.303.005 4.354 1.484 5.123 3.695h-2.156a3.468 3.468 0 0 0-2.967-1.7H5.605c-1.918.01-3.468 1.596-3.468 3.55v1.707c.002 1.953 1.551 3.538 3.468 3.548h8.583a3.47 3.47 0 0 0 3.022-1.777h2.129c-.747 2.25-2.818 3.767-5.15 3.77H5.604C2.608 13.584.184 11.107.18 8.054v-1.71C.182 3.291 2.607.812 5.605.8z"})));s.defaultProps={size:{width:16,height:16},fill:r.paletteGray65};const i=s},99144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 22 12"},a.createElement("path",{fillRule:"evenodd",d:"M1.467 0C.657 0 0 .657 0 1.467v8.8c0 .81.657 1.466 1.467 1.466h19.066c.81 0 1.467-.656 1.467-1.466v-8.8C22 .657 21.343 0 20.533 0H1.467zm6.355 4.889H5.378v2.444h2.444V4.89zm1.956 0h2.444v2.444H9.778V4.89zm6.844 0h-2.444v2.444h2.444V4.89z",clipRule:"evenodd"})),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"1",y:"18",width:"22",height:"2",rx:"1",fill:"#FF8A00"}),a.createElement("rect",{x:"1",y:"4",width:"22",height:"2",rx:"1",fill:"#FF8A00"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.9974 11.7902C5.60936 11.3555 4.93333 11.3433 4.52988 11.7638L2.67639 13.6952C2.32852 14.0577 1.72423 14.0945 1.32666 13.7773C0.929095 13.4601 0.888809 12.9091 1.23668 12.5466L4.21136 9.44676C4.79659 8.83692 5.84289 8.85392 6.4039 9.48239L7.90617 11.1653C8.30378 11.6107 9.00057 11.6107 9.39818 11.1653L10.8872 9.49719C11.4614 8.85401 12.5386 8.85401 13.1128 9.49719L14.6018 11.1653C14.9994 11.6107 15.6962 11.6107 16.0938 11.1653L17.5961 9.48239C18.1571 8.85392 19.2034 8.83692 19.7886 9.44676L22.7633 12.5466C23.1112 12.9091 23.0709 13.4601 22.6733 13.7773C22.2758 14.0945 21.6715 14.0577 21.3236 13.6952L19.4701 11.7638C19.0667 11.3433 18.3906 11.3555 18.0026 11.7902L16.4606 13.5176C15.8864 14.1608 14.8092 14.1608 14.2351 13.5176L12.746 11.8495C12.3484 11.4041 11.6516 11.4041 11.254 11.8495L9.76494 13.5176C9.19078 14.1608 8.11357 14.1608 7.53942 13.5176L5.9974 11.7902Z",fill:"#FF8A00"})));s.defaultProps={size:{width:23,height:23},fill:r.paletteGray65};const i=s},43107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 24 24"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9691 11.2352C13.6114 11.3959 14.1399 11.6526 14.508 12.0503C14.8791 12.4512 15.0734 12.9806 15.0734 13.6568C15.0734 14.3675 14.787 14.9957 14.2573 15.4439C13.7293 15.8906 12.9702 16.1501 12.0348 16.1501C10.4315 16.1501 9.36137 15.4477 8.99126 14.2722C8.90212 13.989 8.9842 13.7212 9.15739 13.5295C9.32835 13.3402 9.58819 13.2232 9.86707 13.2232C10.1404 13.2232 10.3714 13.3437 10.564 13.4995C10.7554 13.6541 10.921 13.8533 11.0632 14.0285C11.2726 14.2864 11.6165 14.4397 12.0487 14.4397H12.1601C12.464 14.4397 12.7079 14.3632 12.872 14.2395C13.0321 14.1187 13.1238 13.9479 13.1238 13.7314C13.1238 13.5391 13.0746 13.4003 12.9739 13.2931C12.8692 13.1816 12.6929 13.0868 12.4043 13.0193L12.403 13.019L11.4218 12.7802C10.73 12.6128 10.159 12.3557 9.76035 11.9623C9.35697 11.5642 9.14233 11.0391 9.14233 10.3658C9.14233 9.59759 9.45606 8.96344 9.9906 8.52414C10.5224 8.08706 11.2632 7.8501 12.1114 7.8501C12.8857 7.8501 13.5316 8.02258 14.0281 8.34705C14.5263 8.67264 14.865 9.14551 15.0311 9.72746C15.1129 10.0139 15.0253 10.2817 14.8485 10.4726C14.6739 10.6613 14.4118 10.777 14.1317 10.777C13.6021 10.777 13.2287 10.3453 12.9834 9.97443C12.8112 9.71411 12.5365 9.55308 12.1322 9.55308H12.0139C11.4377 9.55308 11.092 9.87339 11.092 10.2613C11.092 10.4372 11.152 10.5755 11.2771 10.6897C11.4078 10.8088 11.618 10.909 11.9293 10.9808L11.9312 10.9812L12.9691 11.2352Z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.01108 12.6821C2.63435 12.3054 2.63435 11.6946 3.01108 11.3179L8.68213 5.64681C9.05887 5.27008 9.05886 4.65928 8.68213 4.28255C8.3054 3.90582 7.6946 3.90582 7.31787 4.28255L0.282548 11.3179C-0.0941833 11.6946 -0.0941825 12.3054 0.282549 12.6821L7.31787 19.7175C7.6946 20.0942 8.3054 20.0942 8.68213 19.7175C9.05887 19.3407 9.05886 18.7299 8.68213 18.3532L3.01108 12.6821Z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9889 12.6821C21.3657 12.3054 21.3657 11.6946 20.9889 11.3179L15.3179 5.64681C14.9411 5.27008 14.9411 4.65928 15.3179 4.28255C15.6946 3.90582 16.3054 3.90582 16.6821 4.28255L23.7175 11.3179C24.0942 11.6946 24.0942 12.3054 23.7175 12.6821L16.6821 19.7175C16.3054 20.0942 15.6946 20.0942 15.3179 19.7175C14.9411 19.3407 14.9411 18.7299 15.3179 18.3532L20.9889 12.6821Z"})));s.defaultProps={size:{width:14,height:14},fill:r.tumblrGray};const i=s},66330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 19 18"},a.createElement("path",{d:"M14.946 10.778c.244.584.371 1.253.371 2.011 0 3.032-2.566 4.906-6.373 4.906-3.966 0-6.519-1.88-6.755-5.531l-.013-.258h2.459c0 2.269 1.717 3.494 4.172 3.566l.232.003h.25c2.316 0 3.57-1.158 3.57-2.578 0-.976-.43-1.665-1.297-2.12l3.384.001zM9.194-.018c3.72 0 6.129 1.993 6.35 5.178l.012.23h-2.459c-.115-1.902-1.588-3.114-3.57-3.195l-.213-.004h-.251c-2.137 0-3.569 1.157-3.569 2.685 0 1.265.837 2.04 2.17 2.367l.193.044.81.157h9.777v1.667H.667V7.444l2.996.002c-.411-.695-.628-1.54-.628-2.546 0-2.71 2.435-4.918 6.16-4.918z"})));s.defaultProps={size:{width:15,height:15},fill:r.tumblrGray};const i=s},62930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 24 24"},a.createElement("rect",{width:"4",height:"16",x:"15",y:"4",rx:"1"}),a.createElement("rect",{width:"4",height:"16",x:"5",y:"4",rx:"1"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},13700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(95004),o=n(62513),r=function(e){var t=e.withCircle,n=e.size,o=e.viewBox,r=e.fill;return a.createElement("svg",{width:"".concat(n.width),height:"".concat(n.height),viewBox:o},a.createElement("g",{fill:"none"},t&&a.createElement("circle",{cx:"23",cy:"23",r:"23",fill:"#444"}),a.createElement("path",{fill:r,d:"M30.592 23.578L19.52 30.3a1 1 0 0 1-1.52-.854V16a1 1 0 0 1 1.519-.855l11.073 6.723a1 1 0 0 1 0 1.71z"}),t&&a.createElement("circle",{cx:"23",cy:"23",r:"19",stroke:"#FFF"})))};r.defaultProps={withCircle:!0,size:{width:46,height:46},viewBox:"0 0 46 46",fill:o.white};const s=r},2808:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 16 18"},a.createElement("path",{d:"M4 14h8v-1H4v1zm0-3h8v-1H4v1zm0-3h4V7H4v1zm0-3h4V4H4v1zm11.3 1.1c-.1-.1-.2-.1-.3-.1h-3V1c0-.6-.4-1-1-1H1C.4 0 0 .4 0 1v16c0 .6.4 1 1 1h14c.6 0 1-.4 1-1V7c0-.4-.3-.8-.7-.9zM14 16H2V2h8v5c0 .2.1.4.2.5.1.3.4.5.8.5h3v8z"})));s.defaultProps={size:{width:24,height:24},fill:r.black};const i=s},58576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 20 20"},a.createElement("path",{d:"M10 0C4.5 0 0 4.5 0 10s4.5 10 10 10 10-4.5 10-10S15.5 0 10 0zM8.7 13.7h2.6v2.5H8.7v-2.5zM14 8.6c-.2.6-.7 1.1-1.2 1.5-.2.2-.5.3-.7.5l-.6.6c-.2.2-.3.5-.3.8v.6H8.9v-.7c0-.5.1-.9.3-1.2.1-.3.3-.6.5-.8l.6-.6c.3-.1.5-.3.7-.5l.5-.5c.1-.2.2-.4.2-.7 0-.5-.1-.9-.4-1.1-.2-.2-.6-.4-1-.4-.3 0-.6.1-.8.2-.3 0-.5.2-.6.4-.2.2-.3.4-.3.7-.1.2-.1.5-.1.8H6c0-.6.1-1.1.3-1.6.2-.5.5-.9.8-1.3.4-.4.8-.7 1.3-.9.5-.2 1.1-.3 1.6-.3.8 0 1.4.1 2 .3.5.2.9.5 1.3.8.3.3.6.7.7 1 .1.4.2.7.2 1 0 .6-.1 1.1-.2 1.4z"})));s.defaultProps={size:{width:24,height:24},fill:r.black};const i=s},29039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 19 16"},a.createElement("path",{d:"M17.7 7.3c-.4-4.4-4-7.3-8.3-7.3-4.3 0-7.9 2.9-8.3 7.4C.5 7.4 0 8 0 8.6v5c0 .8.6 1.4 1.3 1.4H4c.2.4.8 1 1.2 1 .6 0 .8-1 .8-1.6V7.8c0-.5-.2-1.6-.8-1.6-.4 0-1 .8-1.2 1.1H2.9c.4-3.5 3.2-5.6 6.5-5.6s6.2 2.1 6.5 5.6H15c0-.3-.7-1.1-1.1-1.1-.6 0-.9 1-.9 1.6v6.6c0 .5.3 1.6.9 1.6.4 0 1.1-.6 1.2-1h2.6c.7 0 1.3-.6 1.3-1.3v-5c0-.8-.6-1.3-1.3-1.4zM3 8.5v1l-2 1.3V8.5h2zm15 .9l-2 1.3V8.5h2v.9zm-6.4.3l-1.6.5V6.4c0-.1-.1-.2-.2-.2s-.2 0-.2.1L7.2 12v.2c.1.1.1.1.2.1L9 12v3.8c0 .1-.2.2-.1.2h.3c.1 0 .2 0 .2-.1l2.4-5.9v-.2c-.1-.1-.2-.1-.2-.1z"})),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C16.9706 2 21 6.02944 21 11V12C21 12.5523 21.4745 12.9793 21.959 13.2445C22.5793 13.5841 23 14.2429 23 15V17C23 17.7571 22.5793 18.4159 21.959 18.7555C21.4745 19.0207 21.0163 19.46 20.8356 19.9819C20.4289 21.1565 19.313 22 18 22H17C15.3431 22 14 20.6569 14 19V14C14 12.3431 15.3431 11 17 11H18C18.5523 11 19.0075 10.5497 18.9295 10.003C18.4456 6.60923 15.5275 4 12 4C8.4725 4 5.55442 6.60923 5.07047 10.003C4.9925 10.5497 5.44772 11 6 11H7C8.65685 11 10 12.3431 10 14V19C10 20.6569 8.65685 22 7 22H6C4.68703 22 3.57105 21.1565 3.16437 19.9819C2.98368 19.46 2.52548 19.0207 2.04103 18.7555C1.42067 18.4159 1 17.7571 1 17V15C1 14.2429 1.42067 13.5841 2.04103 13.2445C2.52548 12.9793 3 12.5523 3 12V11C3 6.02944 7.02944 2 12 2ZM19.2 16.2727C19.2 15.6702 18.7075 15.1818 18.1 15.1818C17.4925 15.1818 17 14.6934 17 14.0909C17 13.4884 17.4925 13 18.1 13C19.9225 13 21.4 14.4653 21.4 16.2727C21.4 16.8752 20.9075 17.3636 20.3 17.3636C19.6925 17.3636 19.2 16.8752 19.2 16.2727ZM5.18182 16.2819C5.18182 15.6744 5.67024 15.1819 6.27273 15.1819C6.87522 15.1819 7.36364 14.6894 7.36364 14.0819C7.36364 13.4744 6.87522 12.9819 6.27273 12.9819C4.46525 12.9819 3 14.4594 3 16.2819C3 16.8894 3.48842 17.3819 4.09091 17.3819C4.6934 17.3819 5.18182 16.8894 5.18182 16.2819Z",fill:"#7C5CFF"})));s.defaultProps={size:{width:24,height:24},fill:r.gray40};const i=s},85904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 18.7 17"},a.createElement("path",{d:"M16 6.1V2.6C16 .8 15 0 13.1 0H2.9C1 0 0 1.1 0 3.3v10.4C0 15.9 1 17 2.9 17h10.2c1.9 0 2.9-.8 2.9-2.6v-2.9l2.7-2.9c0-.1-2.7-2.5-2.7-2.5zm-4.5-.7c0-.5.3-.8.7-.8s.8.3.8.8v1.7l-.3 2.5c0 .3-.2.4-.4.4s-.4-.1-.4-.4l-.3-2.5V5.4zm-3.8 6.4c0 .4-.1.8-.7.8-.5 0-.7-.4-.7-.8V9.1C6.3 8.4 6 8 5.4 8c-.5 0-1 .4-1 1.2v2.6c0 .4-.1.8-.7.8s-.7-.4-.7-.8V5.4c0-.5.3-.8.7-.8.4 0 .7.3.7.8v2.1c.3-.4.7-.8 1.5-.8s1.7.5 1.7 2c.1.1.1 3.1.1 3.1zm2.5 0c0 .4-.1.8-.7.8-.5 0-.7-.4-.7-.8V7.5c0-.4.1-.8.7-.8.5 0 .7.4.7.8v4.3zm-.7-5.6c-.4 0-.7-.4-.7-.8s.3-.8.7-.8c.4 0 .7.4.7.8s-.3.8-.7.8zm2.8 6.3c-.4 0-.8-.4-.8-.9s.3-.9.8-.9.8.4.8.9-.4.9-.8.9z"})));s.defaultProps={size:{width:24,height:24},fill:r.gray40};const i=s},31376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 17 17"},a.createElement("path",{d:"M9.9 5.1c-.2.3-.5 1.4-.6 2.6l1.1-.1c.7-.1 1.3-.3 1.5-.5.6-.6.6-1.4 0-2-.6-.5-1.4-.5-2 0zM8.5 0C3.8 0 0 3.8 0 8.5S3.8 17 8.5 17 17 13.2 17 8.5 13.2 0 8.5 0zm4.4 8.2c-.5.5-1.5.8-2.5.9l-1.2.2c-.1 1.3-.4 2.9-1 3.6-1.1 1.1-3 1.2-4.1 0-1.1-1.1-1.1-3 0-4.1.5-.5 1.5-.8 2.6-.9v1.5c-1.2.3-1.5.5-1.6.5-.6.6-.6 1.4 0 2 .5.5 1.4.5 2 0 .2-.2.5-1.1.6-2.5l.1-.9c0-1.3.2-3.6 1-4.4 1.1-1.1 3-1.2 4.1 0 1.2 1.1 1.2 2.9 0 4.1z"})),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2987 16.1301L20.8312 12.3755C22.3919 10.7166 22.3919 8.02698 20.8312 6.36809C19.2704 4.7092 16.74 4.7092 15.1792 6.36809L11.6468 10.1227C10.6551 11.1767 10.2935 12.6467 10.562 14.0041C10.6933 14.6683 11.5031 14.7809 11.967 14.2878L12.3532 13.8773C12.9831 13.2078 13.3588 12.3704 13.4803 11.5007C13.5127 11.2684 13.604 11.046 13.7647 10.8752L14.0659 10.5551C14.6075 9.9794 15.5389 10.2449 15.5202 11.0351C15.4828 12.6115 14.8981 14.1761 13.7662 15.3791L10.2338 19.1337C7.89265 21.6221 4.09695 21.6221 1.75584 19.1337C-0.585279 16.6454 -0.585279 12.611 1.75584 10.1227L5.28831 6.36809C7.17121 4.36679 9.99502 3.97508 12.2462 5.19298C12.6958 5.43616 13.2667 5.39718 13.6169 5.02495L13.7662 4.86625C16.1074 2.37792 19.903 2.37792 22.2442 4.86625C24.5853 7.35458 24.5853 11.389 22.2442 13.8773L18.7117 17.6319C17.5596 18.8564 16.0553 19.4784 14.5454 19.4977C13.7956 19.5073 13.5337 18.63 14.0475 18.0838L14.4533 17.6525C14.6266 17.4683 14.8643 17.3624 15.1135 17.3196C15.9135 17.1822 16.6819 16.7857 17.2987 16.1301ZM9.03988 17.399C9.35937 17.0594 9.39405 16.5473 9.18442 16.1309C7.97091 13.72 8.32069 10.6542 10.2338 8.62086L10.7245 8.0993C11.156 7.6406 11.0549 6.89073 10.4438 6.73837C9.14181 6.41377 7.71643 6.79096 6.70129 7.86993L3.16882 11.6245C1.60808 13.2834 1.60808 15.973 3.16882 17.6319C4.72957 19.2908 7.26003 19.2908 8.82078 17.6319L9.03988 17.399Z",fill:"#01CF35"})));s.defaultProps={size:{width:24,height:24},fill:r.gray40};const i=s},38462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 17 15"},a.createElement("path",{d:"M14.6 1h-2.7l-.6-1h-6l-.6 1H2.4C1.1 1 0 2 0 3.3v9.3C0 13.9 1.1 15 2.4 15h12.2c1.3 0 2.4-1.1 2.4-2.4V3.3C17 2 15.9 1 14.6 1zM8.3 13.1c-2.9 0-5.2-2.3-5.2-5.1s2.3-5.1 5.2-5.1c2.9 0 5.2 2.3 5.2 5.1s-2.3 5.1-5.2 5.1zm5.9-8.3c-.6 0-1.1-.5-1.1-1.1 0-.6.5-1.1 1.1-1.1s1.1.5 1.1 1.1c0 .6-.5 1.1-1.1 1.1zm-10 3.1c0 1.2.5 2.2 1.3 3 0-.2 0-.4-.1-.6 0-2.2 1.8-4 4.1-4 1.1 0 2 .4 2.8 1.1-.3-2-2-3.4-4-3.4-2.2-.1-4.1 1.7-4.1 3.9z"})),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 3H4C3.44772 3 3 3.44772 3 4V16C3 16.5523 3.44772 17 4 17C4.55229 17 5 16.5523 5 16V8C5 6.34315 6.34315 5 8 5H16C16.5523 5 17 4.55228 17 4C17 3.44772 16.5523 3 16 3ZM20 5C19.4477 5 19 4.55228 19 4C19 2.34315 17.6569 1 16 1H4C2.34315 1 1 2.34315 1 4V16C1 17.6569 2.34315 19 4 19C4.55229 19 5 19.4477 5 20C5 21.6569 6.34315 23 8 23H20C21.6569 23 23 21.6569 23 20V8C23 6.34315 21.6569 5 20 5ZM14 10C14 11.1046 13.1046 12 12 12C10.8954 12 10 11.1046 10 10C10 8.89543 10.8954 8 12 8C13.1046 8 14 8.89543 14 10ZM7 17.6829C7 17.4082 7.11304 17.1455 7.31257 16.9567L8.79638 15.5522C9.54271 14.8457 10.7029 14.8198 11.48 15.4923L12.4939 16.3698C12.9005 16.7216 13.5125 16.689 13.8794 16.2959L16.3619 13.636C17.1761 12.7637 18.568 12.7938 19.3437 13.7005L20.7599 15.3557C20.9148 15.5368 21 15.7674 21 16.0058V20C21 20.5523 20.5523 21 20 21H8C7.44772 21 7 20.5523 7 20V17.6829Z",fill:"#FF4930"})));s.defaultProps={size:{width:24,height:24},fill:r.gray40};const i=s},75918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 17 13"},a.createElement("path",{d:"M3.5 5.5C4 3.7 5.8 2.4 7.2 1.3L5.9 0C3 1.8 0 5 0 8.5 0 11 1.3 13 4 13c2 0 3.7-1.5 3.7-3.6C7.7 7 6 5.5 3.5 5.5zm9.3 0c.4-1.8 2.2-3.1 3.7-4.2L15.2 0c-2.8 1.8-5.9 5-5.9 8.5 0 2.4 1.3 4.5 4 4.5 2 0 3.7-1.5 3.7-3.6 0-2.4-1.7-3.9-4.2-3.9z"})));s.defaultProps={size:{width:24,height:24},fill:r.gray40};const i=s},59003:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 20.8 13"},a.createElement("path",{d:"M.1 13h2.8l.9-3h4.7l.8 3h2.9L7.7 0h-3L.1 13zm6-10.1l2 5.1H4.2l1.9-5.1zM20 10V6c0-1.1-.2-1.9-1-2.3-.7-.5-1.7-.7-2.7-.7-1.6 0-2.7.4-3.4 1.2-.4.5-.6 1.2-.7 2h2.4c.1-.4.2-.6.4-.8.2-.3.6-.4 1.2-.4.5 0 .9.1 1.2.2.3.1.4.4.4.8 0 .3-.2.5-.5.7-.2.1-.5.2-1 .2l-.9.1c-1 .1-1.7.3-2.2.6-.9.5-1.4 1.3-1.4 2.5 0 .9.3 1.6.8 2 .6.5 1.3.9 2.2.9.7 0 1.2-.3 1.7-.6.4-.2.8-.6 1.2-.9 0 .2 0 .4.1.6 0 .2.1.8.2 1h2.7v-.8c-.1-.1-.3-.2-.4-.3.1-.3-.3-1.7-.3-2zm-2.2-1.1c0 .8-.3 1.4-.7 1.7-.4.3-1 .5-1.5.5-.3 0-.6-.1-.9-.3-.2-.2-.4-.5-.4-.9 0-.5.2-.8.6-1 .2-.1.6-.2 1.1-.3l.6-.1c.3-.1.5-.1.7-.2.2-.1.3-.1.5-.2v.8z"})));s.defaultProps={size:{width:24,height:24},fill:r.gray40};const i=s},71130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 16 15"},a.createElement("path",{d:"M15.7 7.8c-.2-.1-.5 0-.6.1l-2.9 2.2c-.1.1-.1.1-.2.1V8H0v3h2v3.2c0 .4.3.8.8.8h8.4c.5 0 .8-.4.8-.8V12c0 .1.1.2.2.2l2.9 2.2c.2.2.4.2.6.1.2-.1.3-.3.3-.5V8.4c0-.2-.1-.5-.3-.6zM2.8 6.9c.3 0 .8.1 1.1.1h5.5c.3 0 .8-.1 1-.1 1.6-.3 2.8-1.7 2.8-3.4 0-1.9-1.6-3.5-3.5-3.5-1.2 0-2.4.6-3 1.7h-.1C5.9.6 4.8 0 3.6 0 1.6 0 0 1.6 0 3.5c0 1.7 1.2 3 2.8 3.4zM9 4.2c1 0 1.8-.8 1.8-1.8v-.3c.4.3.6.8.6 1.4 0 1-.8 1.8-1.8 1.8-.9 0-1.6-.6-1.8-1.5.3.3.7.4 1.2.4zm-6.2.1c1 0 1.8-.8 1.8-1.8v-.3c.4.2.6.7.6 1.3 0 1-.8 1.8-1.8 1.8-.9 0-1.6-.6-1.8-1.5.3.3.7.5 1.2.5z"})),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("mask",{id:"path-1-inside-1",fill:"white"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0417 1.94485C9.78645 2.27502 9.21355 2.27502 8.95834 1.94485C8.04391 0.761823 6.61092 0 5 0C2.23858 0 0 2.23858 0 5C0 7.76142 2.23858 10 5 10H14C16.7614 10 19 7.76142 19 5C19 2.23858 16.7614 0 14 0C12.3891 0 10.9561 0.761823 10.0417 1.94485ZM6 4C6 5.10457 5.10457 6 4 6C3.44772 6 3 6.44771 3 7C3 7.55228 3.44772 8 4 8C6.20914 8 8 6.20914 8 4C8 3.44772 7.55229 3 7 3C6.44772 3 6 3.44772 6 4ZM15 4C15 5.10457 14.1046 6 13 6C12.4477 6 12 6.44771 12 7C12 7.55228 12.4477 8 13 8C15.2091 8 17 6.20914 17 4C17 3.44772 16.5523 3 16 3C15.4477 3 15 3.44772 15 4ZM2 14C2 12.3431 3.34315 11 5 11H15C16.5789 11 17.8729 12.2197 17.9912 13.7683L20.382 12.5729C22.0442 11.7418 24 12.9506 24 14.809V18.191C24 20.0494 22.0442 21.2582 20.382 20.4271L18 19.2361V20C18 21.6569 16.6569 23 15 23H5C3.34314 23 2 21.6569 2 20V14Z"})),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0417 1.94485C9.78645 2.27502 9.21355 2.27502 8.95834 1.94485C8.04391 0.761823 6.61092 0 5 0C2.23858 0 0 2.23858 0 5C0 7.76142 2.23858 10 5 10H14C16.7614 10 19 7.76142 19 5C19 2.23858 16.7614 0 14 0C12.3891 0 10.9561 0.761823 10.0417 1.94485ZM6 4C6 5.10457 5.10457 6 4 6C3.44772 6 3 6.44771 3 7C3 7.55228 3.44772 8 4 8C6.20914 8 8 6.20914 8 4C8 3.44772 7.55229 3 7 3C6.44772 3 6 3.44772 6 4ZM15 4C15 5.10457 14.1046 6 13 6C12.4477 6 12 6.44771 12 7C12 7.55228 12.4477 8 13 8C15.2091 8 17 6.20914 17 4C17 3.44772 16.5523 3 16 3C15.4477 3 15 3.44772 15 4ZM2 14C2 12.3431 3.34315 11 5 11H15C16.5789 11 17.8729 12.2197 17.9912 13.7683L20.382 12.5729C22.0442 11.7418 24 12.9506 24 14.809V18.191C24 20.0494 22.0442 21.2582 20.382 20.4271L18 19.2361V20C18 21.6569 16.6569 23 15 23H5C3.34314 23 2 21.6569 2 20V14Z",fill:"#FF61CE"}),a.createElement("path",{d:"M10.0417 1.94485L11.6241 3.16798L11.6241 3.16797L10.0417 1.94485ZM8.95834 1.94485L7.37595 3.16797L7.37595 3.16798L8.95834 1.94485ZM6 4L4 4V4H6ZM4 6L4 8H4V6ZM4 8L4 6H4V8ZM13 6L13 8H13V6ZM13 8L13 6H13V8ZM17.9912 13.7683L15.997 13.9206L16.2236 16.8882L18.8856 15.5572L17.9912 13.7683ZM20.382 12.5729L19.4875 10.7841L19.4875 10.7841L20.382 12.5729ZM20.382 20.4271L21.2764 18.6382L21.2764 18.6382L20.382 20.4271ZM18 19.2361L18.8944 17.4472L16 16V19.2361H18ZM8.45927 0.721718C8.78183 0.30442 9.21471 0.192473 9.5 0.192473C9.78529 0.192473 10.2182 0.30442 10.5407 0.721718L7.37595 3.16798C7.95372 3.91544 8.80066 4.19247 9.5 4.19247C10.1993 4.19247 11.0463 3.91544 11.6241 3.16798L8.45927 0.721718ZM10.5407 0.72172C9.26387 -0.930182 7.25641 -2 5 -2V2C5.96543 2 6.82394 2.45383 7.37595 3.16797L10.5407 0.72172ZM5 -2C1.13401 -2 -2 1.13401 -2 5H2C2 3.34315 3.34315 2 5 2V-2ZM-2 5C-2 8.86599 1.13401 12 5 12V8C3.34315 8 2 6.65685 2 5H-2ZM5 12H14V8H5V12ZM14 12C17.866 12 21 8.86599 21 5H17C17 6.65685 15.6569 8 14 8V12ZM21 5C21 1.13401 17.866 -2 14 -2V2C15.6569 2 17 3.34315 17 5H21ZM14 -2C11.7436 -2 9.73613 -0.930181 8.45927 0.72172L11.6241 3.16797C12.1761 2.45383 13.0346 2 14 2V-2ZM4 4V4V8C6.20914 8 8 6.20914 8 4H4ZM4 4C2.34315 4 1 5.34315 1 7H5C5 7.55228 4.55228 8 4 8L4 4ZM1 7C1 8.65685 2.34315 10 4 10V6C4.55228 6 5 6.44771 5 7H1ZM4 10C7.31371 10 10 7.31371 10 4H6C6 5.10457 5.10457 6 4 6L4 10ZM10 4C10 2.34315 8.65686 1 7 1V5C6.44771 5 6 4.55228 6 4H10ZM7 1C5.34315 1 4 2.34314 4 4L8 4C8 4.55229 7.55228 5 7 5V1ZM13 4V4V8C15.2091 8 17 6.20914 17 4H13ZM13 4C11.3431 4 10 5.34315 10 7H14C14 7.55228 13.5523 8 13 8L13 4ZM10 7C10 8.65685 11.3431 10 13 10V6C13.5523 6 14 6.44771 14 7H10ZM13 10C16.3137 10 19 7.31371 19 4H15C15 5.10457 14.1046 6 13 6L13 10ZM19 4C19 2.34315 17.6569 1 16 1V5C15.4477 5 15 4.55229 15 4H19ZM16 1C14.3431 1 13 2.34314 13 4H17C17 4.55229 16.5523 5 16 5V1ZM4 14C4 13.4477 4.44772 13 5 13V9C2.23858 9 0 11.2386 0 14H4ZM5 13H15V9H5V13ZM15 13C15.5254 13 15.9577 13.4065 15.997 13.9206L19.9854 13.616C19.7881 11.033 17.6324 9 15 9V13ZM18.8856 15.5572L21.2764 14.3618L19.4875 10.7841L17.0968 11.9795L18.8856 15.5572ZM21.2764 14.3618C21.6088 14.1956 22 14.4373 22 14.809H26C26 11.4638 22.4796 9.28808 19.4875 10.7841L21.2764 14.3618ZM22 14.809V18.191H26V14.809H22ZM22 18.191C22 18.5627 21.6088 18.8044 21.2764 18.6382L19.4875 22.2159C22.4796 23.7119 26 21.5362 26 18.191H22ZM21.2764 18.6382L18.8944 17.4472L17.1056 21.0249L19.4875 22.2159L21.2764 18.6382ZM16 19.2361V20H20V19.2361H16ZM16 20C16 20.5523 15.5523 21 15 21V25C17.7614 25 20 22.7614 20 20H16ZM15 21H5V25H15V21ZM5 21C4.44772 21 4 20.5523 4 20H0C0 22.7614 2.23857 25 5 25V21ZM4 20V14H0V20H4Z",fill:"#FF61CE",mask:"url(#path-1-inside-1)"})));s.defaultProps={size:{width:24,height:24},fill:r.gray40};const i=s},35988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(22320),c=n(62513),d=["size","isCompact"],u=e=>{var t=e.size,n=t.width,a=t.height,r=e.isCompact,l=s()(e,d);return r?i.createElement("svg",o()({role:"img",viewBox:"0 0 12.3 13.7",width:n,height:a},l),i.createElement("path",{d:"M9.2.2C8.7-.2 8 .2 8 .8v1.1H3.1c-2 0-3.1 1-3.1 2.6v1.9c0 .5.4.9.9.9.1 0 .2 0 .3-.1.3-.1.6-.5.6-.8V5.2c0-1.4.3-1.5 1.3-1.5H8v1.1c0 .6.7 1 1.2.6l3.1-2.6L9.2.2zM12 7.4c0-.5-.4-.9-.9-.9s-.9.4-.9.9v1.2c0 1.4-.3 1.5-1.3 1.5H4.3V9c0-.6-.7-.9-1.2-.5L0 11l3.1 2.6c.5.4 1.2.1 1.2-.5v-1.2h4.6c2 0 3.1-1 3.1-2.6V7.4z"})):i.createElement("svg",o()({role:"img",viewBox:"0 0 17 18.1",width:n,height:a},l),i.createElement("path",{d:"M12.8.2c-.4-.4-.8-.2-.8.4v2H2c-2 0-2 2-2 2v5s0 1 1 1 1-1 1-1v-4c0-1 .5-1 1-1h9v2c0 .6.3.7.8.4L17 3.6 12.8.2zM4.2 17.9c.5.4.8.2.8-.3v-2h10c2 0 2-2 2-2v-5s0-1-1-1-1 1-1 1v4c0 1-.5 1-1 1H5v-2c0-.6-.3-.7-.8-.4L0 14.6l4.2 3.3z"}))};u.defaultProps={size:l.Z.desktop.reblogIconSize,fill:c.paletteGray65,isCompact:!1};const p=u},4596:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},a.createElement("path",{d:"M1.676 5.7c0-2.2 1.873-4 4.042-4 2.268 0 4.043 1.8 4.043 4s-1.775 4-4.043 4c-2.169 0-4.042-1.8-4.042-4zm11.732 6.4L10.352 9c.69-.9 1.085-2.1 1.085-3.3 0-3.1-2.564-5.7-5.719-5.7C2.563 0 0 2.6 0 5.7s2.563 5.7 5.718 5.7c1.085 0 2.17-.4 3.057-.9l3.253 3.2c.197.2.493.3.789.3.296 0 .591-.1.789-.3.197-.2.394-.5.394-.8 0-.3-.296-.5-.592-.8z"})));s.defaultProps={size:{width:14,height:14},fill:r.darkTumblrBlue};const i=s},92316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.createElement("path",{d:"M24 10.526l-.36-.12-2.94-.962-.78-1.925 1.5-3.248-1.92-1.985-.36.18-2.76 1.444-1.86-.782L13.32 0h-2.58l-.12.421-1.08 2.707-1.86.782L4.5 2.346 2.58 4.33l1.56 3.188-.78 1.925L0 10.586v2.828l.36.12 2.94 1.083.78 1.924-1.5 3.309 1.92 1.985.36-.18 2.76-1.444 1.86.781L10.68 24h2.58l.12-.36 1.08-2.587 1.86-.782 3.18 1.564 1.92-1.985-.18-.361-1.38-2.827.78-1.925 3.3-1.203v-3.008H24zM7.2 11.97c0-2.647 2.16-4.812 4.8-4.812 2.64 0 4.8 2.165 4.8 4.812 0 2.647-2.16 4.812-4.8 4.812-2.64 0-4.8-2.165-4.8-4.812z"})),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4C13 6.06023 15.4914 7.09443 16.9498 5.63612C17.3403 5.2456 17.9734 5.2456 18.364 5.63612C18.7545 6.02664 18.7545 6.65981 18.364 7.05033C16.9062 8.50812 17.9391 11 20 11C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13C17.9385 13 16.9065 15.4924 18.364 16.9498C18.7545 17.3403 18.7545 17.9735 18.364 18.364C17.9734 18.7545 17.3403 18.7545 16.9497 18.364C15.4925 16.9068 13 17.9382 13 20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20C11 17.9387 8.50778 16.9064 7.05025 18.364C6.65972 18.7545 6.02656 18.7545 5.63603 18.364C5.24551 17.9734 5.24551 17.3403 5.63603 16.9497C7.09354 15.4922 6.06135 13 4 13C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11C6.06073 11 7.0939 8.50824 5.63603 7.05037C5.2455 6.65984 5.2455 6.02668 5.63603 5.63616C6.02655 5.24563 6.65972 5.24563 7.05024 5.63615C8.50887 7.09479 11 6.05978 11 4ZM16.9671 3.42318C17.9449 3.19318 19.0157 3.45942 19.7782 4.22191C20.5406 4.98437 20.8069 6.05514 20.5769 7.03292C20.5723 7.05271 20.5674 7.07245 20.5624 7.09216C20.4593 7.49369 20.2718 7.87804 20 8.21707C19.9314 8.30259 19.8575 8.38524 19.7782 8.46455C19.5806 8.66214 19.7206 9 20 9C20.1121 9 20.2228 9.00615 20.3318 9.01814C20.7637 9.06566 21.1681 9.20489 21.5249 9.41593C21.5424 9.42628 21.5598 9.4368 21.5771 9.4475C22.4311 9.97628 23 10.9217 23 12C23 13.0783 22.4311 14.0238 21.577 14.5525C21.5597 14.5632 21.5424 14.5738 21.5249 14.5841C21.1681 14.7951 20.7638 14.9343 20.3319 14.9818C20.2229 14.9938 20.1122 15 20 15C19.7205 15 19.5805 15.3379 19.7782 15.5356C19.8575 15.6149 19.9314 15.6975 20 15.7831C20.2718 16.1221 20.4592 16.5064 20.5623 16.9079C20.5674 16.9276 20.5722 16.9473 20.5769 16.9671C20.8069 17.9449 20.5407 19.0157 19.7782 19.7782C19.0157 20.5407 17.9449 20.8069 16.9671 20.5769C16.9473 20.5723 16.9276 20.5674 16.9079 20.5624C16.5064 20.4593 16.122 20.2718 15.783 20C15.6975 19.9314 15.6148 19.8575 15.5355 19.7782C15.3379 19.5806 15 19.7205 15 20C15 20.1122 14.9938 20.2229 14.9818 20.3319C14.9343 20.7638 14.7951 21.1681 14.5841 21.5249C14.5737 21.5424 14.5632 21.5598 14.5525 21.5771C14.0237 22.4311 13.0783 23 12 23C10.9217 23 9.97625 22.4311 9.44747 21.577C9.43677 21.5598 9.42625 21.5424 9.4159 21.5249C9.20489 21.1681 9.06568 20.7638 9.01815 20.3319C9.00616 20.2229 9 20.1122 9 20C9 19.7205 8.66209 19.5805 8.46446 19.7782C8.38515 19.8575 8.3025 19.9314 8.21697 20C7.87796 20.2718 7.49364 20.4592 7.09213 20.5623C7.07243 20.5674 7.0527 20.5723 7.03292 20.5769C6.05512 20.8069 4.98431 20.5407 4.22182 19.7782C3.45934 19.0157 3.1931 17.9449 3.42309 16.9671C3.42774 16.9473 3.4326 16.9276 3.43765 16.9079C3.54075 16.5064 3.7282 16.122 4 15.783C4.06857 15.6975 4.14251 15.6148 4.22182 15.5355C4.41945 15.3379 4.27948 15 4 15C3.88784 15 3.77711 14.9938 3.66814 14.9819C3.23624 14.9343 2.83193 14.7951 2.47512 14.5841C2.45762 14.5738 2.44023 14.5632 2.42296 14.5525C1.56891 14.0238 1 13.0783 1 12C1 10.9217 1.56888 9.9763 2.42289 9.44751C2.44016 9.43682 2.45754 9.4263 2.47504 9.41595C2.83191 9.20489 3.23628 9.06565 3.66826 9.01813C3.77719 9.00615 3.88788 9 4 9C4.27942 9 4.4194 8.66216 4.22181 8.46458C4.14251 8.38528 4.06857 8.30263 4 8.21711C3.72818 7.87807 3.54072 7.49371 3.43763 7.09217C3.43257 7.07246 3.42771 7.05271 3.42306 7.03293C3.19311 6.05515 3.45936 4.9844 4.22181 4.22194C4.9843 3.45946 6.0551 3.19322 7.03291 3.42321C7.0527 3.42787 7.07246 3.43273 7.09218 3.43779C7.49361 3.54088 7.87786 3.72828 8.21682 4C8.3024 4.06861 8.3851 4.14259 8.46446 4.22194C8.66208 4.41957 9 4.27949 9 4C9 3.88788 9.00615 3.77719 9.01813 3.66826C9.06565 3.23632 9.20487 2.83198 9.41589 2.47514C9.42623 2.45766 9.43674 2.44029 9.44742 2.42304C9.97619 1.56895 10.9216 1 12 1C13.0783 1 14.0238 1.56894 14.5526 2.42302C14.5633 2.44027 14.5738 2.45764 14.5841 2.47513C14.7951 2.83197 14.9343 3.2363 14.9819 3.66823C14.9938 3.77717 15 3.88787 15 4C15 4.27949 15.3379 4.41953 15.5355 4.22191C15.6149 4.14256 15.6976 4.0686 15.7831 4C16.1221 3.72826 16.5064 3.54084 16.9078 3.43775C16.9275 3.43269 16.9473 3.42783 16.9671 3.42318ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z",fill:"black"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},60046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(95004),o=n(80630),r=n(23866),s=n(2972),i=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 15 18.9"},a.createElement("path",{d:"M7.5 8.8c2.6 0 4.7-2 4.7-4.4S10.1 0 7.5 0 2.8 2 2.8 4.4C2.9 6.8 5 8.8 7.5 8.8zm0 1.5c-4.2 0-7.5 3.2-7.5 7.4 0 .6.5 1.2 1.2 1.2h12.6c.7 0 1.2-.5 1.2-1.2 0-4.1-3.3-7.4-7.5-7.4z"}))),l=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 15 21"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.988 5a.012.012 0 01-.011-.01 5.5 5.5 0 00-10.954 0c0 .005-.005.01-.011.01A.012.012 0 002 5.012v7.066c0 1.022-.435 1.98-.958 2.859A7.491 7.491 0 000 18.794C0 19.397.5 20 1.2 20h12.6c.7 0 1.2-.503 1.2-1.206 0-1.4-.38-2.708-1.049-3.824-.522-.873-.951-1.827-.951-2.844V5.012A.012.012 0 0012.988 5zM5 4a1 1 0 011 1v1a1 1 0 01-2 0V5a1 1 0 011-1zm6 1a1 1 0 10-2 0v1a1 1 0 002 0V5z"}))),c=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 15 21"},a.createElement("defs",null,a.createElement("clipPath",{id:"clipWitch"},a.createElement("path",{d:"M0 0h15v21H0z"}))),a.createElement("g",{clipPath:"url(#clipWitch)"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9h-.027a4.5 4.5 0 11-8.945 0H3l.036-.072c.04-.321.115-.632.22-.928H1a2 2 0 012-2h1.3l1.076-3.586a1 1 0 01.51-.607L9.01.245a1 1 0 01.962.037l2.981 1.79c.435.26.25.928-.257.928H10l.75 3H12a2 2 0 012 2h-2.256c.105.296.18.607.22.928L12 9zM0 20.75c0-4.2 3.3-5.4 7.5-5.4s7.5 1.3 7.5 5.4c0 .7-.5 1.2-1.2 1.2H1.2c-.7 0-1.2-.6-1.2-1.2z"})))),d=e=>{var t=(0,s.M)(),n=[r.Z.ghost,r.Z.vampire].includes(null==t?void 0:t.name)?l:(null==t?void 0:t.name)===r.Z.pumpkin?c:i;return a.createElement(n,e)};d.defaultProps={size:{width:24,height:24}};const u=d},99107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(80630),r=n(62513),s=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 24 24"},a.createElement("path",{fillRule:"evenodd",d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11zm0-17a1 1 0 011 1v6a1 1 0 11-2 0V7a1 1 0 011-1zm0 10a1 1 0 110 2 1 1 0 010-2z"})));s.defaultProps={size:{width:24,height:24},fill:r.white};const i=s},69675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(92969),o=n.n(a),r=n(95004),s=n(18485);class i extends r.Component{render(){var e=this.props,t=e.className,n=e.src,a=e.title,o=e.queryParams,i=e.scrolling,l=e.frameBorder,c=e.style,d=e.onLoad,u=e.placementId,p=e.allow,m=e.allowFullScreen;return r.createElement("iframe",{className:t,name:u,title:a,src:(0,s.Z)(n,o),scrolling:i,frameBorder:l,style:c,onLoad:d,allow:p,allowFullScreen:m})}}o()(i,"defaultProps",{className:"",queryParams:{},scrolling:"no",frameBorder:0});const l=i},22909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(6632),l=n.n(i),c=n(95004),d=n(2540),u=n(96724);const p="lRcb3";class m extends c.Component{constructor(){super(...arguments),s()(this,"canvas",null),s()(this,"img",null),s()(this,"onImageLoad",(()=>{if(this.canvas){var e=this.canvas.getContext("2d");e&&(e.imageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.drawImage(this.img,0,0,4,4),e.drawImage(this.canvas,0,0,4,4,0,0,this.canvas.width,this.canvas.height),this.props.onLoad&&this.props.onLoad())}}))}render(){return c.createElement("canvas",{className:p,ref:e=>this.canvas=e})}componentDidMount(){this.img=new Image,this.img.src=this.props.src,this.img.onload=this.onImageLoad}}class h extends c.Component{constructor(){super(...arguments),s()(this,"mediaResponse",new u.Z(this.props.imageResponse)),s()(this,"state",{lastImageResponse:this.props.imageResponse,mediaResponse:new u.Z(this.props.imageResponse)})}static getDerivedStateFromProps(e,t){return e.imageResponse!==t.lastImageResponse?{lastImageResponse:e.imageResponse,mediaResponse:new u.Z(e.imageResponse)}:null}componentDidMount(){this.props.onLoad&&l()(this.imgEl,"complete")&&this.props.onLoad()}render(){var e=this.props.appContext._t,t=this.props,n=t.className,a=t.altText,r=t.style,s=t.sizes,i=t.pixelated,l=t.onLoad,d=t.tabIndex,u=t.loading,p=t.isDraggable,h=this.state.mediaResponse.getSmallestImage();if(i&&h)return c.createElement("div",{className:n,style:o()(o()({},r),{},{overflow:"hidden"})},c.createElement(m,{onLoad:l,src:h.url}));var g=this.state.mediaResponse.getImagesArray(),v=g.filter((e=>-1===e.url.indexOf("sq.")||1===g.length));return c.createElement("img",{className:n,srcSet:v.map((e=>{var t=e.url,n=e.width;return"".concat(t).concat(n?" ".concat(n,"w"):"")})).join(", "),sizes:s,alt:a||e("Image"),onLoad:l,ref:e=>this.imgEl=e,style:r,tabIndex:d,loading:u,draggable:p})}}s()(h,"defaultProps",{className:"",style:{},caption:"",loading:"lazy"});const g=(0,d.HJ)(h)},18602:(e,t,n)=>{"use strict";n.d(t,{fV:()=>T,Q3:()=>S,Pp:()=>x,cq:()=>w});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(95004),d=n(38678),u=n(38022),p=n(22909),m=n(51742),h=n(59020),g=n(96724);const v=e=>{var t=new g.Z(e).getImagesArray(),n=t&&t[0];if(n)for(var a=n.url,o=0;o<document.images.length;o+=1){var r=document.images.item(o);if(r&&r.srcset.indexOf(a)>-1)return!0}return!1};var b=n(62513);const f="_0MuRn",E="nLowv",C="ka81k",y="t5G6U";var w=(e,t)=>{var n=t.displayHeight||t.height,a=e?n/t.width:void 0;return a&&!isNaN(a)?"".concat(100*a,"%"):void 0},k={tumblrBlue:n.n(b)().segwayNavy,lightBlue:"#A8CEE5",seafoam:"#A9D5BF",peach:"#F0C597",salmon:"#E4A89B",lavender:"#CAB7D8"},P=[[k.lightBlue,k.tumblrBlue],[k.tumblrBlue,k.seafoam],[k.peach,k.tumblrBlue],[k.tumblrBlue,k.salmon],[k.lavender,k.tumblrBlue]];class S extends c.Component{constructor(){super(...arguments),l()(this,"state",{isLoaded:!1,isOnScreen:this.props.defaultsToOnScreen||!1}),l()(this,"onLoad",(()=>{this.setState({isLoaded:!0})})),l()(this,"handleIntersectionChange",((e,t)=>{var n=t.target;this.setState({clientWidth:n.clientWidth,isOnScreen:e})}))}render(){var e,t=this.props,n=t.imageResponse,a=t.colors,r=t.isTransparent,i=t.isSquare,l=t.isBlurredImages,v=t.className,b=t.placeholderClassName,k=this.state,S=k.isLoaded,T=k.isOnScreen,x=k.clientWidth,N=!T||!S,I=new g.Z(n),R=I.getImagesArray().length>0&&!I.getLargestImage().originalDimensionsMissing,M=I.getLargestImage(),A=!(null==M||!M.url),B=i?"100%":w(R,M),Z=(N||!A)&&"linear-gradient(to bottom left, ".concat((a?Object.keys(a).map((e=>"#".concat(a[e]))):A?(0,h.Y)(P,M.url):[""]).join(", "),")")||void 0,L=Object.assign({},this.props,{className:(0,m.Z)(s()(s()({},!!v&&{[v]:!0}),{},{[E]:R,[C]:!R,[y]:!N&&!r})),sizes:this.props.sizes||(T&&x?"".concat(Math.ceil(x),"px"):void 0)});return delete L.colors,A&&T&&L.sizes&&(e=l?c.createElement(u.Z,o()({},L,{onLoad:this.onLoad})):c.createElement(p.Z,o()({},L,{onLoad:this.onLoad}))),c.createElement(d.df,{onChange:this.handleIntersectionChange,rootMargin:"100%",className:(0,m.Z)(s()({[f]:!0},!!b&&{[b]:!0})),style:{paddingBottom:B,background:Z},suppressHydrationWarning:!0},e)}}var T=function(e){var t=s()({},e);return delete t.sizes,t.defaultsToOnScreen=!1,c.createElement(S,t)},x=function(e){var t=s()(s()({},e),{},{defaultsToOnScreen:v(e.imageResponse)});return c.createElement(S,t)}},56381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ge});var a=n(95004),o=n(4777),r=n(89494),s=n(25531);const i="h1rLz",l="le6nD";const c=function(e){var t=e.showHeader,n=e.children,o=[i];return t||o.push(l),a.createElement("header",{className:o.join(" ")},n)};var d=n(92969),u=n.n(d),p=n(59319),m=n(64018),h=n(90976),g=n(2540);const v="oFCPF";var b=e=>{var t=e.children;return a.createElement("div",{className:v,"data-has-error":!0},t)},f=e=>{var t,n=e.error,o=(0,g.bp)(),r=o.wwwBaseUrl,s=o.features.loginWithPrimaryTumblelog;if(null==n)return null;switch(n){case h.Wj.ResetRequired:t=a.createElement(m.ZP,{comment:"when trying to login and the password must be reset",components:{br:a.createElement("br",null),a:a.createElement("a",{href:"".concat(r,"/forgot_password")})}},"Welcome back![br/]It's time to [a]change your password[/a].");break;case h.Wj.TfaRequired:t=a.createElement(m.ZP,{comment:"Message on login screen"},"Please enter your two factor auth code from your mobile device.");break;case h.Wj.TfaFail:t=a.createElement(m.ZP,{comment:"Message on login screen"},"The two factor auth code was incorrect.");break;case h.Wj.InputsEmpty:t=a.createElement(m.ZP,{comment:"Error message on login screen"},"You do have to fill this stuff out, you know.");break;case h.Wj.PasswordEmpty:t=a.createElement(m.ZP,{comment:"Error message on login screen"},"You forgot to enter your password!");break;case h.Wj.EmailEmpty:t=a.createElement(m.ZP,{comment:"Error message on login screen"},"You forgot to enter your email!");break;case h.Wj.PasswordFail:t=s?a.createElement(m.ZP,{comment:"Error message on login screen"},"Your email, blog name, or password were incorrect."):a.createElement(m.ZP,{comment:"Error message on login screen"},"Your email or password were incorrect.");break;case h.Wj.Unknown:t=a.createElement(m.ZP,{comment:"Error message on login screen"},"Oops. There was an error. Try again.")}return a.createElement(b,null,t)},E=n(78315),C=n(4569),y=n(76097),w=n(64653),k=n(76117),P=n(43893),S=n.n(P),T=n(95394),x=n.n(T),N=n(6957),I=n(62513);const R="yC5pj";var M={textColor:I.black,backgroundColor:I.dreamcastBlue,size:N.jf.EntireWidth,type:"submit"};const A=e=>a.createElement(N.ZP,x()({},M,e,{disabledBackgroundColor:e.backgroundColor,disabledTextColor:e.textColor,disabledTheme:N.tl.Default,wrapperClassName:R}));var B=n(51742);const Z="gj_Aq",L="szP6f";const O=e=>{var t=e.type,n=e.name,o=e.placeholder,r=e.autoComplete,s=void 0===r?"off":r,i=e.value,l=e.autoFocus,c=void 0!==l&&l,d=e.onChange,u=e.onBlur,p=e.onFocus,m=e.hidden;return a.createElement("input",{className:(0,B.Z)({[Z]:!0,[L]:m}),type:t,name:n,"aria-label":n,placeholder:o,autoComplete:s,value:i,autoFocus:c,onChange:d,onBlur:u,onFocus:p})};var D=n(22654),F=n(26688);const _=e=>{var t=e.onVerification,n=e.onError,o=(0,g.bp)()._t,r=(0,F.h)().fetchLoginMode,s=(0,a.useState)(""),i=S()(s,2),l=i[0],c=i[1],d=(0,a.useCallback)((e=>{var t=e.target;return c(t.value)}),[]),u=(0,a.useState)(!1),p=S()(u,2),m=p[0],v=p[1],b=()=>{v(!1),n(h.Wj.Unknown)},f=e=>{var a=e.response;v(!1);var o=a.mode,r=a.captchaRequired,s=(e=>Object.values(w.hY).find((t=>t===e)))(o);s?t({email:l,allowedLoginMode:s,needsCaptcha:!!r}):n(h.Wj.Unknown)},E=(0,a.useCallback)((e=>{e.preventDefault(),m||(v(!0),r({email:l,onFulfilled:f,onRejected:b}))}),[l,m]);return a.createElement("form",{action:"",method:"post",onSubmit:E},a.createElement(O,{type:"text",name:"email",placeholder:o("Email"),autoComplete:"email",autoFocus:!0,value:l,onChange:d}),a.createElement(A,{label:o("Next")},m?a.createElement(D.Z,{small:!0,color:I.black}):o("Next")))};var H=n(29359),U=n(40138);const z="wTMi1";const V=e=>{var t=e.wwwBaseUrl,n=e.action,o=n?'By clicking "'.concat(n,'", or continuing with the other options below'):"By continuing with the options below";return a.createElement("div",{className:z},a.createElement(m.ZP,{comment:"Placeholders are link opening and closing tags around terms of service text",params:{actionPhrase:o},components:{tumblrTOSLink:a.createElement("a",{href:"".concat(t,"/policy/terms-of-service"),target:"_blank",rel:"noopener noreferrer"}),tumblrPrivacyLink:a.createElement("a",{href:"".concat(t,"/policy/privacy"),target:"_blank",rel:"noopener noreferrer"})}},"[actionPhrase], you agree to Tumblr’s [tumblrTOSLink]Terms of Service[/tumblrTOSLink] and have read the [tumblrPrivacyLink]Privacy Policy[/tumblrPrivacyLink]"))};var W=n(2978);const G="QXFvZ",q="FOMdK",j="SiQEE",K="QnWzN",Q="gqith",J="pWa_V",Y="YJ2v4";const X=e=>{var t=e.children,n=e.formToShow,o=e.queryParams.redirect_to,r=(0,g.bp)(),s=r.logEvent,i=r.features.redpopThirdPartyAuthentication,l=r.wwwBaseUrl;return a.createElement(a.Fragment,null,t,i&&a.createElement(a.Fragment,null,a.createElement("div",{className:K},a.createElement("div",{className:(0,B.Z)([Q,J])}),a.createElement(m.ZP,{comment:"Text that separates our different login methods"},"or"),a.createElement("div",{className:(0,B.Z)([Q,Y])})),!n&&a.createElement(V,{wwwBaseUrl:l}),a.createElement(N.ZP,{className:G,"data-testid":"google-login-button",textColor:I.black,backgroundColor:I.white,size:N.jf.EntireWidth,feature:!1,href:"/auth/google?redirectTo=".concat(o),onClick:()=>{s({eventName:n===y.c.Register?W.JE.GoogleRegisterClick:W.JE.GoogleLoginClick})}},a.createElement(U.Z,null),a.createElement("div",{className:q},a.createElement(m.ZP,{comment:"Text on button to log in with Google"},"Continue with Google"))),a.createElement(N.ZP,{className:G,"data-testid":"apple-login-button",textColor:I.black,backgroundColor:I.white,size:N.jf.EntireWidth,feature:!1,href:"/auth/apple?redirectTo=".concat(o),onClick:()=>{s({eventName:n===y.c.Register?W.JE.AppleRegisterClick:W.JE.AppleLoginClick})}},a.createElement(H.Z,null),a.createElement("div",{className:j},a.createElement(m.ZP,{comment:"Text on button to log in with Apple"},"Continue with Apple")))))};const $=function(e){var t=e.email,n=e.onUsePasswordClick,o=(0,(0,g.bp)()._t)("Use password to log in");return a.createElement(a.Fragment,null,a.createElement(b,null,a.createElement("h3",null,a.createElement(m.ZP,null,"We sent you a magic link!")),a.createElement("p",null,a.createElement(m.ZP,{params:{email:t},components:{bold:a.createElement("b",null)}},"We sent an email to [bold][email][/bold]. It contains a magic link that’ll log you in."))),a.createElement(A,{onClick:n,label:o},o))};var ee=n(69938),te=n(84698);const ne={forgotPassword:"i9WPo",loader:"Lbj5E",formRow:"NqEjV",termsOfService:"Y1DAu"};var ae=a.createElement("div",{className:ne.loader},a.createElement(D.Z,{small:!0,color:I.black}));const oe=e=>{var t=e.email,n=e.magicLinkAllowed,o=e.initialNeedsCaptcha,r=e.initialCaptchaToken,s=e.onLoginSuccess,i=e.onMagicLinkRequested,l=e.onError,c=e.onGdprConsentRequired,d=(0,g.bp)(),u=d._t,p=d.apiFetch,m=d.getBootstrap,v=d.wwwBaseUrl,b=d.features,f=b.redpopThirdPartyAuthentication,E=b.loginWithPrimaryTumblelog,C=(0,F.h)().logIn,y=(0,a.useState)(t),k=S()(y,2),P=k[0],T=k[1],x=(0,a.useCallback)((e=>T(e.target.value)),[]),N=(0,a.useState)(""),R=S()(N,2),M=R[0],B=R[1],Z=(0,a.useCallback)((e=>B(e.target.value)),[]),L=(0,a.useState)(!1),D=S()(L,2),_=D[0],H=D[1],U=(0,a.useState)(void 0),z=S()(U,2),W=z[0],G=z[1],q=(0,a.useCallback)((e=>G(e.target.value)),[]),j=(0,a.useState)(!1),K=S()(j,2),Q=K[0],J=K[1],Y=(0,a.useState)(o),X=S()(Y,2),$=X[0],oe=X[1],re=(0,a.useState)(r),se=S()(re,2),ie=se[0],le=se[1],ce=m("recaptchaV3PublicKey").value,de=(0,a.useRef)(null);a.useEffect((()=>{$&&(0,ee.loadReCaptcha)(ce)}),[$]);var ue=(0,a.useCallback)((e=>{var t,n,a;if(J(!1),le(void 0),(0,te._V)(e))c();else{var o,r=!(null===(t=e.body)||void 0===t||!t.captchaRequired)||"captcha_invalid"===(null===(n=e.body)||void 0===n?void 0:n.error);if($&&r)null===(o=de.current)||void 0===o||o.execute();oe(r);var s=((e,t,n,a)=>{var o=0===n.length,r=0===t.length;switch(a){case"password_reset":return h.Wj.ResetRequired;case"tfa_invalid":return h.Wj.TfaFail}switch(e){case 409:return h.Wj.TfaRequired;case 401:case 400:return r&&o?h.Wj.InputsEmpty:o?h.Wj.PasswordEmpty:r?h.Wj.EmailEmpty:h.Wj.PasswordFail}return h.Wj.Unknown})(e.status,P,M,null===(a=e.body)||void 0===a?void 0:a.error);409===e.status&&H(!0),l(s)}}),[M,P,$]);a.useEffect((()=>{!Q||$&&!ie||C({captchaToken:ie,password:M,tfaToken:W,onFulfilled:s,email:P,onRejected:ue})}),[Q,$,ie,ue]);var pe=(0,a.useCallback)((e=>{e.preventDefault(),J(!0)}),[Q]),me=(0,a.useState)(!1),he=S()(me,2),ge=he[0],ve=he[1],be=(0,a.useCallback)((e=>{e.preventDefault(),ge||(ve(!0),(0,w.it)(p,{email:t}).fetch((()=>i())).catch((()=>l(h.Wj.Unknown))))}),[t,ge]);return a.createElement(a.Fragment,null,a.createElement("form",{action:"",method:"post",className:ne.login,onSubmit:pe},a.createElement("div",{className:ne.formRow},a.createElement(O,{type:"text",name:E?"email or blog name":"email",placeholder:u(E?"Email or blog name":"Email"),autoComplete:E?"email or blog name":"email",value:P,onChange:x,autoFocus:f&&!_})),a.createElement("div",{className:ne.formRow},a.createElement(O,{type:"password",name:"password",placeholder:u("Password"),autoComplete:"current-password",value:M,onChange:Z,autoFocus:!f&&!_})),_?a.createElement(O,{type:"text",name:"tfaToken",placeholder:u("Enter auth code"),autoComplete:"one-time-code",value:W,onChange:q,autoFocus:_,readOnly:Q}):null,$&&a.createElement(ee.ReCaptcha,{ref:de,sitekey:ce,action:"login",verifyCallback:le}),a.createElement(V,{wwwBaseUrl:v,action:"log in"}),a.createElement(A,{disabled:Q,label:u("Log in")},Q?ae:u("Log in"))),n?a.createElement(A,{backgroundColor:I.glassGreen,disabled:ge,onClick:be,label:u("Send me a magic link")},ge?ae:u("Send me a magic link")):null,a.createElement("a",{className:ne.forgotPassword,href:"".concat(v,"/forgot_password")},u("Forgot your password?")))},re={signupPrompt:"BayF6"};class se extends a.Component{constructor(){super(...arguments),u()(this,"state",{email:"",password:"",tfaToken:"",loading:!1,needsTfaToken:!1,magicLinkRequested:!1,needsCaptcha:!1,error:null}),u()(this,"onEmailVerificationSuccess",(e=>{var t=e.email,n=e.allowedLoginMode,a=e.needsCaptcha;this.setState({email:t,needsCaptcha:a,loginMode:n,error:n===w.hY.PasswordReset?h.Wj.ResetRequired:null})})),u()(this,"onError",(e=>this.setState({error:e}))),u()(this,"onLoginSuccess",(()=>{var e,t,n;null===(e=(t=this.props).onLoginSuccess)||void 0===e||e.call(t),window.location.replace((0,k.Z)(null===(n=this.props.queryParams)||void 0===n?void 0:n.redirect_to))})),u()(this,"onGdprConsentRequired",(()=>{var e=this.props,t=e.appContext.wwwBaseUrl,n=e.queryParams.redirect_to;window.location.replace("".concat(t).concat((0,E.XU)({[C.A.Redirect]:(0,k.Z)(n)})))})),u()(this,"onMagicLinkRequested",(()=>{this.setState({magicLinkRequested:!0,error:null})})),u()(this,"onUsePasswordClick",(()=>this.setState({magicLinkRequested:!1,error:null})))}render(){var e=this.state,t=e.loginMode,n=e.error,o=e.magicLinkRequested,r=e.email,s=e.needsCaptcha,i=this.props,l=i.appContext.features.redpopThirdPartyAuthentication,c=i.signupClickCallback,d=i.queryParams,u=t===w.hY.Register?a.createElement(b,null,a.createElement(m.ZP,{comment:"when trying to login and the email doesn't have an account",components:{link:a.createElement(p.Link,{to:(0,E.gZ)({formToShow:y.c.Register},{source:h.yy.EmailNotInUseYet})})}},"This email doesn't have a Tumblr account. [link]Sign up[/link] now?")):a.createElement(f,{error:n});return t&&t!==w.hY.PasswordReset&&t!==w.hY.Register?o||t===w.hY.MagicLinkSent?a.createElement($,{email:r,onUsePasswordClick:this.onUsePasswordClick}):a.createElement(a.Fragment,null,u,a.createElement(oe,{email:r,magicLinkAllowed:t===w.hY.MagicLink,initialNeedsCaptcha:s,onLoginSuccess:this.onLoginSuccess,onMagicLinkRequested:this.onMagicLinkRequested,onError:this.onError,onGdprConsentRequired:this.onGdprConsentRequired})):a.createElement(a.Fragment,null,u,l?a.createElement(a.Fragment,null,a.createElement(X,{formToShow:y.c.Login,queryParams:d},a.createElement(oe,{email:r,magicLinkAllowed:!1,initialNeedsCaptcha:s,onLoginSuccess:this.onLoginSuccess,onMagicLinkRequested:this.onMagicLinkRequested,onError:this.onError,onGdprConsentRequired:this.onGdprConsentRequired})),a.createElement("div",{className:re.signupPrompt},a.createElement(m.ZP,{components:{a:a.createElement(p.Link,{to:"/register?source="+h.yy.NewToTumblrPrompt,onClick:c})}},"New to Tumblr? [a]Sign up![/a]"))):a.createElement(_,{onVerification:this.onEmailVerificationSuccess,onError:this.onError}))}}const ie=(0,g.HJ)(se);var le=n(36104),ce=n(44093),de=n(27884),ue=n.n(de),pe=n(19195),me=n.n(pe),he=n(31962),ge=n(26255),ve=n(21392);const be=e=>{var t=e.queryParams.redirect_to,n=(0,g.bp)(),o=n._t,r=n._c,s=n.apiFetch,i=n.getCookie,l=(0,a.useState)(null),c=S()(l,2),d=c[0],u=c[1],p=(0,a.useState)(""),m=S()(p,2),h=m[0],v=m[1],f=function(){var e=ue()(me().mark((function e(n){var a,o,l,c,d,p,m,g,v,b,f,E,C;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),u(null),!h){e.next=16;break}return e.prev=3,e.next=6,(0,w.nz)(s,{idToken:i("snacc"),nonce:(0,ge.Z)(),tfaCode:h}).fetch();case 6:location.replace((0,k.Z)(t)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),g=null===e.t0||void 0===e.t0||null===(a=e.t0.body)||void 0===a||null===(o=a.response)||void 0===o||null===(l=o.tumblelogErrors)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.message,v=null===e.t0||void 0===e.t0||null===(d=e.t0.body)||void 0===d||null===(p=d.errors)||void 0===p||null===(m=p[0])||void 0===m?void 0:m.code,g?u(g):v===ve.Z.TfaInvalid?u(r("Invalid auth code","The auth code you entered was invalid.")):(C=(null===e.t0||void 0===e.t0||null===(b=e.t0.body)||void 0===b||null===(f=b.errors)||void 0===f||null===(E=f[0])||void 0===E?void 0:E.detail)||r("General error message","Something broke. Try again."),u(C),(0,he.Tb)(e.t0));case 14:e.next=17;break;case 16:u(r("Error message when entering two factor authentication code","You forgot to enter your auth code!"));case 17:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),E=r("Text on button to login after entering the two factor authentication code","Log in");return a.createElement("form",{action:"",method:"post",onSubmit:f},d&&a.createElement(b,null,d),a.createElement("div",{className:re.inputFields},a.createElement(O,{type:"text",name:"tfaToken",placeholder:o("Enter auth code"),autoComplete:"one-time-code",value:h,onChange:e=>v(e.target.value)})),a.createElement(A,null,E))};class fe{setValue(e){this.value=e,this.onValueSet&&this.onValueSet(e)}getValue(){return this.value?Promise.resolve(this.value):(this.valuePromise||(this.valuePromise=new Promise((e=>{this.onValueSet=e}))),this.valuePromise)}}const Ee={inputFields:"kYGTI",formRow:"bPhsi",suggestedBlogNames:"TuZgn",suggestedBlogNamesTitle:"DYpuj",termsOfService:"D8AYW",recaptchaTerms:"eaqVg",button:"E_Qq0",prompt:"zDi0Y"};class Ce extends a.Component{constructor(){var e;super(...arguments),e=this,u()(this,"state",{age:""}),u()(this,"recaptchaToken",new fe),u()(this,"SITE_KEY",this.props.appContext.getBootstrap("recaptchaV3PublicKey").value),u()(this,"verifyCallback",(e=>{this.recaptchaToken.setValue(e)})),u()(this,"onSubmit",(e=>{e&&e.preventDefault();var t=this.props.appContext._c,n=this.state.age;null!=n&&n.length?this.submit():this.setState({errorMessage:t("Error message on registration screen","You forgot to enter your age!")})})),u()(this,"submit",ue()(me().mark((function t(){var n,a,o,r,s,i,l,c,d,u,p,m;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.age,t.next=3,e.recaptchaToken.getValue();case 3:return a=t.sent,o=e.props,r=o.email,s=o.password,i=o.blogName,l=o.onSuccess,c=o.onTooYoungToRegisterError,d=o.appContext,u=d.apiFetch,p=d._c,m=o.queryParams,t.abrupt("return",(0,w.z2)(u,{email:r,password:s,age:n,token:a,blogName:i,httpReferer:document.referrer||void 0,queryParams:m}).fetch().then((()=>l({age:n,wasRecaptchaSuccessful:!0}))).catch((t=>{var n,a,o;switch(null===(n=t.body)||void 0===n||null===(a=n.response)||void 0===a?void 0:a.code){case 6:e.setState({errorMessage:p("Error message on registration screen","That's not a valid age. Please try again.")});break;case 7:return void c();default:e.setState({errorMessage:p("Error message on registration screen","Oops. There was an error. Please try again.")})}null===(o=e.recaptchaRef)||void 0===o||o.execute()})));case 6:case"end":return t.stop()}}),t)})))),u()(this,"handleAgeChange",(e=>this.setState({age:e.target.value})))}componentDidMount(){(0,ee.loadReCaptcha)(this.SITE_KEY)}render(){var e=this.props.appContext,t=e._t,n=(0,e._c)("Text on button to go to the next page after user registration","Next");return a.createElement("form",{action:"",method:"post",onSubmit:this.onSubmit},this.state.errorMessage&&a.createElement(b,null,this.state.errorMessage),a.createElement("div",{className:Ee.inputFields},a.createElement("div",{className:Ee.formRow},a.createElement(O,{type:"number",name:"age",placeholder:t("How old are you?"),autoComplete:"off",value:this.state.age,autoFocus:!0,onChange:this.handleAgeChange})),a.createElement(ee.ReCaptcha,{ref:e=>this.recaptchaRef=e,sitekey:this.SITE_KEY,action:"register",verifyCallback:this.verifyCallback})),a.createElement(A,{label:n},n),a.createElement("div",{className:Ee.recaptchaTerms},a.createElement(m.ZP,{comment:"Placeholders are link opening and closing tags around google recaptcha terms of service and privacy policy",components:{googleTOSLink:a.createElement("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer"}),googlePrivacyPolicyLink:a.createElement("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer"})}},"This site is protected by reCAPTCHA and the Google [googleTOSLink]Terms of Service[/googleTOSLink] and [googlePrivacyPolicyLink]Privacy Policy[/googlePrivacyPolicyLink] apply.")))}}const ye=(0,g.HJ)(Ce);var we,ke=n(58665),Pe=n.n(ke),Se=n(60352),Te=n.n(Se),xe=n(81059),Ne=n(40310),Ie=n(39501);!function(e){e[e.UserIsTooYoung=0]="UserIsTooYoung",e[e.UserIsOldEnoughToRegister=1]="UserIsOldEnoughToRegister"}(we||(we={}));class Re extends a.Component{constructor(){var e;super(...arguments),e=this,u()(this,"state",{email:"",password:"",blogName:"",error:null,passwordScore:void 0,suggestedBlogNames:[]}),u()(this,"getSuggestedBlogNames",(()=>{this.state.suggestedBlogNames.length||(0,w.D7)(this.props.appContext.apiFetch).fetch().then((e=>{var t=e.response;return this.setState({suggestedBlogNames:(null==t?void 0:t.suggestedRandomNames)||[]})})).catch(Pe())})),u()(this,"renderSuggestedBlogNames",(()=>{var e=this.state.suggestedBlogNames;return a.createElement("div",{className:Ee.suggestedBlogNames},a.createElement("p",null,a.createElement(m.ZP,{comment:"Message that is displayed during registration when a blog name is taken",components:{br:a.createElement("br",null),strong:a.createElement("strong",null)}},"[strong]How about one of these?[/strong][br/](You can always change it later.)")),a.createElement("div",{className:Ee.suggestedBlogNamesTitle},a.createElement(m.ZP,null,"Available Blog Names")),a.createElement("ul",null,e.map(((e,t)=>a.createElement("li",{key:t},a.createElement(xe.Z,{type:"button",onClick:()=>this.setBlogName(e)},e))))))})),u()(this,"submit",(()=>{var e=this.props,t=e.onSuccess,n=e.appContext.apiFetch,a=this.state,o=a.email,r=a.password,s=a.blogName;return(0,w.KJ)(n,{email:o,password:r,tumblelog:s}).fetch().then((()=>t({email:o,password:r,blogName:s}))).catch((e=>{var t,n,a,o,r,s,i=e.body.response;switch(i.code){case 2:return void this.setState({error:["email-unavailable"]});case 3:return void this.setState({suggestedBlogNames:(null===(t=i.alternates)||void 0===t?void 0:t.suggestedUserNames)||(null===(n=i.alternates)||void 0===n?void 0:n.suggestedRandomNames)||[],error:["blogname-unavailable"]});case 4:return void this.setState({suggestedBlogNames:(null===(a=i.alternates)||void 0===a?void 0:a.suggestedUserNames)||(null===(o=i.alternates)||void 0===o?void 0:o.suggestedRandomNames)||[],error:["blogname-invalid",null===(r=i.tumblelogErrors)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.message]});case 5:return void this.setState({error:["email-invalid"]});case 1030:if(i.rejectReason)return void this.setState({error:["password-invalid",i.rejectReason]})}this.setState({error:["unknown"]})}))})),u()(this,"handleEmailChange",(e=>{this.clearFieldTypeError("email"),this.setState({email:e.target.value}),this.checkPasswordStrengthDebounced()})),u()(this,"handlePasswordChange",(e=>{this.clearFieldTypeError("password"),this.setState({password:e.target.value}),this.checkPasswordStrengthDebounced()})),u()(this,"setBlogName",(e=>{this.clearFieldTypeError("blogname"),this.setState({blogName:e,suggestedBlogNames:[]}),this.checkPasswordStrengthDebounced()})),u()(this,"handleBlogNameChange",(e=>{this.setBlogName(e.target.value)})),u()(this,"onSubmit",(e=>{e&&e.preventDefault();var t=this.state,n=t.email,a=t.password,o=t.blogName;n.length&&a.length&&o.length&&this.submit(),n.length||a.length||o.length?n.length?a.length?o.length||this.setState({error:["blogname-empty"]}):this.setState({error:["password-empty"]}):this.setState({error:["email-empty"]}):this.setState({error:["fields-empty"]})})),u()(this,"checkPasswordStrength",ue()(me().mark((function t(){var n,a,o,r;return me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.password,o=n.email,r=n.blogName,a.length){t.next=4;break}return e.setState({passwordScore:void 0}),t.abrupt("return");case 4:return t.abrupt("return",(0,w.Vs)(e.props.appContext.apiFetch,{password:a,email:o,blogName:r}).fetch((t=>{var n=t.response;return e.setState({passwordScore:n.score})})).catch((()=>e.setState({passwordScore:void 0}))));case 5:case"end":return t.stop()}}),t)})))),u()(this,"checkPasswordStrengthDebounced",Te()(this.checkPasswordStrength,250))}render(){var e=this.state,t=e.error,n=e.email,o=e.password,r=e.blogName,s=e.passwordScore,i=e.suggestedBlogNames,l=this.props.appContext,c=l._t,d=l._c,u=l.wwwBaseUrl,p=d("Text on button to go to the next page after user registration","Sign up");return a.createElement(Ne.ZP,null,(e=>{var l=e.isMobile;return a.createElement("form",{className:Ee.form,action:"",method:"post",onSubmit:this.onSubmit},a.createElement(Ae,{error:t}),a.createElement("div",{className:Ee.inputFields},a.createElement("div",{className:Ee.formRow},a.createElement(O,{type:"text",name:"email",placeholder:c("Email"),autoComplete:"off",value:n,onChange:this.handleEmailChange,autoFocus:!0})),a.createElement("div",{className:Ee.formRow},a.createElement(O,{type:"password",name:"password",placeholder:c("Password"),autoComplete:"off",value:o,onChange:this.handlePasswordChange}),a.createElement(Ie.Z,{score:s})),a.createElement("div",{className:Ee.formRow},a.createElement(O,{type:"text",name:"blogName",placeholder:c("Blog name"),autoComplete:"off",value:r,onChange:this.handleBlogNameChange,onFocus:l?void 0:this.getSuggestedBlogNames}))),a.createElement(V,{wwwBaseUrl:u,action:"sign up"}),a.createElement(A,{label:p},p),!l&&i.length?this.renderSuggestedBlogNames():null)}))}clearFieldTypeError(e){var t,n=null===(t=this.state.error)||void 0===t?void 0:t[0];("fields-empty"===n||null!=n&&n.startsWith("".concat(e,"-")))&&this.setState({error:null})}}const Me=(0,g.HJ)(Re);function Ae(e){var t,n=e.error,o=(0,g.bp)()._c;if(null==n)return null;switch(S()(n,1)[0]){case"blogname-empty":t=o("Error message on registration screen","You forgot to enter your blog name!");break;case"blogname-invalid":t=o("Error message on registration screen","That's not a valid blog name."),n[1]&&(t+=" ".concat(n[1]));break;case"blogname-unavailable":t=o("Error message on registration screen","That's a good blog name, but it's taken.");break;case"email-empty":t=o("Error message on registration screen","You forgot to enter your email!");break;case"email-invalid":t=o("Error message on registration screen","That's not a valid email address. Please try again.");break;case"email-unavailable":t=o("Error message on registration screen","This email address is already in use.");break;case"fields-empty":t=o("Error message on registration screen","You do have to fill this stuff out, you know.");break;case"password-empty":t=o("Error message on registration screen","You forgot to enter your password!");break;case"password-invalid":t=n[1]?n[1]:o("Error message on registration screen","That's not a valid password. Please try again.");break;case"unknown":t=o("Error message on registration screen","Oops. There was an error. Try again.")}return a.createElement(b,null,t)}const Be="R2BSv",Ze="VHr2m";const Le=(0,g.HJ)((function(e){var t=e.appContext,n=t._c,o=t._t,r=n("Registration error text","We could not complete your registration at this time.");return a.createElement("div",{className:Be},a.createElement("div",{className:Ze},a.createElement("h1",null,o("Sorry")),a.createElement("h2",null,r)))}));const Oe=e=>{var t=e.queryParams,n=t.redirect_to,o=t.source,r=(0,g.bp)(),s=r._t,i=r._c,l=r.apiFetch,c=r.getCookie,d=r.logEvent,u=r.wwwBaseUrl,p=(0,a.useState)(null),h=S()(p,2),v=h[0],f=h[1],C=(0,a.useState)(!1),P=S()(C,2),T=P[0],x=P[1],R=(0,a.useState)(""),M=S()(R,2),B=M[0],Z=M[1],L=(0,a.useState)(""),D=S()(L,2),F=D[0],_=D[1],H=(0,k.Z)(n),U=function(){var e=ue()(me().mark((function e(t){var n,a,r,s,u,p,m,h,g,v,b,E,C;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d({eventName:o===W.zA.Google?W.JE.GoogleLinkAccountClick:W.JE.AppleLinkAccountClick}),t.preventDefault(),f(null),!F.length){e.next=19;break}return e.prev=4,e.next=7,(0,w.nz)(l,{password:F,idToken:c("snacc"),nonce:(0,ge.Z)(),tfaCode:B}).fetch();case 7:d({eventName:o===W.zA.Google?W.JE.GoogleLinkAccountSuccess:W.JE.AppleLinkAccountSuccess}),window.location.replace("//".concat(window.location.host).concat(H)),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(4),d({eventName:o===W.zA.Google?W.JE.GoogleLinkAccountError:W.JE.AppleLinkAccountError}),h=null===e.t0||void 0===e.t0||null===(n=e.t0.body)||void 0===n||null===(a=n.response)||void 0===a||null===(r=a.tumblelogErrors)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.message,g=null===e.t0||void 0===e.t0||null===(u=e.t0.body)||void 0===u||null===(p=u.errors)||void 0===p||null===(m=p[0])||void 0===m?void 0:m.code,h?f(h):g===ve.Z.PasswordInvalid?f(i("Invalid password error message","The password you entered was invalid.")):g===ve.Z.TfaInvalid?x(!0):(C=(null===e.t0||void 0===e.t0||null===(v=e.t0.body)||void 0===v||null===(b=v.errors)||void 0===b||null===(E=b[0])||void 0===E?void 0:E.detail)||i("General error message","Something broke. Try again."),f(C),(0,he.Tb)(e.t0));case 17:e.next=20;break;case 19:f(i("Error message when linking third party authentication account","You forgot to enter your password!"));case 20:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),z=i("Text on button to go link account to a third party authentication provider","Link Account"),V=i("Text on button to go back from linking account to a third party authentication provider","Go Back");return a.createElement("form",{action:"",method:"post",onSubmit:U},v&&a.createElement(b,null,v),a.createElement(b,null,a.createElement("div",{className:Ee.prompt},a.createElement(m.ZP,{comment:"Text prompt letting the user know their account already exists"},"Looks like your account already exists.")),a.createElement(m.ZP,{comment:"Text prompt to enter their password to link their existing account. Or reset their password if it is not known",components:{a:a.createElement("a",{href:"".concat(u,"/forgot_password")})}},"Please enter your password to link your account. If you forgot your password or don't have one for your account, click [a]here[/a] to reset your password.")),a.createElement("div",{className:Ee.inputFields},a.createElement("div",{className:Ee.formRow},a.createElement(O,{type:"password",name:"password",placeholder:s("Password"),autoComplete:"off",value:F,onChange:e=>{_(e.target.value)}})),T&&a.createElement(O,{type:"text",name:"tfaToken",placeholder:s("Enter auth code"),autoComplete:"one-time-code",value:B,onChange:e=>{Z(e.target.value)}})),a.createElement(A,{label:z},z),a.createElement(N.ZP,{className:Ee.button,textColor:I.black,backgroundColor:I.glassGreen,size:N.jf.EntireWidth,href:(0,E.gZ)({formToShow:y.c.Login})},V))};var De=n(53046);const Fe=()=>{var e=(0,g.bp)(),t=e._t,n=e._c,o=e.apiFetch,r=e.logEvent,s=e.wwwBaseUrl,i=(0,a.useState)(null),l=S()(i,2),c=l[0],d=l[1],u=(0,a.useState)(""),p=S()(u,2),m=p[0],h=p[1],v=(0,a.useState)(""),f=S()(v,2),E=f[0],C=f[1],y=(0,De.Z)().get("source"),k=function(){var e=ue()(me().mark((function e(t){var a,i,l,c,u,p,h,g,v;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r({eventName:y===W.zA.Google?W.JE.GoogleCompleteRegistrationClick:W.JE.AppleCompleteRegistrationClick}),t.preventDefault(),d(null),!m.length||!E.length){e.next=20;break}return e.prev=4,e.next=7,(0,w.oM)(o,{tumblelog:E}).fetch();case 7:return e.next=9,(0,w.U6)(o,{age:Number(m),nonce:(0,ge.Z)(),tumblelog:E}).fetch();case 9:r({eventName:y===W.zA.Google?W.JE.GoogleCompleteRegistrationSuccess:W.JE.AppleCompleteRegistrationSuccess}),window.location.replace("".concat(s,"/getting_to_know_tumblr")),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),r({eventName:y===W.zA.Google?W.JE.GoogleCompleteRegistrationError:W.JE.AppleCompleteRegistrationError}),(u=null===e.t0||void 0===e.t0||null===(a=e.t0.body)||void 0===a||null===(i=a.response)||void 0===i||null===(l=i.tumblelogErrors)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.message)?d(u):(v=(null===e.t0||void 0===e.t0||null===(p=e.t0.body)||void 0===p||null===(h=p.errors)||void 0===h||null===(g=h[0])||void 0===g?void 0:g.detail)||n("General error message","Something broke. Try again."),d(v),(0,he.Tb)(e.t0));case 18:e.next=21;break;case 20:E.length?d(n("Error message on registration screen","You forgot to enter your age!")):d(n("Error message on registration screen","You forgot to enter your blog name!"));case 21:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),P=n("Text on button to go to the next page after user registration","Next");return a.createElement("form",{action:"",method:"post",onSubmit:k},c&&a.createElement(b,null,c),a.createElement("div",{className:Ee.inputFields},a.createElement("div",{className:Ee.formRow},a.createElement(O,{type:"number",name:"age",placeholder:t("How old are you?"),autoComplete:"off",value:m,autoFocus:!0,onChange:e=>{h(e.target.value)}})),a.createElement("div",{className:Ee.formRow},a.createElement(O,{type:"text",name:"blogName",placeholder:t("Blog name"),autoComplete:"off",value:E,onChange:e=>{C(e.target.value)}}))),a.createElement(A,{label:P},P))};class _e extends a.Component{constructor(){super(...arguments),u()(this,"state",{hasUnrecoverableError:(()=>{var e=this.props.appContext,t=e.getBootstrap,n=e.getCookie,a=t("cookieBootstrap");return!(!a||!a[le.zC.COPPA_REGISTRATION_BLOCKED])||!!n(le.zC.COPPA_REGISTRATION_BLOCKED)})(),email:"",password:"",blogName:"",age:"",wasRecaptchaSuccessful:!1}),u()(this,"needsAgeCaptchaOrTerms",(()=>{var e=this.state,t=e.age,n=e.wasRecaptchaSuccessful;return!t||!n})),u()(this,"needsEmailPasswordOrBlogName",(()=>{var e=this.state,t=e.email,n=e.password,a=e.blogName;return!t.length||!n.length||!a.length})),u()(this,"onTooYoungToRegisterError",(()=>{this.props.appContext.setCookie(le.zC.COPPA_REGISTRATION_BLOCKED,"1",{maxAge:ce.y.Day}),this.setState({hasUnrecoverableError:!0})})),u()(this,"onAgeCaptchaAndTermsSuccess",(e=>{var t=e.age,n=e.wasRecaptchaSuccessful;return this.setState({age:t,wasRecaptchaSuccessful:n})})),u()(this,"onEmailPasswordAndBlogNameSuccess",(e=>{var t=e.email,n=e.password,a=e.blogName;return this.setState({email:t,password:n,blogName:a})}))}componentDidUpdate(){if(!this.needsAgeCaptchaOrTerms()&&!this.needsEmailPasswordOrBlogName()){var e=this.props,t=e.appContext,n=t.apiFetch,a=t.features,o=e.onRegisterSuccess,r=e.queryParams.redirect_to,s=()=>window.location.replace((0,k.Z)(r));if(a.loginWall){var i=this.state,l=i.password,c=i.email,d=()=>{null==o||o(),s()};(0,w.Ib)(n,{password:l,email:c}).fetch().then(d).catch((()=>(0,w.Ib)(n,{password:l,email:c}).fetch().then(d)))}else s()}}render(){var e=this.props,t=e.formToShow,n=e.queryParams;if(this.state.hasUnrecoverableError)return a.createElement(Le,null);if(t===y.c.LinkAccount)return a.createElement(Oe,{queryParams:n});if(t===y.c.TwoFactorAuthentication)return a.createElement(be,{queryParams:n});if(t===y.c.Onboarding)return a.createElement(Fe,null);if(this.needsEmailPasswordOrBlogName())return a.createElement(a.Fragment,null,a.createElement(X,{formToShow:t,queryParams:n},a.createElement(Me,{onSuccess:this.onEmailPasswordAndBlogNameSuccess})));if(this.needsAgeCaptchaOrTerms()){var o=this.state,r=o.email,s=o.password,i=o.blogName;return a.createElement(ye,{email:r,password:s,blogName:i,onSuccess:this.onAgeCaptchaAndTermsSuccess,onTooYoungToRegisterError:this.onTooYoungToRegisterError,queryParams:n})}return null}}const He=(0,g.HJ)(_e);var Ue=n(51616),ze=n(87752),Ve=n(54016),We=n(21026);const Ge=e=>{var t,n=e.formToShow,i=e.heading,l=e.loginClickCallback,d=e.onLoginSuccess,u=e.onRegisterSuccess,p=e.showFooterLink,v=void 0===p||p,b=e.signupClickCallback,f=e.wrapperClass,C=void 0===f?"":f,w=(0,g.bp)().features,k=w.redpopLandingLoginDefault,P=w.redpopThirdPartyAuthentication,S=(0,o.TH)().search,T=(0,Ve.b)(S);if(n===y.c.Register||n===y.c.Onboarding||n===y.c.LinkAccount||n===y.c.TwoFactorAuthentication)t=a.createElement(He,{formToShow:n,onRegisterSuccess:u,queryParams:T});else if(k&&i||n===y.c.Login)t=a.createElement(ie,{onLoginSuccess:d,signupClickCallback:b,queryParams:T});else{var x=a.createElement("form",null,a.createElement(N.ZP,{className:We.Z.button,textColor:I.black,backgroundColor:I.dreamcastBlue,size:N.jf.EntireWidth,href:(0,E.gZ)({formToShow:y.c.Register},{source:h.yy.LoginRegisterCenter}),onClick:b},a.createElement(m.ZP,{comment:"Text on button to register an account"},"Sign up")),a.createElement(N.ZP,{className:We.Z.button,textColor:I.black,backgroundColor:I.glassGreen,size:N.jf.EntireWidth,href:(0,E.gZ)({formToShow:y.c.Login}),onClick:l},a.createElement(m.ZP,null,"Log in")));t=P?a.createElement(X,{queryParams:T},x):x}return a.createElement("section",{className:(0,B.Z)([We.Z.mainContent,C])},a.createElement(c,{showHeader:n!==y.c.Register&&n!==y.c.Onboarding&&n!==y.c.LinkAccount},i),a.createElement("div",{className:We.Z.form},t,a.createElement(Ue.Z,null,v&&n!==y.c.Login?a.createElement("a",{href:"/explore",className:We.Z.exploreBtn},a.createElement(s.Z,null),a.createElement(m.ZP,{comment:"Landing page link to explore page"},"Here's what's trending")):null),a.createElement(ze.Z,null,a.createElement("div",{className:We.Z.downloadLinks},a.createElement(r.ZP,{campaign:"signup_page"})))))}},39501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(95004),o=n(51742);const r={meter:"kdCBg",strengthIndicatorBar:"ygCDb",level0:"BtnTy",level1:"TZ37z",level2:"CwZaB",level3:"hTKX9",level4:"W3gv4",level5:"hXGzk",noScore:"NQOwh"};const s=function(e){var t=e.score,n=e.className,s=Math.max(Math.min(5,t||0),0),i=void 0===t;return a.createElement("div",{className:(0,o.Z)({[r.meter]:!0,[r["level".concat(s)]]:!i,[r.noScore]:i,[n]:!!n})},Array(5).fill("").map(((e,t)=>a.createElement("div",{key:t,className:r.strengthIndicatorBar}))))}},56661:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,Y:()=>r});var a=n(95004),o=a.createContext(void 0),r=()=>a.useContext(o)},58856:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>ne});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(26285),c=n(47414),d=n(81059),u=n(22123),p=n(24988),m=n(22909),h=n(43893),g=n.n(h),v=n(56661),b=n(40310),f=n(76230),E=n(51742);var C=new class{constructor(){s()(this,"listeners",{})}on(e,t){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t),()=>{this.listeners[e]=this.listeners[e].filter((e=>e!==t))}}emit(e,t){(this.listeners[e]||[]).forEach((e=>e(t)))}};const y=e=>{var t=(0,i.useState)(!0),n=g()(t,2),a=n[0],o=n[1];(0,i.useEffect)((()=>(C.emit("mounted"),C.on("mounted",(()=>{o(!1)})))),[]),(0,i.useEffect)((()=>{var t=C.on("closeAll",(()=>{null==e||e(),t()}));return r}),[]);var r=(0,i.useCallback)((()=>{C.emit("closeAll")}),[]);return{isTopmost:a,closeAll:r}};var w=n(27884),k=n.n(w),P=n(19195),S=n.n(P),T=n(21958),x=n(45403),N=n(14782),I=n(49835),R=n(52385),M=n(36643),A=n(12542),B=n(90553),Z=n(22320),L=n(62300);const O="GHloH",D="Pha3k",F="LaNhI",_="N8SnF",H="yPZfR",U="T9cpC",z="xGwgY",V="j8GND";class W extends i.Component{constructor(){super(...arguments),s()(this,"state",{posts:[]}),s()(this,"apiHelper",(0,M.ZP)(this.props.appContext.apiFetch)),s()(this,"onLike",((e,t)=>{this.props.timelineContext.onLike(e,t),this.setState({posts:this.state.posts.map((n=>(0,R.xT)(n)&&n.id===e?(0,L.bX)(n,t):n))})})),s()(this,"renderDesktopContent",(()=>{var e=this.state.posts;return!(e.length<3)&&i.createElement(I.U$,null,(t=>{var n,a=t.width,o=(n=a,Math.min(4,Math.floor((n+20)/320+3e-4))),r=320*o-20;return i.createElement("div",{className:F,style:{width:r}},i.createElement(N.ZP.Provider,{value:N.Vn},i.createElement("h2",null,this.props.appContext._t("More like this")),i.createElement(T.Z,{numberOfColumns:o,columnWidth:300,columnSpacing:20,elementSpacing:0},e.map(((e,t)=>this.renderElement(e,t))).filter((e=>e)))))}))})),s()(this,"renderElement",((e,t)=>{var n="".concat(e.placementId?"".concat(e.placementId,":"):"").concat(e.id).concat(e.isExpandedInGrid?":expanded":"");return i.createElement(x.Z,{key:n,presentationStyle:Z.Z.masonry,timelineObject:o()({},e),isNarrow:!0})}))}componentDidMount(){var e=this;return k()(S().mark((function t(){var n,a;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.apiHelper.getRelatedPosts(e.props.queryId,e.props.blogName,e.props.postsContext).fetch(),t.next=3,n;case 3:a=t.sent.response.elements.filter((e=>"client_side_ad_waterfall"!==e.objectType)),e.setState({posts:a},(()=>{e.props.onLoad(a.length>=3)}));case 5:case"end":return t.stop()}}),t)})))()}render(){return i.createElement(A.k.Provider,{value:o()(o()({},this.props.timelineContext),{},{onLike:this.onLike})},i.createElement(b.ZP,null,(e=>!e.isMobile&&this.renderDesktopContent())))}}const G=(0,B.X9)(W,{appContext:!0,timelineContext:!0});var q=n(43099);const j=function(e){var t=e.glassProps,n=e.children,a=(0,f.uu)().post,r=(0,i.useRef)(null),s=(0,i.useState)(!1),l=g()(s,2),c=l[0],d=l[1],p=(0,v.Y)(),m=y(null==p?void 0:p.closeLightbox),h=m.isTopmost,C=m.closeAll,w=(0,i.useCallback)((e=>{var t,n="string"==typeof(null===(t=e.target)||void 0===t?void 0:t.className)?e.target.className:"";(e.target===r.current||n.split(" ").includes(q.Z.column))&&C()}),[C]),k=!h;return i.createElement(b.ZP,null,(e=>{if(e.isMobile||null==a||!a.id||a.adInstanceId)return i.createElement(u.Z,t,n);var s=a.rebloggedFromId?a.rebloggedFromId:a.id,l=o()(o()({},t),{},{glassIsClickable:!1,opacity:k?0:t.opacity});return i.createElement(u.Z,l,i.createElement("div",{className:(0,E.Z)({[O]:!0,[D]:k,[_]:!c}),onClick:w,ref:r,role:"dialog"},i.createElement("div",{className:(0,E.Z)({[H]:!0,[U]:c,[z]:!c})},n),i.createElement("div",{className:(0,E.Z)({[V]:!0,[D]:!c})},i.createElement(G,{queryId:"".concat(s),blogName:a.blog.name,onLoad:d,postsContext:"lightbox"}))))}))};var K=n(2978),Q=n(96724),J=n(62513),Y=n.n(J);const X={swipeableViews:"h5VS4",focus:"Semgf",mobileSlide:"xKxtH",mobileImage:"uNsrv",image:"MjNMI",left:"UBbzn",center:"kjHHx",right:"rquNV",caption:"dvdaL"};var $;!function(e){e[e.Center=X.center]="Center",e[e.Left=X.left]="Left",e[e.Right=X.right]="Right",e[e.Mobile=X.mobileImage]="Mobile"}($||($={}));var ee=e=>{var t=e.glassProps,n=e.children;return i.createElement(u.Z,t,n)};class te extends i.Component{constructor(){super(...arguments),s()(this,"state",{isOpen:!1,currentIndex:0,images:[]}),s()(this,"tempIndex",-1),s()(this,"addImageToLightbox",(e=>{var t=this.state.images.length,n=this.state.images;return n.push(e),this.setState({images:n}),()=>this.openLightbox(t)})),s()(this,"toggleLightbox",(()=>{this.setState((e=>({isOpen:!e.isOpen})),this.logStateChange)})),s()(this,"closeLightbox",(()=>{this.setState({isOpen:!1},this.logStateChange)})),s()(this,"logStateChange",(()=>{this.props.adContext.sendClickADMBeacon(this.props.adm),this.props.appContext.logEvent({eventName:K.JE.Photo,eventDetails:o()({placement_id:this.props.placementId},this.props.krakenEventDetails)})})),s()(this,"renderDesktopContent",(()=>{var e=this.state,t=e.currentIndex,n=e.images,a=n.length,o=0===t,r=t===n.length-1,s=!o&&a>=2?this.renderImage(n[t-1],$.Left):null,l=this.renderImage(n[t],$.Center),c=!r&&a>=t+1?this.renderImage(n[t+1],$.Right):null;return i.createElement(i.Fragment,null,i.createElement(p.ZP,{hotkey:[{key:p.SV.Left,command:this.decrementImage},{key:p.SV.Right,command:this.incrementImage}]}),s,l,c)})),s()(this,"renderMobileContent",(()=>{var e=this.state,t=e.currentIndex,n=e.images,a=(0,c.p6)(l.ZP);return i.createElement(d.Z,{onClick:this.toggleLightbox,label:this.props.appContext._c("Clicking on the image will expand it and open a lightbox","Close image")},i.createElement(a,{className:X.swipeableViews,containerStyle:{width:"100vw"},slideClassName:X.mobileSlide,slideStyle:{overflow:"visible"},index:t,slideCount:n.length,slideRenderer:e=>{var t=e.index,a=e.key;return this.renderImage(n[t],$.Mobile,a)},onChangeIndex:e=>{this.tempIndex=e},onTransitionEnd:()=>{-1!==this.tempIndex&&(this.setState({currentIndex:this.tempIndex}),this.tempIndex=-1)},overscanSlideBefore:1,overscanSlideAfter:1,resistance:!0}))})),s()(this,"renderImage",((e,t,n)=>{var a,o=this.state,r=o.currentIndex,s=o.images,l=e.imageResponse,c=e.caption;switch(t){case $.Left:a=this.decrementImage;break;case $.Right:a=this.incrementImage;break;case $.Center:var u=r===s.length-1;a=1===s.length?this.toggleLightbox:u?this.decrementImage:this.incrementImage}var p=new Q.Z(l).getLargestImage().width,h="".concat(p,"px");return a?i.createElement(d.Z,{key:n,wrapperClassName:[X.image,t].join(" "),onClick:a,label:this.props.appContext._c("Clicking on the image will expand it and open a lightbox","Close image")},i.createElement(m.Z,{imageResponse:l,sizes:h}),c&&i.createElement("div",{className:X.caption},c)):i.createElement("div",{key:n,className:[X.image,t].join(" ")},i.createElement(m.Z,{imageResponse:l,sizes:h}),c&&i.createElement("div",{className:X.caption},c))})),s()(this,"decrementImage",(()=>{0!==this.state.currentIndex&&this.setState((e=>o()(o()({},e),{},{currentIndex:e.currentIndex-1})))})),s()(this,"incrementImage",(()=>{this.state.currentIndex!==this.state.images.length-1&&this.setState((e=>o()(o()({},e),{},{currentIndex:e.currentIndex+1})))})),s()(this,"openLightbox",(e=>{this.props.appContext.logEvent({eventName:K.JE.FeatureExposed,eventDetails:{feature_key:"redpop_lightbox_open"}}),this.setState({isOpen:!0,currentIndex:e})})),s()(this,"contextValue",{addImageToLightbox:this.addImageToLightbox,closeLightbox:this.closeLightbox})}render(){var e,t=this.state.isOpen,n=(null===(e=this.props.appContext.features)||void 0===e?void 0:e.redpopRelatedPostsLightbox)?j:ee;return i.createElement(v.p.Provider,{value:this.contextValue},this.props.children,t&&i.createElement(b.ZP,null,(e=>{var t=e.isMobile;return i.createElement(n,{glassProps:{onGlassClick:this.toggleLightbox,centerContent:!0,color:Y().black,opacity:.85}},t?this.renderMobileContent():this.renderDesktopContent())})))}}const ne=(0,B.X9)(te,{appContext:!0,adContext:!0})},33926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(58665),o=n.n(a),r=n(95004),s=n(81059),i=n(2540),l=n(56661);const c="k4_Vq";const d=e=>{var t=e.children,n=e.imageResponse,a=e.altText,d=e.caption,u=(0,r.useRef)(o()),p=(0,r.useRef)({imageResponse:n,altText:a,caption:d}),m=(0,i.bp)()._t,h=(0,l.Y)();(0,r.useEffect)((()=>{h&&(u.current=h.addImageToLightbox(p.current))}),[h]);var g=m("Image");return r.createElement(s.Z,{wrapperClassName:c,onClick:u.current,label:a?"".concat(g,": ").concat(a):g},t)}},1172:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(59319),c=n(51742);const d="WWBSO",u="_y4kh";var p=["children","className","wrapperClassName"];const m=e=>{var t=e.children,n=e.className,a=e.wrapperClassName,r=s()(e,p);return i.createElement(l.Link,o()({className:(0,c.Z)([d,a])},r),i.createElement("span",{className:(0,c.Z)([u,n]),tabIndex:-1},t))}},55012:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(20810),o=n.n(a),r=n(95004);const s="tDy_h";const i=function(e){var t=e.className;return r.createElement("div",{className:o()([s,t||null]).join(" ")})}},22654:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p,Z:()=>h});var a=n(95004),o=n(51742),r=n(2540);const s="LQ3tN",i="anjRo",l="OpTfa",c="ZfqiZ",d="rCL4r",u="K6fAK";var p;!function(e){e[e.None=0]="None",e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal",e[e.HorizontalAndVertical=3]="HorizontalAndVertical"}(p||(p={}));var m=function(e){var t,n=e.small,r=e.centerOrientation,m=e.color;t=r===p.Horizontal?d:r===p.Vertical?c:r===p.HorizontalAndVertical?u:"";var h={backgroundColor:m};return a.createElement("div",{className:(0,o.Z)([s,n?i:"",t]),role:"progressbar","aria-busy":!0},a.createElement("div",{className:l,style:h}),a.createElement("div",{className:l,style:h}),a.createElement("div",{className:l,style:h}))};m.defaultProps={small:!1,centerOrientation:p.None};const h=(0,r.HJ)(m)},21958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(93748),l=n.n(i),c=n(92969),d=n.n(c),u=n(34549),p=n.n(u),m=n(17908),h=n.n(m),g=n(3947),v=n.n(g),b=n(95004),f=n(43099);const E=function(e){var t=e.columns,n=e.columnWidth,a=e.elementSpacing,o=void 0===a?5:a,r=e.columnSpacing,i=void 0===r?o:r,l=e.elementContainerClass,c=e.numberOfColumns,d={width:n?"".concat(n,"px"):"".concat(100/c,"%"),maxWidth:n?"".concat(n,"px"):void 0},u=s()(s()({},d),{},{marginLeft:i}),p={marginTop:o};return b.createElement("div",{className:f.Z.masonry},t.map(((e,t)=>b.createElement("div",{key:"column-".concat(t),className:f.Z.column,style:t>0?u:d},e.map(((e,n)=>{var a=e.element,o=e.tabIndex;return b.createElement("div",{tabIndex:o,key:"".concat(t,"-").concat(n),className:l,style:n>0?p:void 0},a)}))))))};var C=e=>{for(var t=e.fromChildren,n=e.numberOfColumns,a=e.offset,o=void 0===a?0:a,r=e.pinnedToUpperRightIndexes,s=void 0===r?[]:r,i=[],l=0;l<n;l+=1)i.push([]);var c=[...t];return s.map(((e,t)=>{var a=c[e];c.splice(e,1),c.splice((t+1)*n-1,0,a)})),c.forEach(((e,t)=>{i[t%n].push({element:e,tabIndex:t+o})})),i};class y extends b.Component{constructor(){super(...arguments),d()(this,"state",{objectsToLayOut:[],columns:C({fromChildren:b.Children.toArray(this.props.children),numberOfColumns:this.props.numberOfColumns,pinnedToUpperRightIndexes:this.props.pinnedToUpperRightIndexes})}),d()(this,"columnSpacerRefs",[]),d()(this,"addNextObjectToLayOutToColumn",((e,t)=>{var n=this.state.objectsToLayOut,a=b.Children.count(this.props.children);if(n.length){if(!(t<0)){var o=l()(n),r=o[0],s=o.slice(1),i=[...e];i[t].push({element:r,tabIndex:a-n.length}),this.setState({columns:i,objectsToLayOut:s})}}else this.state.columns!==e&&this.setState({columns:e})})),d()(this,"naivelyLayOutObjects",((e,t,n,a)=>{for(var o=[...t],r=this.props.numberOfColumns,s=C({numberOfColumns:r,fromChildren:e,offset:a}),i=Math.max(n,0),l=0;l<r;l+=1){var c=(l+i)%r;o[c]=[...o[c],...s[l]]}return o})),d()(this,"columnsWithoutRemovedChildren",((e,t)=>e.map((e=>e.filter((e=>{var n=e.element;return(0,b.isValidElement)(n)&&n.key&&t.indexOf(n.key)<0})))))),d()(this,"updateColumnsWithNewProps",((e,t)=>{if(!t.length)return e;var n=t.map((e=>e.key));return e.map((e=>e.map((e=>{var a=e.element,o=e.tabIndex;if(n.indexOf(a.key)>=0){var r=t.find((e=>e.key===a.key));if(r)return{tabIndex:o,element:r}}return{element:a,tabIndex:o}}))))}))}componentDidUpdate(e){var t=this.props,n=t.numberOfColumns,a=t.children,o=t.pinnedToUpperRightIndexes;if(n===e.numberOfColumns&&0===p()(o,e.pinnedToUpperRightIndexes).length){var r=b.Children.toArray(this.props.children),s=b.Children.toArray(e.children);this.makeLayoutPass(r,s)}else this.setState({columns:C({numberOfColumns:n,pinnedToUpperRightIndexes:o,fromChildren:b.Children.toArray(a)}),objectsToLayOut:[]})}render(){var e=this.state.columns.reduce(((e,t,n)=>[...e,[...t,{element:b.createElement("div",{ref:e=>this.columnSpacerRefs[n]=e,key:"column ".concat(n," bottom spacer")}),tabIndex:-1}]]),[]),t=s()({},this.props);return delete t.children,b.createElement(E,o()({columns:e},t))}makeLayoutPass(e,t){for(var n=(e,t)=>e.key===t.key,a=v()(t,e,n),o=v()(e,t,n),r=e.reduce(((e,n,a)=>{var o=t[a];return o&&n&&h()(n.props,o.props)||e.push(n),e}),[]),s=this.updateColumnsWithNewProps(this.state.columns,r),i=a.map((e=>e.key)),l=-1,c=-1,d=0;d<this.props.numberOfColumns;d+=1){var u=this.columnSpacerRefs[d];if(u){var p=u.getBoundingClientRect().top;(p<c||-1===c)&&(c=p,l=d)}}var m=l;if(a.length||o.length){var g=[...this.state.objectsToLayOut.filter((e=>(0,b.isValidElement)(e)&&e.key&&i.indexOf(e.key)<0)),...o],f=g.slice(0,Math.ceil(g.length/2));s=this.columnsWithoutRemovedChildren(s,i);var E=this.naivelyLayOutObjects(f,s,m,t.length),C=g.slice(Math.ceil(g.length/2));this.setState({columns:E,objectsToLayOut:C})}else this.addNextObjectToLayOutToColumn(s,m)}}const w=y},53903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(44210),c=n(49499),d=n(46330),u=n(79793),p=n(64018),m=n(78315),h=n(2978),g=n(47740),v=n(76155),b=n(36643),f=n(51742),E=n(90553),C=n(33053),y=n(21912);class w extends i.Component{constructor(){super(...arguments),s()(this,"state",{isSubscribed:this.props.subscribed,showPopover:!0}),s()(this,"apiHelper",(0,b.ZP)(this.props.appContext.apiFetch)),s()(this,"toggleSubscribe",(()=>(this.props.appContext.logEvent({eventName:h.JE.PeeprBlogSubscribe}),this.apiHelper.subscribeToBlog(this.props.blogName).fetch().then((()=>this.setState({isSubscribed:!0})))))),s()(this,"toggleUnsubscribe",(()=>(this.props.appContext.logEvent({eventName:h.JE.PeeprBlogUnsubscribe}),this.apiHelper.unsubscribeToBlog(this.props.blogName).fetch().then((()=>this.setState({isSubscribed:!1})))))),s()(this,"removePost",(e=>{var t,n,a,o=this.props,r=o.postContext,s=o.timelineContext.onRemoveTimelineObject;null==r||null===(t=r.post)||void 0===t||!t.id||e!==(null==r||null===(n=r.post)||void 0===n?void 0:n.blogName)&&e!==(null==r||null===(a=r.post)||void 0===a?void 0:a.rebloggedFromName)||null==s||s({id:r.post.id})})),s()(this,"renderItems",(e=>{var t=this.props,n=t.blogName,a=t.blogUrl,o=t.showFollowing,r=t.showAsk,s=t.showArchive,g=t.renderExportItems,b=t.renderMessaging,E=t.renderUnfollowButton,w=t.showSubmission,k=t.canSubscribe,P=t.analyticsUrl,S=t.appContext,T=S._c,x=S.isLoggedIn,N=S.wwwBaseUrl,I=this.state.isSubscribed,R=[];return s&&R.push(i.createElement(l.Z,{krakenEventName:h.JE.BlogArchiveClick,linkTo:"".concat(a,"archive"),className:y.Z.meatballItem,key:"archive"},T("Menu item link to blog's archive page","Archive"))),R.push(i.createElement(c.Z,{key:"promote",blogIdentifier:n,isPromoted:!1,onPromote:this.closePopover,className:y.Z.meatballItem})),g&&R.push((0,d.o)(a,y.Z.meatballItem,!0)),b&&R.push(i.createElement(l.Z,{krakenEventName:h.JE.BlogMessageClick,onClick:this.props.clickSendAMessage,className:y.Z.meatballItem,key:"message"},T("Menu item in dropdown","Send a Message"))),E&&R.push(i.createElement(l.Z,{className:y.Z.meatballItem,key:"unfollow",isWrappingButton:!0},i.createElement(u.Z,{key:"unfollow",className:y.Z.meatballItemReset,blogName:n,blogUrl:a,following:!0,showUnfollowText:!0,onFollow:this.props.clickUnfollowButton}))),x&&o&&R.push(i.createElement(l.Z,{krakenEventName:h.JE.BlogFollowingClick,linkTo:"".concat(N,"/followed/by/").concat(n),className:y.Z.meatballItem,key:"following"},T("Link to blog's Following page","Following"))),x&&r&&R.push(i.createElement(l.Z,{krakenEventName:h.JE.BlogAskClick,linkTo:(0,m.TL)({postType:v.L8.Ask,otherBlogName:n}),className:y.Z.meatballItem,key:"ask"},T("Menu item link to blog's ask page","Ask"))),w&&R.push(i.createElement(l.Z,{krakenEventName:h.JE.BlogSubmitClick,linkTo:"".concat(a,"submit"),className:y.Z.meatballItem,key:"submit"},T("Menu item link to blog's submission page","Submit"))),k&&R.push(i.createElement(l.Z,{onClick:I?this.toggleUnsubscribe:this.toggleSubscribe,className:y.Z.meatballItem,key:"notifications"},T("Menu item in dropdown",I?"Stop notifications":"Get notifications"))),P&&R.push(i.createElement(l.Z,{linkTo:P,className:y.Z.meatballItem,key:"analytics",alwaysExternalLink:!0},i.createElement(p.ZP,null,"Analytics"))),x&&!e&&R.push(i.createElement(l.Z,{krakenEventName:h.JE.BlogReportClick,alwaysExternalLink:!0,linkTo:(0,C.IX)(n,a,N,void 0,"blog"),className:(0,f.Z)([y.Z.meatballItem,y.Z.red]),key:"report"},T("Menu item to report a post or blog","Report"))),R})),s()(this,"closePopover",(()=>this.setState({showPopover:!1})))}componentDidUpdate(e){var t=this.props.subscribed,n=e.subscribed;!t&&n&&this.state.isSubscribed&&this.setState({isSubscribed:!1})}render(){return this.state.showPopover&&i.createElement(C.ZP,o()({},(0,C._r)(this.props),{width:200,renderItems:this.renderItems,popoverBoundary:g.gc.ScrollParent,showOverflowY:!0,onBlock:this.removePost}))}}const k=(0,E.X9)(w,{appContext:!0,timelineContext:!0,postContext:!0})},33053:(e,t,n)=>{"use strict";n.d(t,{IX:()=>P,_r:()=>S,ZP:()=>x});var a=n(92969),o=n.n(a),r=n(85313),s=n.n(r),i=n(95004),l=n(81059),c=n(44210),d=n(60614),u=n(18843),p=n(87234),m=n(2978),h=n(47740),g=n(36643),v=n(51742),b=n(2540),f=n(70970),E=n(80261),C=n(73854),y=n(62513),w=n.n(y),k=n(21912);function P(e,t,n,a,o){var r=encodeURIComponent((0,C.H)(s()({post:a?s()({post_id:a.postId},a.recipientName&&{tumblelog_name:a.recipientName}):null,urlreporting:t,tumblelog:e},o&&{context:o})));return"".concat(n,"/abuse/start?prefill=").concat(r)}var S=e=>{var t=e.blogName,n=e.blogUrl,a=e.fill,o=e.isBlockedFromPrimary,r=e.forwardedRef,s=e.width,i=void 0===s?250:s,l=e.meatballsClassName,c=e.icon,d=e.onBlock,u=e.children;return{blogName:t,blogUrl:n,fill:a,isBlockedFromPrimary:o,forwardedRef:r,width:i,meatballsClassName:l,icon:c,onBlock:d,children:void 0===u?null:u,currentTumblelog:e.currentTumblelog}};class T extends i.Component{constructor(){super(...arguments),o()(this,"state",{isOpen:!1,blockDialogIsVisible:!1,isYourOwnBlog:!1}),o()(this,"apiHelper",(0,g.ZP)(this.props.appContext.apiFetch)),o()(this,"renderMenu",(()=>{var e=this.props,t=e.appContext,n=t._c,a=t.isLoggedIn,o=e.isBlockedFromPrimary,r=e.renderItems,s=e.blogName,l=this.state,d=l.isYourOwnBlog,u=l.isBlocked,p=l.primaryBlog,h=[...r(d)];return a&&!d&&(u||void 0===u&&o?h.push(i.createElement(c.Z,{krakenEventName:m.JE.BlogUnblockClick,onClick:()=>this.toggleUnblock(p,s),keepDropdownOpenAfterClick:!0,className:(0,v.Z)([k.Z.meatballItem]),key:"unblock"},n("Menu item to unblock a blog","Unblock"))):h.push(i.createElement(c.Z,{krakenEventName:m.JE.BlogBlockClick,onClick:this.openBlockDialog,keepDropdownOpenAfterClick:!0,className:(0,v.Z)([k.Z.meatballItem,k.Z.red]),key:"block"},n("Menu item to block a blog","Block")))),h.push(i.createElement(c.Z,{className:(0,v.Z)([k.Z.meatballItem,k.Z.thin]),key:"close"},n("Menu item to close the popover menu it's inside","Close"))),i.createElement("div",{className:k.Z.meatballMenu,ref:this.props.forwardedRef},h)})),o()(this,"togglePopover",(()=>{this.setState((e=>{var t,n,a=e.isOpen;a&&(null===(t=(n=this.props).onPopoverClose)||void 0===t||t.call(n));return{isOpen:!a}}))})),o()(this,"openBlockDialog",(()=>this.setState({blockDialogIsVisible:!0}))),o()(this,"toggleBlockDialog",(e=>{var t,n;(this.setState((t=>({isBlocked:e,blockDialogIsVisible:!t.blockDialogIsVisible}))),e)&&(null===(t=(n=this.props).onBlock)||void 0===t||t.call(n,this.props.blogName))})),o()(this,"toggleUnblock",((e,t)=>{if(e&&t)return this.apiHelper.unblockBlog(e,t).fetch((()=>this.setState({isBlocked:!1})))}))}componentDidMount(){var e=this.props,t=e.blogName,n=e.appContext,a=n.isLoggedIn,o=n.getUserInfo;return a?(this.userInfoFetch=(0,E.Z)(o().then((e=>e))),this.userInfoFetch.then((e=>{var n,a=null==e?void 0:e.blogs;a&&this.setState({primaryBlog:null===(n=(0,f.Z)(a))||void 0===n?void 0:n.name,isYourOwnBlog:(0,f.g)(t,a)})}))):Promise.resolve()}componentWillUnmount(){var e;null===(e=this.userInfoFetch)||void 0===e||e.cancel()}render(){var e=this.props,t=e.blogName,n=e.width,a=e.icon,o=e.fill,r=e.popoverBoundary,s=e.meatballsClassName,c=e.children,m=e.currentTumblelog,g=e.showOverflowY,v=e.appContext._c,b=e.popoverPosition,f=void 0===b?h.I2.Bottom:b,E=e.targetStyles,C=e.positionOffsets,y=this.state,k=y.blockDialogIsVisible,P=y.isOpen,S=y.primaryBlog;return this.renderMenu().props.children.length<2?c:i.createElement(i.Fragment,null,i.createElement(p.ZP,{toggle:this.togglePopover,isOpen:P,render:this.renderMenu,position:f,width:n,height:"auto",boundary:r,showOverflowY:g,targetStyles:E,positionBasedOffsetModifiers:C,closeForAllExternalClicks:!0},i.createElement(l.Z,{label:v("Label for screen readers on the button that opens the post options popover","More options"),className:s},a||i.createElement(d.b,{size:{width:18,height:10},fill:o||w().paletteGray65}))),k&&i.createElement(u.ZP,{currentTumblelog:m||S,tumblelogNameToBlock:t,closeDialog:this.toggleBlockDialog,postId:this.props.postId}))}}const x=(0,b.HJ)(T)},2794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(44210),c=n(22123),d=n(88910),u=n(49725),p=n(47740),m=n(35905),h=n(69),g=n(36643),v=n(51742),b=n(90553),f=n(33053),E=n(21912);class C extends i.Component{constructor(){super(...arguments),s()(this,"state",{hideDeleteDialogIsVisible:!1,noteReportDialogIsVisible:!1}),s()(this,"apiHelper",(0,g.ZP)(this.props.appContext.apiFetch)),s()(this,"renderItems",(e=>{var t=this.props,n=t.canHideOrDeleteNotes,a=t.note.type,o=t.appContext,r=o._c,s=o._t,c=o.isLoggedIn,d=o.features.commentingUxRedesign,p=t.postContext.post,h=p.id,g=p.blogName,b=p.canReblog,f=p.canReply,C=t.onReplyClick,y=[];return d&&f&&a===m.w.Reply&&y.push(i.createElement(l.Z,{key:"reblog",className:E.Z.meatballItem,onClick:C},s("Reply"))),b&&[m.w.ReblogWithComment,m.w.ReblogWithContentComment].includes(a)&&y.push(i.createElement(l.Z,{isWrappingButton:!0,className:(0,v.Z)([E.Z.meatballItem,E.Z.thin,E.Z.reblog]),key:"reblog"},i.createElement(u.Z,{postId:h,blogName:g,noteType:a,unmountBehavior:"completeOnUnmount"}))),n&&y.push(i.createElement(l.Z,{onClick:this.toggleHideDeleteDialog,keepDropdownOpenAfterClick:!0,className:(0,v.Z)([E.Z.meatballItem,E.Z.red]),key:"hide-delete"},a===m.w.Reply?s("Delete reply"):a===m.w.Tip?s("Hide tip"):s("Hide note"))),c&&!e&&y.push(i.createElement(l.Z,{onClick:this.toggleNoteReportDialog,className:(0,v.Z)([E.Z.meatballItem,E.Z.red]),key:"note-report"},r("Menu item to report a note","Report"))),y})),s()(this,"renderHideDeleteNoteDialog",(()=>{var e,t,n=this.props,a=n.note.type,o=n.appContext,r=o._t,s=o._c;switch(a){case m.w.Reblog:t=s("Ask if you want to remove this reblog","Hide this reblog"),e=s("Confirming you want to perform an action","You definitely want to hide this reblog?");break;case m.w.Reply:t=s("Ask if you want to remove this reply","Delete this reply"),e=s("Confirming you want to perform an action","You definitely want to delete this reply?");break;case m.w.Tip:t=s("Text on a button that will hide a tip from being visible in post notes","Yep, hide it"),e=s("Description of a button that will hide a tip from being visible in post notes","Hiding this tip will only remove it from the replies tab and notes. The tip will not be refunded. For further help contact Tumblr Support.");break;default:t=r("Dismiss"),e=r("This note type is not supported")}var l=[{text:this.props.appContext._t("Nevermind"),onClick:this.toggleHideDeleteDialog,buttonStyle:d.X.Cancel},{text:t,onClick:this.hideDeleteNote,buttonStyle:d.X.Confirm}];return i.createElement(c.Z,{onGlassClick:this.toggleNoteReportDialog,glassIsClickable:!1},i.createElement(d.Z,{title:e,buttons:l}))})),s()(this,"renderReportNoteDialog",(()=>{var e=this.props,t=e.note.blogName,n=e.appContext,a=n._t,o=n._c,r=[{text:this.props.appContext._t("Nevermind"),onClick:this.toggleNoteReportDialog,buttonStyle:d.X.Cancel},{text:this.props.appContext._t("Report"),onClick:this.reportNote,buttonStyle:d.X.Confirm}];return i.createElement(c.Z,{onGlassClick:this.toggleNoteReportDialog,glassIsClickable:!1},i.createElement(d.Z,{title:o("Reporting a user who is violating guidelines. Variable is blog name","Report %1$s?",t),body:a("If it violates our community guidelines, we'll remove it."),buttons:r}))})),s()(this,"toggleHideDeleteDialog",(()=>this.setState((e=>({hideDeleteDialogIsVisible:!e.hideDeleteDialogIsVisible}))))),s()(this,"toggleNoteReportDialog",(()=>this.setState((e=>({noteReportDialogIsVisible:!e.noteReportDialogIsVisible}))))),s()(this,"hideDeleteNote",(()=>{var e=this.props,t=e.postTumblelogName,n=e.note,a=n.blogName,o=n.timestamp,r=e.postContext.post.id,s=e.refreshContent;return this.apiHelper.deleteNote(t,a,o,r).fetch().then((()=>{this.setState({hideDeleteDialogIsVisible:!1},this.props.removeNote),s()}))})),s()(this,"reportNote",(()=>{var e=this.props,t=e.postTumblelogName,n=e.note,a=n.blogName,o=n.timestamp,r=e.postContext.post.id,s=e.appContext._t,i=e.toastContext.toggleToast;return this.apiHelper.flagNote(t,a,o,r).fetch().then((()=>{i(s("Thanks for reporting! We'll have a look."),h.p.Success)})).catch((()=>{i(s("Oops! Something went wrong."),h.p.Error)})).finally((()=>{this.setState({noteReportDialogIsVisible:!1})}))}))}render(){var e=this.state,t=e.hideDeleteDialogIsVisible,n=e.noteReportDialogIsVisible;return i.createElement(i.Fragment,null,i.createElement(f.ZP,o()({},(0,f._r)(this.props),{renderItems:this.renderItems,width:150,onBlock:this.props.removeNote,popoverPosition:p.I2.BottomEnd,meatballsClassName:this.props.meatballsClassName,targetStyles:{flex:0,marginLeft:"auto"},positionOffsets:{[p.I2.Bottom]:{left:-10}}})),t&&this.renderHideDeleteNoteDialog(),n&&this.renderReportNoteDialog())}}const y=(0,b.X9)(C,{appContext:!0,postContext:!0,toastContext:!0})},18269:(e,t,n)=>{"use strict";n.d(t,{d:()=>B,Z:()=>O});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(95004),d=n(81059),u=n(44210),p=n(49499),m=n(88456),h=n(22123),g=n(22654),v=n(88910),b=n(96978),f=n(64018),E=n(15758),C=n(21308),y=n(2978),w=n(47740),k=n(35905),P=n(36643),S=n(51742),T=n(90553),x=n(81390),N=n(35216),I=n(62513),R=n.n(I),M=n(33053);const A=(0,T.X9)((e=>{var t=e.postContext.post,n=t.id,a=t.blog.uuid,o=e.appContext,r=o._t,s=o.apiFetch,i=e.timelineContext.onRemoveTimelineObject,l=e.children,d=e.isOpen,u=e.toggleIsOpen;return c.createElement(c.Fragment,null,l,d&&c.createElement(h.Z,{onGlassClick:u,glassIsClickable:!1},c.createElement(v.Z,{"data-testid":"delete-dialog",title:r("Are you sure you want to delete this post?"),buttons:[{text:r("Cancel"),onClick:u,buttonStyle:v.X.Neutral},{text:r("OK"),onClick:()=>{var e=null==i?void 0:i({id:n});return u(),s("/v2/blog/".concat(a,"/post/delete"),{method:"POST",body:{id:n}}).catch((()=>null==e?void 0:e()))},buttonStyle:v.X.Confirm}]})))}),{appContext:!0,postContext:!0,timelineContext:!0});var B,Z=n(21912);!function(e){e[e.Unclicked=0]="Unclicked",e[e.Success=1]="Success",e[e.Failure=2]="Failure"}(B||(B={}));class L extends c.Component{constructor(){var e;super(...arguments),e=this,l()(this,"state",{copyLinkStatus:B.Unclicked,showingPinPostConfirmationDialog:!1,isOpenDeleteDialog:!1,canSubscribe:!0,isSubscribed:!1,isSubscribeFetching:!1}),l()(this,"apiHelper",(0,P.ZP)(this.props.appContext.apiFetch)),l()(this,"containerRef",(0,c.createRef)()),l()(this,"hasUnfollowed",!1),l()(this,"toggleIsOpenDeleteDialog",(()=>this.setState((e=>({isOpenDeleteDialog:!e.isOpenDeleteDialog}))))),l()(this,"renderItems",(e=>{var t=this.props,n=t.blogUrl,a=t.blogName,o=t.followed,r=t.postUrl,s=t.dismissal,i=t.isPostPublishedOrPrivate,l=t.date,h=t.renderPin,v=void 0!==h&&h,y=t.postContext,w=y.post,k=w.id,P=w.isPromoted,T=w.canPin,x=w.isPinned,I=w.placementId,L=w.blogName,O=w.askingName,D=w.postAuthor,F=y.presentationStyle,_=F.showsPreviewPostLink,H=F.usesInboxAttribution,U=t.timelineContext,z=t.appContext,V=z._c,W=z.apiFetch,G=z.isLoggedIn,q=z._getRelativeDateString,j=z.wwwBaseUrl,K=z.features,Q=K.postFooterRedesign,J=K.commentingUxRedesign,Y=t.canDelete,X=t.canEdit,$=t.editablePost,ee=t.trail,te=t.shouldOpenInLegacy,ne=void 0===te||te,ae=this.state,oe=ae.copyLinkStatus,re=ae.showingPinPostConfirmationDialog,se=ae.isOpenDeleteDialog,ie=ae.canSubscribe,le=[],ce=k;if(l&&i&&le.push(c.createElement(u.Z,{linkTo:r,title:V("Hover text for timestamp that links to a blog permalink. %1$s is the blog's domain","View post on %1$s","".concat(a,".tumblr.com")),className:(0,S.Z)([Z.Z.meatballItem,Z.Z.thin,Z.Z.timestamp]),key:"timestamp"},c.createElement(f.ZP,{comment:"Timestamp in meatball menu for a post. [postedWrapper] and [/postedWrapper] need to stay around the translation of 'Posted - '. If you need to add text after the [date/] symbol then that text will also need to be wrapped in its own set of [postedWrapper] and [/postedWrapper]. [date/] is a simplified timestamp.",components:{postedWrapper:c.createElement("span",null),date:c.createElement("span",{className:Z.Z.timestampDate},q(l,C.qC.Simple))}},"[postedWrapper]Posted - [/postedWrapper][date/]"))),!i&&_&&le.push(c.createElement(u.Z,{linkTo:r,className:(0,S.Z)({[Z.Z.meatballItem]:!0,[Z.Z.thin]:!0}),key:"preview-post"},c.createElement("span",null,V("Link text for previewing an unpublished post","Preview Post")))),v&&T){var de=(0,S.Z)([Z.Z.meatballItem,Z.Z.thin]);x?le.push(c.createElement(u.Z,{keepDropdownOpenAfterClick:!0,className:de,onClick:this.unpinPost,key:"pin-post"},V("Link text for unpinning a post","Unpin"))):le.push(c.createElement(u.Z,{keepDropdownOpenAfterClick:!0,className:de,onClick:this.pinPostClick,key:"pin-post"},V("Link text for pinning a post","Pin"),re&&this.renderPinPostConfirmationDialog()))}if(le.push(c.createElement(p.Z,{blogIdentifier:a,postId:ce,onPromote:null==U?void 0:U.onPromote,className:Z.Z.meatballItem,isPromoted:!!P,key:"promoteForItem"})),i){var ue,pe="";oe===B.Success?(ue=V("Success message after copying a link","Link copied!"),pe=Z.Z.success):oe===B.Failure?(ue=V("Error message when trying to copy a link","Failed to copy link."),pe=Z.Z.failure):ue=V("Menu item to copy the link to a post to your clipboard","Copy link"),le.push(c.createElement(u.Z,{onClick:this.copyLink,keepDropdownOpenAfterClick:!0,className:(0,S.Z)([Z.Z.meatballItem,pe]),key:"copyLink"},ue))}if(G&&!e&&o&&n&&le.push(c.createElement(u.Z,{isWrappingButton:!0,keepDropdownOpenAfterClick:!0,key:"unfollow"},c.createElement(m.Z,{following:!0,blogName:a,blogUrl:n,className:Z.Z.meatballItem,placementId:I,isPostHeader:!0},this.renderUnfollowText))),J&&ie){var me=this.state.isSubscribed?V("Contextual action to unsubscribe from updates","Unsubscribe from conversation"):V("Contextual action to subscribe to updates","Subscribe to conversation");le.push(c.createElement(u.Z,{keepDropdownOpenAfterClick:!0,isWrappingButton:!0,key:"subscribe",className:Z.Z.meatballItem},this.state.isSubscribeFetching?c.createElement("div",{className:Z.Z.loader},c.createElement(g.Z,{small:!0,color:R().paletteGray65})):c.createElement(d.Z,{label:me,onClick:this.toggleSubscribePost,title:me},me)))}Q&&(X&&$&&le.push(c.createElement(u.Z,{isWrappingButton:!0,keepDropdownOpenAfterClick:!0,key:"edit",className:(0,S.Z)([Z.Z.meatballItem,Z.Z.spaceRest])},c.createElement(b.Z,{isTextButton:!0,className:(0,S.Z)([Z.Z.meatballItemReset,Z.Z.expand]),editablePost:$,trail:ee,shouldAlwaysOpenInLegacy:ne}))),Y&&le.push(c.createElement(u.Z,{isWrappingButton:!0,keepDropdownOpenAfterClick:!0,key:"delete",className:(0,S.Z)([Z.Z.meatballItem,Z.Z.red]),onClick:this.toggleIsOpenDeleteDialog},c.createElement(A,{isOpen:se,toggleIsOpen:this.toggleIsOpenDeleteDialog},V("Link text to open delete dialog","Delete"))))),s&&s.options.forEach((e=>{var t,n,a=(0,S.Z)({[Z.Z.meatballItem]:!0,[Z.Z.red]:e.destructive}),o=e.link,r=o.type,s=o.href;switch(r){case E.U.Action:t=(0,N.Z)(e.link,W,this.removePost);break;case E.U.Web:n=s;break;default:return}le.push(c.createElement(u.Z,{linkTo:n,onClick:t,className:a,key:"dismissal-".concat(e.text)},e.text))}));var he=O||D;if(G&&!e){var ge=H&&he?(0,M.IX)(he,r,j,{postId:ce,recipientName:L},"message"):(0,M.IX)(L,r,j,{postId:ce});le.push(c.createElement(u.Z,{alwaysExternalLink:!0,linkTo:ge,className:(0,S.Z)([Z.Z.meatballItem,Z.Z.red]),key:"report"},V("Menu item to report a post or blog","Report")))}return le})),l()(this,"renderPinPostConfirmationDialog",(()=>{var e=this.props.appContext._t;return c.createElement(h.Z,{onGlassClick:this.pinPostCancel,glassIsClickable:!1},c.createElement(v.Z,{title:e("Pin this post"),body:e("This will appear at the top of your blog and replace any previous pinned post. Are you sure?"),buttons:[{text:e("Nevermind"),buttonStyle:v.X.Neutral,onClick:this.pinPostCancel},{text:e("Yes"),buttonStyle:v.X.Confirm,onClick:this.pinPostConfirm}]}))})),l()(this,"onPopoverClose",(()=>this.hasUnfollowed&&this.removePost(null,{wasBlogUnfollowed:!0}))),l()(this,"removePost",(function(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.props,r=o.postContext,i=o.timelineContext.onRemoveTimelineObject;null!=r&&null!==(n=r.post)&&void 0!==n&&n.id&&(null==i||i(s()(s()({},a),{},{id:r.post.id})))})),l()(this,"renderUnfollowText",(()=>this.props.appContext._c("Menu item to unfollow a blog","Unfollow"))),l()(this,"logMeatballsEvent",(e=>{this.props.appContext.logEvent({eventName:e,eventDetails:{placement_id:this.props.placementId}})})),l()(this,"copyLink",(()=>(0,x.Z)(this.props.postUrl,this.containerRef.current).then((()=>{this.setState({copyLinkStatus:B.Success}),this.logMeatballsEvent(y.JE.CopyPostLink),this.setLinkResetTimer()})).catch((()=>{this.setState({copyLinkStatus:B.Failure}),this.setLinkResetTimer()})))),l()(this,"pinPostClick",(()=>{this.setState({showingPinPostConfirmationDialog:!0}),this.props.appContext.logEvent({eventName:y.JE.PinPost})})),l()(this,"pinPostConfirm",(()=>(this.setState({showingPinPostConfirmationDialog:!1}),this.onPin(!0)))),l()(this,"pinPostCancel",(()=>{this.setState({showingPinPostConfirmationDialog:!1}),this.props.appContext.logEvent({eventName:y.JE.PinPostCancel})})),l()(this,"unpinPost",(()=>this.onPin(!1))),l()(this,"onPin",(e=>{var t=this.props,n=t.appContext.logEvent,a=t.postContext.post,o=t.timelineContext.onPin;return null==o||o(a.id,e),n({eventName:e?y.JE.PinPostConfirm:y.JE.UnpinPost}),(e?this.apiHelper.pinPost:this.apiHelper.unpinPost)(a.blogName,a.id).fetch().catch((()=>null==o?void 0:o(a.id,!e)))})),l()(this,"toggleSubscribePost",(()=>{var e=this.props,t=e.blogName,n=e.postContext.post.id,a=this.state.isSubscribed;return a||this.logMeatballsEvent(y.JE.PostActivitySubscribe),this.setState({isSubscribed:!a,isSubscribeFetching:!0}),(a?this.apiHelper.unsubscribeToPost(t,n):this.apiHelper.subscribeToPost(t,n)).fetch().catch((()=>this.setState({isSubscribed:a}))).finally((()=>this.setState({isSubscribeFetching:!1})))}))}componentDidMount(){var e=this.props,t=e.blogUuid,n=e.appContext.features.commentingUxRedesign,a=e.postContext.post.id;n&&t&&(this.setState({isSubscribeFetching:!0}),this.apiHelper.getNotes(t,{id:a,mode:k.L.Conversation}).fetch().then((e=>{var t=e.response,n=t.canSubscribe,a=t.isSubscribed;this.setState({canSubscribe:!!n,isSubscribed:!!a})})).finally((()=>this.setState({isSubscribeFetching:!1}))))}componentDidUpdate(e){e.followed&&!this.props.followed&&(this.hasUnfollowed=!0)}render(){var e=this.props.postContext.post.id;return c.createElement(M.ZP,o()({},(0,M._r)(this.props),{forwardedRef:this.containerRef,renderItems:this.renderItems,onPopoverClose:this.onPopoverClose,onBlock:this.removePost,popoverBoundary:w.gc.ScrollParent,showOverflowY:!0,postId:e}))}setLinkResetTimer(){clearTimeout(this.copyLinkMessageTimer),this.copyLinkMessageTimer=setTimeout((()=>{this.setState({copyLinkStatus:B.Unclicked})}),3e3)}}const O=(0,T.X9)(L,{appContext:!0,postContext:!0,timelineContext:!0})},99386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=(0,n(30531).Z)((()=>Promise.all([n.e(3712),n.e(8224),n.e(8448)]).then(n.bind(n,59270))),"AsyncConversationWindow")},8169:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var a=n(51235),o=n.n(a),r=n(6806),s=n.n(r),i=n(70970);function l(e,t){var n=e.blogs.filter((e=>e.canMessage));return t&&o()(n,(e=>e.name===t))||(0,i.Z)(n)||s()(n)}},37937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(95004).createContext(null);a.displayName="MetadataContext";const o=a},13794:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(4622),l=n.n(i),c=n(95004),d=n(23847),u=n(66108),p=n(42495),m=n(50528),h=n(96960),g=n(17298),v=n(6503),b=n(21615);const f=function(e){var t=e.icons;return c.createElement(c.Fragment,null,t.map((e=>{var t=e.url,n=e.sizes;return c.createElement(d.rU,{key:n,rel:"apple-touch-icon",sizes:n,href:t})})))};var E=n(45819),C=n(95132),y=n(55149),w=n(90553),k=n(37937),P=e=>{var t=e.title,n=e.description,a=e.image,o=e.canonicalUrl,r=[c.createElement(d.h_,{property:"og:title",key:"og:title",content:t}),c.createElement(d.h_,{property:"og:description",key:"og:description",content:n})];return a&&(r.push(c.createElement(d.h_,{property:"og:image",key:"og:image",content:a.url})),r.push(c.createElement(d.h_,{property:"og:image:width",key:"og:image:width",content:a.width.toString()})),r.push(c.createElement(d.h_,{property:"og:image:height",key:"og:image:height",content:a.height.toString()}))),o&&r.push(c.createElement(d.h_,{property:"og:url",key:"og:url",content:o})),c.createElement(c.Fragment,null,r)};P.defaultProps={image:null,canonicalUrl:null};const S=P;var T=[{url:u,sizes:"180x180"}];class x extends c.Component{constructor(){super(...arguments),s()(this,"state",{isErrorPage:!l()(this.props.appContext.getBootstrap(E.R))}),s()(this,"id",null)}componentDidMount(){this.props.metadataContext&&(this.id=this.props.metadataContext.addClientMetadata())}componentWillUnmount(){this.props.metadataContext&&this.props.metadataContext.removeClientMetadata(this.id)}render(){var e=this.props.metadataContext;return e&&e.shouldRenderMetadata(this.id)?this.getTags():null}getTags(){var e=this.props,t=e.charSet,n=e.viewport,a=e.favicon,o=e.svgicon,r=e.maskicon,s=e.mstile,i=e.title,l=e.description,u=e.image,p=e.canonicalUrl,m=e.keywords,h=e.pollerContext,g=e.robots,v=e.appContext._c,b=i;!this.state.isErrorPage&&null!=h&&h.unseenPosts&&(b="(".concat((0,y.Z)(this.props.pollerContext.unseenPosts,99),") ").concat(this.props.title));var E=l||v("A description of the site","Tumblr is a place to express yourself, discover yourself, and bond over the stuff you love. It's where your interests connect you with your people.");return c.createElement(c.Fragment,null,c.createElement(d.h_,{charSet:t}),c.createElement(d.h_,{name:"viewport",content:n}),s&&c.createElement(d.h_,{name:"msapplication-TileColor",content:s.color}),s&&c.createElement(d.h_,{name:"msapplication-TileImage",content:s.image}),a&&c.createElement(d.rU,{rel:"shortcut icon",href:a.href,type:a.type}),o&&c.createElement(d.rU,{rel:"icon",href:o,type:"image/svg+xml",sizes:"any"}),r&&c.createElement(d.rU,{rel:"mask-icon",href:r.href,color:r.color}),c.createElement(f,{icons:T}),c.createElement(d.Dx,null,b),c.createElement(d.h_,{name:"description",content:E}),c.createElement(d.h_,{key:"keywords",name:"keywords",content:null==m?void 0:m.join(", ")}),p&&c.createElement(d.rU,{rel:"canonical",key:"canonical-url",href:p}),g&&c.createElement(d.h_,{key:"robots",name:"robots",content:g}),b&&c.createElement(S,{description:E,image:u,canonicalUrl:p,title:b}))}}s()(x,"defaultProps",{charSet:"utf-8",viewport:"width=device-width, initial-scale=1",favicon:{href:"production"===C.Z.Development?p:h,type:"image/x-icon"},svgicon:"production"===C.Z.Development?m:g,maskicon:{href:b,color:"#001935"},mstile:{image:v,color:"#001936"},title:"Tumblr",image:null,canonicalUrl:null,keywords:["tumblelog","blog","tumblog","tumbler","tumblr","tlog","microblog"]});const N=(0,w.X9)((function(e){return c.createElement(k.Z.Consumer,null,(t=>c.createElement(x,o()({},e,{metadataContext:t}))))}),{pollerContext:!0,appContext:!0})},95537:(e,t,n)=>{"use strict";n.d(t,{CS:()=>l,Um:()=>c,ZP:()=>d});var a=n(43893),o=n.n(a),r=n(95004),s=n(89143),i=n(2540),l="moatContainer",c="725780052135";const d=(0,s.s)((e=>{var t=e.timelineObject,n=e.setInViewCallback,a=(0,i.bp)().features.useMoat,s=(0,r.useState)(!1),l=o()(s,2),d=l[0],u=l[1];(0,r.useEffect)((()=>{a&&(null==n||n((()=>u(!0))))}),[n,a]);var p=[["moatClientLevel1",t.advertiserId||""],["moatClientLevel2",t.campaignId||""],["moatClientLevel3",t.adGroupId||""],["moatClientLevel4",t.creativeId||""]].map((e=>{var t=o()(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(encodeURIComponent(a))})).join("&"),m="https://z.moatads.com/tumblrdisplay".concat(c,"/moatad.js#").concat(p),h="MOAT-tumblrdisplay".concat(c,"?").concat(p.replace(/&/g,"&amp;"));return d?r.createElement(r.Fragment,null,r.createElement("noscript",{className:h}),r.createElement("script",{src:m,type:"text/javascript"})):null}),!0)},18843:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p});var a=n(43893),o=n.n(a),r=n(95004),s=n(22123),i=n(22654),l=n(36643),c=n(2540),d=n(88910);function u(e){var t,n=e._t,a=e._c,o=e.primaryBlog,r=e.mainBlogToBlockFrom,s=e.onBlockConfirm,i=e.onBlockCancel,l=e.title,c=e.body,u=e.blockButtonText,p=e.force;return{title:l,body:c,buttons:[{text:n("Nevermind"),onClick:i,buttonStyle:d.X.Neutral},{text:u,onClick:()=>s([r],p),buttonStyle:d.X.Cancel},...o&&o!==r?[(t=[r,o],{text:a("Variable is blog name. This will block another user from seeing a different blog and from your primary blog too","Block from %1$s too",o),onClick:()=>s(t,p),buttonStyle:d.X.Cancel})]:[]]}}const p=function(e){var t=e.currentTumblelog,n=e.tumblelogNameToBlock,a=e.postId,p=e.closeDialog,m=(0,c.bp)(),h=m._t,g=m._c,v=m.apiFetch,b=m.getUserInfo,f=(0,r.useState)(""),E=o()(f,2),C=E[0],y=E[1],w=(0,r.useState)(!0),k=o()(w,2),P=k[0],S=k[1],T=(0,r.useState)(!1),x=o()(T,2),N=x[0],I=x[1],R=(0,r.useState)(!1),M=o()(R,2),A=M[0],B=M[1],Z=(0,r.useState)(void 0),L=o()(Z,2),O=L[0],D=L[1],F=t||C;r.useEffect((()=>{b().then((e=>{y(e.name)})).catch((()=>I(!0))).finally((()=>S(!1)))}),[b,F,n]);var _,H=()=>p(!1),U=()=>{B(!0)},z=e=>{!function(e){return 1036===(null==e?void 0:e.code)||1037===(null==e?void 0:e.code)}(e.detailedErrors[0])?I(!0):D(e.detailedErrors[0].detail)},V=(e,t)=>Promise.all(e.map((e=>((e,t)=>{var o="Anonymous"===n?void 0:n;return(0,l.ZP)(v).blockBlog(e,o,a,t).fetch()})(e,t)))).then(U).catch(z);return _=P?{body:r.createElement(i.Z,null),buttons:[]}:N?function(e){var t=e._t,n=e._c,a=e.tumblelogNameToBlock,o=e.onBlockCancel;return{title:t("Something went wrong"),body:n("Placeholder is blog name","Failed to block %1$s.",a),buttons:[{text:t("Close"),onClick:o,buttonStyle:d.X.Neutral}]}}({_t:h,_c:g,tumblelogNameToBlock:n,onBlockCancel:H}):A?{title:g("Confirmation that a user has been blocked","%1$s has been blocked.",n),buttons:[{text:h("Close"),onClick:()=>p(!0),buttonStyle:d.X.Confirm}]}:u(O?{_t:h,_c:g,primaryBlog:C,mainBlogToBlockFrom:F,onBlockConfirm:V,onBlockCancel:H,title:h("Are you sure?"),body:O,blockButtonText:h("Block anyway"),force:!0}:{_t:h,_c:g,primaryBlog:C,mainBlogToBlockFrom:F,onBlockConfirm:V,onBlockCancel:H,title:g("Prompting a user to block another user","Are you sure you want to block %1$s from %2$s?",n,F),body:g("Message describing all options that will be blocked","They won't be able to follow %1$s, send %1$s messages, see %1$s in search results, or interact with any of %1$s's posts.",F),blockButtonText:h("Block"),force:!1}),r.createElement(s.Z,{onGlassClick:H,glassIsClickable:!1},r.createElement(d.Z,_))}},88910:(e,t,n)=>{"use strict";n.d(t,{X:()=>g,Z:()=>b});var a=n(95004),o=n(24988),r=n(6957),s=n(51742),i=n(62513);const l="RgTaQ",c="B3EfW",d="rDKIp",u="QiSmE",p="keIHK",m="Qluee",h="B5hil";var g;!function(e){e.Confirm="confirm",e.Cancel="cancel",e.Neutral="neutral"}(g||(g={}));var v={[g.Confirm]:i.paletteAccent,[g.Cancel]:i.paletteRed,[g.Neutral]:i.paletteTransparentWhite65};const b=function(e){var t=e.title,n=e.body,g=e.isBodyHtml,b=e.buttons,f=e.buttonContainerClassname,E=e.className,C=e.children,y=e.footer;return a.createElement("div",{className:(0,s.Z)([l,E])},a.createElement(o.ZP,{disable:o.z9}),a.createElement("div",{className:u},a.createElement("h3",{className:c},t),function(e,t){return e?a.createElement("div",{className:d,dangerouslySetInnerHTML:{__html:t}}):a.createElement("div",{className:d},t)}(!!g,n),C),a.createElement("div",{className:(0,s.Z)([m,f])},b.map(((e,t)=>a.createElement(r.ZP,{key:t,"aria-label":e.label||("string"==typeof e.text?e.text:void 0),onClick:e.onClick,backgroundColor:v[e.buttonStyle],textColor:i.paletteNavy,wrapperClassName:!e.link&&h,label:e.label||("string"==typeof e.text?e.text:""),className:e.link&&h,href:e.link,feature:!e.link&&void 0,disabled:e.disabled},e.text)))),a.createElement("div",{className:p},y))}},60562:(e,t,n)=>{"use strict";n.d(t,{L:()=>m,Z:()=>h});var a=n(95004),o=n(81059),r=n(22123),s=n(24988),i=n(85706),l=n(51742),c=n(2540),d=n(62513),u=n.n(d);const p={modal:"CXPww",modalWrapper:"lqHQ2",compact:"qtjVi",modalContents:"wddaX",fixedHeader:"Zlvz6",modalHeader:"QK6UU",closeButtonWrapper:"_gnzJ",closeButton:"drQEn",rounded:"Hc7H_"};var m;!function(e){e.Default="default",e.Rounded="rounded"}(m||(m={}));const h=e=>{var t=e.children,n=e.title,d=e.onClose,h=e.compact,g=e.setRef,v=e.theme,b=void 0===v?m.Default:v,f=(0,c.bp)()._t;return a.createElement(r.Z,{onGlassClick:d,glassIsClickable:!0},a.createElement(s.ZP,{disable:s.z9}),a.createElement("div",{className:(0,l.Z)([p.modal,p[b]])},a.createElement("div",{className:(0,l.Z)({[p.modalWrapper]:!0,[p.compact]:!!h})},a.createElement("div",{className:p.fixedHeader},a.createElement("div",{className:p.modalHeader},a.createElement("span",null,n),a.createElement(o.Z,{label:f("Close"),onClick:d,wrapperClassName:p.closeButtonWrapper,className:p.closeButton},a.createElement(i.Z,{size:{width:12,height:12},fill:u().gray40})))),a.createElement("div",{className:p.modalContents,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=>null==g?void 0:g(e)))},t))))}},20793:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>le});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(95537),c=n(29774),d=n(18602),u=n(89143),p=n(42516),m=n(2978),h=n(61974),g=n(76230),v=n(90553),b=n(18553),f=n(22320);const E="uOyjG",C="kJSyc",y="CH8uH";class w extends i.Component{constructor(){super(...arguments),s()(this,"state",{}),s()(this,"getPostContextValue",(0,c.Z)((e=>({post:e,presentationStyle:f.Z.iponweb})))),s()(this,"onClick",(()=>{var e=this.props.timelineObject,t=e.adm,n=e.placementId,a=this.props.appContext.logEvent,o=this.props.adContext.sendClickADMBeacon;a({eventName:m.JE.Click,eventDetails:{placement_id:n}}),o(t)}))}componentDidMount(){var e=this.props,t=e.adContext,n=t.adPlacementConfiguration,a=t.hydraConfigInstanceId,o=e.appContext.logEvent,r=e.timelineObject;this.generateIOWModel(),(0,b.Y)(o,n,r,a)}render(){var e,t,n=this.state.iponWebResponse;if(!(n&&null!=n&&n.sponsorName&&null!=n&&n.avatar&&null!=n&&n.title))return null;var a="string"!=typeof this.props.timelineObject.adm?null===(e=this.props.timelineObject.adm)||void 0===e?void 0:e.native:void 0,o=this.props.appContext._t,r={url:n.avatar.url,width:n.avatar.w,height:n.avatar.h,hasOriginalDimensions:!0},s={blog:{name:o("Sponsored by %1$s",n.sponsorName),url:"",avatar:[r],isAdult:!1},permalinkUrl:""},l=i.createElement(p.Z,{postAttribution:s,presentationStyle:f.Z.iponweb,showsFollowButton:!1,showsSponsored:!1,isFollowingPoster:!1,isFollowingReblogger:!1,isNonInteractive:!0}),c=n.sponsorName&&n.img?i.createElement(d.Q3,{imageResponse:[{url:n.img.url,width:n.img.w,height:n.img.h,hasOriginalDimensions:!0}]}):null,u=n.cta?i.createElement("div",{className:y},i.createElement("p",null,n.cta)):null;return i.createElement(g.Mj.Provider,{value:this.getPostContextValue(this.props.timelineObject)},i.createElement("a",{className:E,href:null==a||null===(t=a.link)||void 0===t?void 0:t.url,onClick:this.onClick,role:"button",target:"_blank",rel:"noopener"},l,i.createElement("div",{className:C},i.createElement("h2",null,n.title),i.createElement("p",null,n.description)),c,u))}generateIOWModel(){var e,t,n="string"!=typeof this.props.timelineObject.adm&&(null===(e=this.props.timelineObject.adm)||void 0===e||null===(t=e.native)||void 0===t?void 0:t.assets)||[];this.setState({iponWebResponse:n.reduce(((e,t)=>{if(t.title&&(e.title=t.title.text),t.img)switch(t.img.type){case h.f.Icon:e.avatar=t.img;break;case h.f.Main:e.img=t.img}if(t.data)switch(t.data.type){case h.BM.Sponsored:e.sponsorName=t.data.value;break;case h.BM.Description:e.description=t.data.value;break;case h.BM.AdditionalDesc:e.additionalDescription=t.data.value;break;case h.BM.CTAText:e.cta=t.data.value}return e}),{})})}}var k=(0,v.X9)(w,{appContext:!0,adContext:!0});const P=(0,u.s)(k);var S,T=n(27884),x=n.n(T),N=n(39576),I=n.n(N),R=n(19195),M=n.n(R),A=n(36759),B={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0};!function(e){e.GeometryUpdated="geom-update"}(S||(S={}));var Z=n(89393);class L extends Z.Z{constructor(e){super("Could not load the Safeframe Library with error: ".concat(e),"SafeframeLoadError")}}var O=n(94966),D=n.n(O),F=n(68711);function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D().postWidth;return Math.min(e,F.ZP.getInfo().innerWidth)}var H=(e,t,n)=>{var a,o=z(e),r=(null==n?void 0:n.self)&&U(n.self),s=o&&V(o);return!!(t===S.GeometryUpdated&&o&&r&&"true"===(null===(a=o.parentElement)||void 0===a?void 0:a.dataset.isResizable)&&s)&&(W(o,r),W(s,r),!0)},U=e=>{if(!e||!e.w||!e.h)return null;var t=_(D().postWidth),n=t/e.w;return 1===n?null:{w:t,h:Math.ceil(e.h*n)}},z=e=>document.getElementById("sf_pos_rel_el_".concat(e)),V=e=>e.querySelector("iframe"),W=(e,t)=>{e.style.width="".concat(t.w,"px"),e.style.height="".concat(t.h,"px")},G=function(){var e=x()(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.$sf){e.next=9;break}return e.next=4,n.e(4526).then(n.t.bind(n,86121,23));case 4:return e.next=6,n.e(7266).then(n.t.bind(n,13274,23));case 6:return e.next=8,n.e(7828).then(n.t.bind(n,52372,23));case 8:new window.$sf.host.Config({renderFile:A,positions:{},onPosMsg:H});case 9:return e.next=11,new Promise(((e,t)=>{var n=0,a=()=>I()(window,"$sf.host.boot")?e():n>=10?t("Exceeded max attempts to check for the Safeframe API."):(n+=1,void setTimeout(a,1e3));a()}));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),new L(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();class q extends i.Component{constructor(){super(...arguments),s()(this,"createHtmlField",(()=>{var e=this.props,t=e.frameUrl,n=e.conf,a=e.html,o=JSON.stringify(n);if(t)return'\n        {\n          "id" : "'.concat(n.id,'",\n          "html" : "<script src=\\"').concat(t,'\\"><\/script>",\n          "conf" : ').concat(o,"\n        }\n        ");if(a){var r=JSON.stringify(a);return'\n        {\n          "id" : "'.concat(n.id,'",\n          "html" : ').concat(r,',\n          "conf" : ').concat(o,"\n        }\n        ")}return""}))}componentDidUpdate(e){this.props.html===e.html&&this.props.frameUrl===e.frameUrl||(this.generateSafeframeData(),I()(window,"$sf.host.boot")&&(window.$sf.host.nuke(this.props.conf.id),window.$sf.host.boot()))}componentDidMount(){var e=this;return x()(M().mark((function t(){var n;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.generateSafeframeData(),q.HAS_BEEN_INITIALIZED){t.next=9;break}return n=Node.prototype.removeChild,Node.prototype.removeChild=function(e){return e.parentNode!==this?(e.remove&&e.remove(),e):n.call(this,e)},t.next=6,G();case 6:q.HAS_BEEN_INITIALIZED=!0,t.next=10;break;case 9:I()(window,"$sf.host.boot")&&window.$sf.host.boot();case 10:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){this.props.conf.id&&I()(window,"$sf.host.boot")&&window.$sf.host.nuke(this.props.conf.id)}render(){return i.createElement("div",{id:this.props.conf.id})}generateSafeframeData(){var e=this.props,t=e.adRequestContext.currentAdRequests,n=e.conf.id,a=document.createElement("script");if(a.className="sf_data",a.type="text/x-safeframe",a.innerHTML=this.createHtmlField(),n){var o=t[n];o&&o.setStartTime()}document.body.appendChild(a)}}s()(q,"HAS_BEEN_INITIALIZED",!1);const j=(0,v.X9)(q,{adRequestContext:!0});const K=class{constructor(e,t){if("object"==typeof e)if(this.id=e.id,this.dest=e.dest||t,this.bg=e.bg||"transparent",this.tgt=e.tgt||"_top",this.css=e.css,this.w="string"==typeof e.w?String(e.w):Number(e.w)||0,this.h=Number(e.h)||0,this.z=Number(e.z)||0,this.supports=e.supports||B,this.w&&this.h)this.size="string"==typeof this.w?"":"".concat(this.w,"x").concat(this.h);else{var n=e.size;if(n){var a=n.split(/x/gi);this.w=Number(a[0])||0,this.h=Number(a[1])||0,this.size=n}else this.size=""}else this.id=e,this.dest=t}};var Q=n(45403),J=n(80100),Y=n(52385),X=n(51742),$=e=>!!e.streamGlobalPosition||e.supplyProviderId===J.E.DASHBOARD,ee=n(79560),te=(e,t)=>{var n,a=t;window.native=window.native||[],null===(n=window.native)||void 0===n||n.push({passbackHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"noAd": "'.concat(e,'"}}'),"*")},successHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"adAvailable": "'.concat(e,'"}}'),"*")},errorHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.error,a=void 0===n?"Unknown Flurry Error":n;window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"adError": "'.concat(e,'", "errorMsg": "').concat(a,'"}}'),"*")},code:a}),window.apiKey="XQN3HX9KDMPKQNDS5DJK",window.publisherUrl="https://www.tumblr.com/"},ne=function(e,t){var n,a,o,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=null===(n=(a=window).getSuid)||void 0===n?void 0:n.call(a),l={dcn:"8a969588016f6ff76855f7d814460018",pos:t,secure:"1"};i&&(l["u(id)"]=i),s&&(l.us_privacy=s),e&&(l["p(supplyId)"]=e),null===(o=(r=window).admaxAd)||void 0===o||o.call(r,l),setTimeout((()=>{var t=document.querySelector('div[id^="ad"]');if(t){var n,a=Array.from(t.childNodes).find((e=>8===e.nodeType));"No Ads"===(null==a||null===(n=a.textContent)||void 0===n?void 0:n.trim())&&window.top.postMessage('{"oneMobileMsg": {"noAd": "'.concat(e,'"}}'),"*")}else window.top.postMessage('{"oneMobileMsg": {"noAd": "'.concat(e,'"}}'),"*")}),7e3)};const ae="Qrht9",oe="TGnTP";var re={[Y.db.Teads]:.5926,[Y.db.Flurry]:.6852,[Y.db.OneMobile]:250/300},se={[Y.db.Teads]:D().postWidth,[Y.db.Flurry]:D().postWidth,[Y.db.OneMobile]:D().sidebarAdWidth};class ie extends i.Component{constructor(){super(...arguments),s()(this,"safeFrameScriptMapping",{[Y.db.Teads]:e=>'<script src="//a.teads.tv/page/'.concat(e,"/tag?supply_id=").concat(this.props.supplyOpportunityInstanceId,'"><\/script>'),[Y.db.OneMobile]:e=>{var t,n;return'<script src="'.concat("https://web.ssp.yahoo.com/js/admax/admax_api_https.js",'"><\/script>\n    <script>\n    const supplyOpportunityInstanceId = "').concat(this.props.supplyOpportunityInstanceId,'"\n    const placementId = "').concat(e,'"\n    const ccpaPrivacyConsentString = "').concat((null===(t=this.props.adContext)||void 0===t||null===(n=t.privacy)||void 0===n?void 0:n.ccpaPrivacyString)||"",'"\n    const init = ').concat(ne,"\n    init(supplyOpportunityInstanceId, placementId, ccpaPrivacyConsentString)\n    <\/script>")},[Y.db.Flurry]:e=>'<script type="text/javascript">\n    (function() {\n      const supplyOpportunityInstanceId = "'.concat(this.props.supplyOpportunityInstanceId,'"\n      const placementId = "').concat(e,'"\n      const init = ').concat(te,';\n      init(supplyOpportunityInstanceId, placementId)\n    })();\n    <\/script>\n    <script async src="').concat("https://s.yimg.com/dy/ads/".concat("native.js"),'"><\/script>')})}componentWillUnmount(){var e,t=this.props.ad;if((0,Y.MA)(t)&&t.clientSideAdType===Y.db.Teads)null===(e=window.teads)||void 0===e||e.cleanup()}render(){var e=this.props,t=e.ad,n=e.presentationStyle;if(!t)return null;var a=this.generateSafeFrameConfig();return(0,Y.MA)(t)||t.adProviderId===Y.Rd.TripleliftBanner||(0,Y.ou)(t)?i.createElement("div",{style:{width:a.w},"data-is-resizable":(0,Y.MA)(t)&&!(0,Y.uY)(t),className:(0,X.Z)({[l.CS]:!0,[ae]:$(t)})},i.createElement(j,{conf:a,html:this.generateHTMLFromAd(t),key:a.id}),i.createElement(l.ZP,{timelineObject:t})):(0,Y.uz)(t)&&n?i.createElement(Q.Z,{presentationStyle:n,timelineObject:t}):(0,Y.lR)(t)?i.createElement("div",{className:oe},i.createElement(P,{timelineObject:t})):null}generateHTMLFromAd(e){var t=this.props,n=t.appContext.features,a=t.adContext.adPlacementConfiguration,o=t.location,r=void 0===o?J.E.DASHBOARD:o,s=t.streamPosition;if((0,Y.MA)(e)&&e.clientSideAdType in this.safeFrameScriptMapping){var i=(0,ee.Wy)(e.clientSideAdType,a,r,s,n);return this.safeFrameScriptMapping[e.clientSideAdType](i)}return e&&this.isAdmAd(e)&&"string"==typeof e.adm?null==e?void 0:e.adm:""}generateSafeFrameConfig(){var e,t=this.props,n=t.supplyOpportunityInstanceId,a=t.ad;return e=a&&this.isAdmAd(a)?{w:(null==a?void 0:a.width)||"100%",h:(null==a?void 0:a.height)||"auto"}:{w:_(se[a.clientSideAdType]||D().postWidth),h:(0,Y.MA)(a)&&re[a.clientSideAdType]?Math.ceil(re[a.clientSideAdType]*_(se[a.clientSideAdType])):0},new K(o()({id:((null==a?void 0:a.supplyOpportunityInstanceId)||n)+((null==a?void 0:a.id)||a.adInstanceId),dest:((null==a?void 0:a.supplyOpportunityInstanceId)||n)+((null==a?void 0:a.id)||a.adInstanceId),supports:{"exp-push":1}},e))}isAdmAd(e){return!!(0,Y.ou)(e)||!(!(0,Y.lR)(e)||e.adProviderId!==Y.Rd.TripleliftBanner)}}const le=(0,v.X9)(ie,{appContext:!0,adContext:!0})},30492:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p});var a=n(95004),o=n(18485),r=n(80100),s=n(2540);const i="RO9wQ";var l="word-ads-pubmine-script",c="ata-dynamic-1",d={[r.E.RIGHT_RAIL]:101,[r.E.DASHBOARD]:101,[r.E.EXPLORE]:202,[r.E.COMMUNITY_HUB]:203,[r.E.BLOG_PAGE]:1,[r.E.POST_PERMALINK]:1,[r.E.RECOMMENDED]:1,[r.E.TAKEOVER]:1},u={[r.E.RIGHT_RAIL]:101,[r.E.DASHBOARD]:101,[r.E.EXPLORE]:102,[r.E.COMMUNITY_HUB]:103,[r.E.BLOG_PAGE]:1,[r.E.POST_PERMALINK]:1,[r.E.RECOMMENDED]:1,[r.E.TAKEOVER]:1};const p=e=>{var t=e.supplyProviderId,n=void 0===t?r.E.RIGHT_RAIL:t,p=(0,s.bp)(),m=p.tumblrIponwebUserId,h=p.cspNonce,g=p.wwwBaseUrl,v=p._t,b=p.isLoggedIn,f=()=>{"undefined"!=typeof __tcfapi&&__tcfapi("ping",2,((e,t)=>{if(t&&e.gdprApplies)return __tcfapi("showUi",2,(()=>null));window.location.replace((0,o.Z)("".concat(g,"/privacy"),{redirect:window.location.href}))}))},E=()=>{var e;null===(e=window.__ATA)||void 0===e||e.cmd.push((()=>{var e,t;null===(e=window.__ATA)||void 0===e||null===(t=e.initDynamicSlot)||void 0===t||t.call(e,{id:c,location:110,formFactor:"002"})}))};return(0,a.useEffect)((()=>{var e,t;window.__ATA_PP={pt:b?u[n]:d[n],ht:1,tn:"tumblr",amp:!1,ad:{label:{text:v("Advertisements")},reportAd:{text:v("Report this ad")},privacySettings:{text:v("Privacy"),onClick:f}},siteid:174375630,id_hash:m},window.__ATA={cmd:(null===(e=window.__ATA)||void 0===e?void 0:e.cmd)||[],criteo:(null===(t=window.__ATA)||void 0===t?void 0:t.criteo)||{cmd:[]}};var a=document.createElement("script");return a.src="https://c0.pubmine.com/2.20.01613588427137/head.js",a.id=l,a.onload=E,a.nonce=h,document.body.appendChild(a),()=>{var e;window.__ATA=void 0,window.__ATA_PP=void 0,null===(e=document.getElementById(l))||void 0===e||e.remove()}}),[]),a.createElement("div",{id:c,className:i})}},60505:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>k});var a,o=n(85313),r=n.n(o),s=n(92969),i=n.n(s),l=n(29774),c=n(95004),d=n(26255),u=n(30492),p=n(89143),m=n(96604);!function(e){e.NO_FILL="no_fill",e.OTHER="other"}(a||(a={}));var h=n(52385),g={[h.db.Teads]:"teadsHydraSource",[h.db.Flurry]:"flurryHydraSource",[h.db.OneMobile]:"oneMobileHydraSource",[h.db.IponWeb]:"iponwebMrecHydraSource",[h.db.Post]:"",[h.Rd.TripleliftBanner]:""},v=n(80100),b=n(90553),f=n(79560),E=n(18553),C=n(52660);class y extends c.Component{constructor(){super(...arguments),i()(this,"state",{currentIndex:0,currentClientSideAdType:void 0}),i()(this,"adTypeInitMapping",{[h.db.Teads]:e=>{try{var t=this.props,n=t.timelineObject.supplyOpportunityInstanceId,a=t.appContext,o=a.logEvent,r=a.features.teadsLivePlacementNoCollapse,s=this.state.currentAd,i=JSON.parse(e.data);if(!n||!i.tumblrMsg)return;switch(n){case i.tumblrMsg[m.oG.NoAd]:return void(r||this.handleNoAdResponse(h.db.Teads));case i.tumblrMsg[m.oG.AdServed]:return void this.handleSuccessfulAdResponse();case i.tumblrMsg[m.oG.TeadsImpression]:o(this.generateAnalyticsEvent({eventName:m.bI.ForeignImpression,ad:s}))}}catch(e){return}},[h.db.OneMobile]:e=>{try{var t=JSON.parse(e.data),n=this.props.timelineObject.supplyOpportunityInstanceId;if(!n)return;if(n===t.oneMobileMsg[m.oG.NoAd])this.handleNoAdResponse(h.db.OneMobile)}catch(e){return}},[h.db.Flurry]:e=>{try{var t=JSON.parse(e.data),n=this.props.timelineObject.supplyOpportunityInstanceId;if(!n)return;switch(n){case t.flurryMsg[m.oG.NoAd]:return void this.handleNoAdResponse(h.db.Flurry);case t.flurryMsg[m.oG.AdServed]:return void this.handleSuccessfulAdResponse();case t.flurryMsg[m.oG.AdError]:return void this.handleNoAdResponse(h.db.Flurry,t.flurryMsg.errorMsg)}}catch(e){return}}}),i()(this,"fallbackAdMapping",{[v.E.RIGHT_RAIL]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:u.ZP,props:{supplyProviderId:this.props.supplyProviderId}}:null,[v.E.EXPLORE]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:u.ZP,props:{supplyProviderId:this.props.supplyProviderId}}:null,[v.E.COMMUNITY_HUB]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:u.ZP,props:{supplyProviderId:this.props.supplyProviderId}}:null}),i()(this,"getAdToRender",(0,l.Z)(((e,t,n)=>{var a=t||n;return(null==a?void 0:a.id)===(null==e?void 0:e.id)?r()(r()({},a),e):a}))),i()(this,"onBeforeUnload",(()=>{var e,t=this.props,n=t.appContext.logEvent,a=t.timelineObject;if(this.detachAdEventHandlers(this.state.currentAd),0===this.state.currentIndex&&!this.state.currentAd&&((0,h.uz)(a)||null!=a&&null!==(e=a.resources)&&void 0!==e&&e.backfill)){var o,r=(0,h.uz)(a)?a:null===(o=a.resources)||void 0===o?void 0:o.backfill;n(this.generateAnalyticsEvent({eventName:m.ql.AdDropped,ad:r,dropReason:m.LI.WaterfallNotUsed}),{sendPayloadImmediately:!0})}})),i()(this,"handleSuccessfulAdResponse",(()=>{var e,t,n=this.state,a=n.currentAd,o=n.currentIndex,r=this.props,s=r.appContext.logEvent,i=r.adContext,l=i.adPlacementConfiguration,c=i.hydraConfigInstanceId,u=r.setProvideEventDetails,p=r.setImpressionsEnabled,g=r.timelineObject;!(0,h.uz)(g)&&g.resources?(e=g.resources.clientSideAds,t=g.resources.backfill):(e=[],t=g);var v=e.length,b=this.getCurrentAdRequest();if(b&&(b.setEndTime(),b.generateAdInstance()),(0,h.uz)(g)||(s(this.generateAnalyticsEvent({eventName:m.rB.AdRequest,ad:a,adRequestStatus:m.ts.AdFilled})),u((()=>this.generateAnalyticsEvent({eventName:m.bI.Impression,ad:a}).eventDetails)),p(!0),s(this.generateAnalyticsEvent({eventName:m.ql.SupplyOpportunityFilled,ad:a}))),(0,h.uz)(a)){var f=this.state.fillId||(0,d.Z)();(0,E.Y)(s,l,a,c,f),this.setState({fillId:f})}o<=v&&t&&!(0,h.uz)(g)&&s(this.generateAnalyticsEvent({eventName:m.ql.AdDropped,ad:t,dropReason:m.LI.BackfillNotNeeded}))})),i()(this,"handleNoAdResponse",((e,t)=>{var n=this.props.appContext.logEvent,o=this.state,s=o.currentClientSideAdType,i=o.currentAd,l=this.getCurrentAdRequest();null==l||l.setEndTime(),null==l||l.setErrorDetails(t?{error_type:a.OTHER,provider_error_message:t}:{error_type:a.NO_FILL}),n(this.generateAnalyticsEvent(r()({eventName:m.rB.AdRequest,ad:i},t?{adRequestStatus:m.ts.AdError}:{adRequestStatus:m.ts.NoAd}))),s===e&&this.getNextAd()})),i()(this,"generateAnalyticsEvent",(e=>{var t=this.props,n=t.isInstream,a=t.timelineObject,o=t.supplyProviderId,s=t.rootSupplyOpportunityId,i=t.refresh,l=t.adContext,c=l.adPlacementConfiguration,u=l.hydraConfigInstanceId,p=l.adProviderInstanceIdMap,b=t.appContext.features,E=a.streamGlobalPosition,y=e.eventName,w=e.ad,k=e.adRequestStatus,P=e.dropReason,S=void 0===P?m.LI.BackfillNotNeeded:P,T=r()({refresh:i,root_supply_opportunity_instance_id:s},c&&{hydra_signature:c.signature,hydra_config_instance_id:u}),x=this.getCurrentAdRequest(),N=o||v.E.DASHBOARD;switch(Object.values(m.rB).includes(y)||(T.supply_opportunity_instance_id=a.supplyOpportunityInstanceId,T.supply_provider_id=N,n&&(T.stream_session_id=a.streamSessionId,T.stream_global_position=E)),y){case m.ql.MediationOpportunityMissed:T.supply_request_id=null==a?void 0:a.supplyRequestId;break;case m.ql.AdDropped:((0,h.N0)(w)||(0,h.uz)(w)||(0,h.ou)(w))&&(T.ad_provider_id=w.adProviderId,T.ad_provider_placement_id=w.adProviderPlacementId,T.ad_provider_foreign_placement_id=w.adProviderForeignPlacementId,T.ad_provider_instance_id=w.adProviderInstanceId,T.ad_request_id=w.adRequestId,T.supply_opportunity_instance_id=a.supplyOpportunityInstanceId,T.mediation_candidate_id=w.mediationCandidateId,T.ad_instance_id=w.adInstanceId,T.ad_instance_age=this.getAdInstanceAge(w),T.supply_request_id=a.supplyRequestId,T.supply_provider_id=a.supplyProviderId,T.drop_reason=S,T.is_tumblr_sponsored_post=w.isTumblrSponsoredPost?1:0,T.placement_id=w.placementId);break;case m.bI.ForeignImpression:case m.ql.MediationCandidateConsideration:if((0,h.MA)(w)||(0,h.ou)(w)){if(T.ad_provider_id=(0,h.ou)(w)?w.adProviderId:w.clientSideAdType,T.is_tumblr_sponsored_post=0,(0,h.MA)(w)){var I=g[T.ad_provider_id];c&&I&&(T.ad_provider_placement_id=I,T.ad_provider_foreign_placement_id=(0,f.Wy)(w.clientSideAdType,c,N,E,b),T.ad_provider_instance_id=p[I])}w.placementId&&(T.placement_id=w.placementId)}(0,h.uz)(w)&&(T.ad_provider_id=w.adProviderId,T.is_tumblr_sponsored_post=1,T.ad_provider_placement_id=w.adProviderPlacementId,T.ad_provider_foreign_placement_id=w.adProviderForeignPlacementId,T.ad_provider_instance_id=w.adProviderInstanceId),T.mediation_candidate_id=null==w?void 0:w.mediationCandidateId,T.supply_request_id=a.supplyRequestId,T.supply_provider_id=N;break;case m.ql.SupplyOpportunityFilled:if((0,h.MA)(w)||(0,h.ou)(w)){if(w.placementId&&(T.placement_id=w.placementId),T.ad_provider_id=(0,h.ou)(w)?w.adProviderId:w.clientSideAdType,T.is_tumblr_sponsored_post=0,(0,h.MA)(w)){var R=g[T.ad_provider_id];c&&(T.ad_provider_placement_id=R,T.ad_provider_foreign_placement_id=(0,f.Wy)(w.clientSideAdType,c,N,E,b),T.ad_provider_instance_id=p[R])}T.ad_request_id=null==x?void 0:x.adRequestId,T.mediation_candidate_id=w.mediationCandidateId,null!=x&&x.adInstances&&x.adInstances[0]&&(T.ad_instance_id=x.adInstances[0].ad_instance_id,T.ad_instance_age=this.getAdInstanceAge(w)),T.supply_request_id=a.supplyRequestId,T.supply_provider_id=N,w.placementId&&(T.placement_id=w.placementId)}var M=(0,d.Z)();T.fill_id=M,this.setState({fillId:M});break;case m.bI.Impression:if((0,h.MA)(w)||(0,h.ou)(w)){if(T.ad_provider_id=(0,h.ou)(w)?w.adProviderId:w.clientSideAdType,T.is_tumblr_sponsored_post=0,(0,h.MA)(w)){var A=g[T.ad_provider_id];c&&(T.ad_provider_foreign_placement_id=(0,f.Wy)(w.clientSideAdType,c,N,E,b),T.ad_provider_placement_id=A,T.ad_provider_instance_id=p[A])}T.mediation_candidate_id=w.mediationCandidateId,null!=x&&x.adInstances[0]&&(T.ad_instance_id=x.adInstances[0].ad_instance_id,T.ad_instance_age=this.getAdInstanceAge(w)),T.supply_request_id=a.supplyRequestId,T.supply_provider_id=a.supplyProviderId}if(this.state.fillId)T.fill_id=this.state.fillId;else{var B=(0,d.Z)();T.fill_id=B,this.setState({fillId:B})}x?T.ad_request_id=x.adRequestId:(0,C.Z)("currentAdRequest is undefined. ad_provider_id: ".concat(T.ad_provider_id));break;case m.rB.AdRequest:if((0,h.MA)(w)||(0,h.ou)(w)){if(T.ad_provider_id=(0,h.ou)(w)?w.adProviderId:w.clientSideAdType,(0,h.MA)(w)){var Z=g[T.ad_provider_id];c&&(T.ad_provider_foreign_placement_id=(0,f.Wy)(w.clientSideAdType,c,N,E,b),T.ad_provider_placement_id=Z,T.ad_provider_instance_id=p[Z])}T.ad_instances=null==x?void 0:x.adInstances}T.ad_request_is_success=k===m.ts.AdError?0:1,T.ad_request_id=null==x?void 0:x.adRequestId,T.ads_returned=k===m.ts.AdFilled?1:0,T.ad_request_latency=x&&x.requestEndTime-x.requestStartTime,T.ads_requested=1,k===m.ts.AdError&&(T.ad_request_error_detail=null==x?void 0:x.errorDetails)}return{eventName:y,eventDetails:T}}))}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload),this.determineAdFetch()}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload),this.onBeforeUnload()}componentDidUpdate(e){var t=this.props.appContext.features.rightRailFallback;this.props.timelineObject.supplyOpportunityInstanceId!==e.timelineObject.supplyOpportunityInstanceId&&this.setState((e=>r()({currentIndex:0},t&&{previousAd:e.currentAd||e.previousAd})),(()=>this.determineAdFetch()))}render(){var e=this.props,t=e.children,n=e.supplyProviderId,a=void 0===n?v.E.DASHBOARD:n,o=e.timelineObject,r=o.streamGlobalPosition,s=o.supplyOpportunityInstanceId,i=this.state.currentAd,l=this.getAdToRender(o,i),c=this.getFallBackAd();return(l||c)&&(null==t?void 0:t({supplyOpportunityInstanceId:s,location:a,streamPosition:a===v.E.DASHBOARD?r:void 0,ad:l,fallbackAd:c||{}}))}getNextAd(){var e,t,n=this.state,a=n.currentAd,o=n.currentIndex,r=this.props,s=r.timelineObject,i=r.appContext.logEvent,l=(0,h.uz)(s)?[s]:(null===(e=s.resources)||void 0===e?void 0:e.clientSideAds)||[],c=(0,h.ou)(s)?s:null===(t=s.resources)||void 0===t?void 0:t.backfill,d=l.length;this.detachAdEventHandlers(a);var u=o===d?c:o<d?l[o]:void 0;i(this.generateAnalyticsEvent(u?{eventName:m.ql.MediationCandidateConsideration,ad:u}:0!==l.length||c?{eventName:m.ql.MediationOpportunityMissed}:{eventName:m.ql.SupplyOpportunityMissed})),this.setState({currentIndex:o+1,currentClientSideAdType:u?u.clientSideAdType||h.db.Post:void 0,currentAd:u||void 0},(()=>{(0,h.uz)(u)&&this.handleSuccessfulAdResponse()})),(0,h.uz)(u)||(this.initializeAdEventHandlers(u),this.initializeAdRequest(u))}getFallBackAd(){var e,t,n=this.props,a=n.supplyProviderId;return(0,n.isApproachingView)()&&a&&a in this.fallbackAdMapping?null===(e=(t=this.fallbackAdMapping)[a])||void 0===e?void 0:e.call(t):null}initializeAdRequest(e){var t=this.props,n=t.adRequestContext,a=n.generateNewAdRequest,o=n.clearAdRequest,r=t.timelineObject.supplyOpportunityInstanceId;e?a(r,(0,h.ou)(e)?this.handleSuccessfulAdResponse:void 0):o(r)}initializeAdEventHandlers(e){if((0,h.MA)(e)){var t=this.adTypeInitMapping[e.clientSideAdType];t&&window.addEventListener("message",t)}}determineAdFetch(){var e=this.props,t=e.isApproachingView,n=e.setApproachingViewCallback;t()?this.getNextAd():n((()=>this.getNextAd()))}detachAdEventHandlers(e){if((0,h.MA)(e)){var t=this.adTypeInitMapping[e.clientSideAdType];t&&window.removeEventListener("message",t)}}getCurrentAdRequest(){var e=this.props,t=e.timelineObject.supplyOpportunityInstanceId;return e.adRequestContext.currentAdRequests[t]}getAdInstanceAge(e){var t;return(0,h.MA)(e)?null===(t=this.getCurrentAdRequest())||void 0===t?void 0:t.getAdInstanceAge():(0,h.N0)(e)||(0,h.ou)(e)?(new Date).getTime()-e.adInstanceCreatedTimestamp:void 0}}var w=(0,b.X9)(y,{appContext:!0,adContext:!0,adRequestContext:!0});const k=(0,p.s)(w,!0)},76870:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>f});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(95004),d=n(3161),u=n(2540),p=n(29252),m=n(52995),h=n(10214);class g extends m.Z{constructor(){super(...arguments),l()(this,"addObjectsToExisting",(e=>{var t=this.state.objects,n=this.props,a=n.direction,o=n.getObjectsFromResponse;return a===d.cU.Top?o(e).concat(t):t.concat(o(e))})),l()(this,"preHandleContentFetch",(e=>{var t=this.props.updateUrlFromCurrentPageLink;if(e===d.vO.Refresh)null==t||t()}))}render(){var e=this.props,t=e.fetchDistance,n=e.direction,a=e.scrollContainer,o=e.debug,r=e.loader,i=this.state,l=i.loadingNextPage,u=i.nextLink,p=r&&(null==u?void 0:u.href)&&c.cloneElement(r,{style:s()(s()({},r.props.style),{},{visiblity:"".concat(l?"visible":"hidden")})}),m=n===d.cU.Top;return c.createElement(h.Z,{onScrollToEdge:this.fetchNextPage,edgeDistance:t,scrollContainer:a,direction:n,debug:o},m&&p,super.render(),!m&&p)}}l()(g,"defaultProps",s()(s()({},m.c),{},{fetchDistance:400}));var v=(0,u.tM)(g);(0,p.D)(v,"Inner".concat(v.name));class b extends c.Component{render(){return c.createElement(v,o()({},this.props,{ref:this.props.forwardedRef}))}}const f=b},52995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N,c:()=>x});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(4622),l=n.n(i),c=n(6632),d=n.n(c),u=n(29774),p=n(95004),m=n(3161),h=n(19105),g=n(5868),v=n(13467),b=n(80261),f=n(4869),E=n(51742),C=n(94966);const y={pullToRefresh:"gxf2Y",refreshing:"bZWbL",wipe:"b4eLl",changeColor:"d8uWm",innerCircle:"sRM0W",outerCircle:"v2cZ4"};var w=e=>{var t,n=e.isRefreshing,a=e.pullingProgress,o=void 0===a?0:a;if(!n){var r=Math.min(1,Math.max(o,0)),s=Math.pow(r,4);t={strokeDashoffset:C.pullToRefreshCircumferencePx*(1-s)}}return p.createElement(f.S,null,(e=>{var a=e?e.linkColor:void 0;return p.createElement("div",{className:(0,E.Z)({[y.pullToRefresh]:!0,[y.refreshing]:n,[y.pulling]:!n})},p.createElement("svg",{viewBox:"0 0 ".concat(C.pullToRefreshHeightPx," ").concat(C.pullToRefreshHeightPx),height:"".concat(C.pullToRefreshHeightPx,"px"),width:"".concat(C.pullToRefreshHeightPx,"px")},p.createElement("circle",{stroke:a,cx:C.pullToRefreshHeightPx/2,cy:C.pullToRefreshHeightPx/2,r:C.pullToRefreshHeightPx/2-C.pullToRefreshPaddingPx,style:t})))}))};w.defaultProps={};const k=w;var P,S=n(68711);!function(e){e[e.PullingToRefresh=0]="PullingToRefresh",e[e.RefreshingResults=1]="RefreshingResults",e[e.RefreshedResults=2]="RefreshedResults"}(P||(P={}));class T extends p.Component{constructor(){super(...arguments),s()(this,"state",{refreshingState:P.PullingToRefresh,gestureStart:0,gestureDistance:0}),s()(this,"canPullToRefresh",(()=>(this.props.scrollContainer!==(0,v.Z)()?this.props.scrollContainer.scrollTop:S.ZP.getInfo().scrollY)<=0&&this.state.refreshingState!==P.RefreshingResults)),s()(this,"touchStart",(e=>{e.stopPropagation(),this.canPullToRefresh()&&this.setState({gestureStart:e.touches[0].screenY,gestureDistance:0,refreshingState:P.PullingToRefresh})})),s()(this,"touchMove",(e=>{if(e.stopPropagation(),!this.canPullToRefresh())return Promise.resolve();var t=(e.touches[0].screenY-this.state.gestureStart)/2,n=t>50?P.RefreshingResults:P.PullingToRefresh;return new Promise((e=>{this.state.refreshingState!==P.RefreshedResults&&n===P.RefreshingResults?this.setState({refreshingState:n,gestureDistance:t},(()=>{this.props.refresh().then((()=>this.setState({refreshingState:P.RefreshedResults},e)))})):this.setState({gestureDistance:t},e)}))})),s()(this,"touchEnd",(e=>{e.stopPropagation(),this.setState({gestureStart:0,gestureDistance:0})})),s()(this,"attachHandlers",(e=>{e&&(e.addEventListener("touchstart",this.touchStart),e.addEventListener("touchmove",this.touchMove),e.addEventListener("touchend",this.touchEnd))})),s()(this,"removeHandlers",(e=>{e&&(e.removeEventListener("touchstart",this.touchStart),e.removeEventListener("touchmove",this.touchMove),e.removeEventListener("touchend",this.touchEnd))}))}componentDidUpdate(e){var t=this.props.scrollContainer,n=e.scrollContainer;!t&&n&&this.attachHandlers(n),t&&!n&&this.removeHandlers(t),t&&n&&t!==n&&(this.removeHandlers(t),this.attachHandlers(n))}componentDidMount(){this.attachHandlers(this.props.scrollContainer)}componentWillUnmount(){this.removeHandlers(this.props.scrollContainer)}render(){var e;switch(this.state.refreshingState){case P.RefreshingResults:e={isRefreshing:!0};break;case P.PullingToRefresh:e={pullingProgress:this.state.gestureDistance/50};case P.RefreshedResults:}var t=0;switch(this.state.refreshingState){case P.PullingToRefresh:t=this.state.gestureDistance;break;case P.RefreshedResults:t=0;break;case P.RefreshingResults:t=50}return p.createElement("div",{style:{height:t,display:"flex",flexDirection:"column",overflow:"hidden"}},p.createElement(k,e))}}var x={direction:m.cU.Bottom,lockScrollOnObjectUpdate:!1,getNextLink:e=>d()(e,"response.links.next")};class N extends p.Component{constructor(){var e;super(...arguments),e=this,s()(this,"state",(()=>{var e=this.props.getInitialPage,t=null==e?void 0:e(),n=null==t?void 0:t.objects,a=null==t?void 0:t.nextLink;return o()(o()({},this.getEmptyInitialState()),{},{hasFetchedInitialPage:!!n,objects:n||[],nextLink:a})})()),s()(this,"getObjectsToRender",(0,u.Z)(((e,t)=>(null==t?void 0:t.filter((t=>!(null!=e&&e(t)))))||[]))),s()(this,"scrollToTop",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",n=e.getScrollableContainer();null!=n&&n.scrollTo&&n.scrollTo({behavior:t,top:0,left:0})})),s()(this,"scrollToBottom",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",n=e.props.scrollContainer,a=e.getScrollableContainer();null!=a&&a.scrollTo&&a.scrollTo({behavior:t,top:((0,m.Re)(n)?n:document.body).scrollHeight,left:0})})),s()(this,"shouldRenderMainLoader",(()=>!this.state.hasFetchedInitialPage)),s()(this,"fetchNextPage",(function(){var t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.nextLink;return e.canFetchNextPage(a)?(null===(t=(n=e.props).onFetchNextPage)||void 0===t||t.call(n),e.handleContentFetch({fetchPromise:e.getFetchNextPageRequest(a).fetch(),requestType:m.vO.Pagination,fetchingState:{loadingNextPage:!0},fetchedState:{loadingNextPage:!1},getObjectsFromResponse:e.addObjectsToExisting})):Promise.resolve()})),s()(this,"canFetchNextPage",(e=>{var t=this.state,n=t.loadingNextPage,a=t.refreshingPage,o=t.apiRequestFailed;return!(o&&Date.now()-o<2e3)&&(!n&&!a&&!!e)})),s()(this,"refresh",(()=>{var e=this.props,t=e.endpointApiRequest,n=e.direction;return this.state.refreshingPage?Promise.resolve():(n===m.cU.Bottom&&this.scrollToTop(),t?this.handleContentFetch({fetchPromise:t.fetch(),requestType:m.vO.Refresh,fetchingState:{refreshingPage:!0},fetchedState:{refreshingPage:!1,loadingNextPage:!1}}):Promise.resolve())})),s()(this,"endpointApiRequestAvailable",(e=>!!e)),s()(this,"fetchInitialPage",(()=>this.endpointApiRequestAvailable(this.props.endpointApiRequest)?this.handleContentFetch({fetchPromise:this.props.endpointApiRequest.fetch(),requestType:m.vO.Initial,fetchingState:{objects:[],loadingNextPage:!0},fetchedState:{hasFetchedInitialPage:!0,loadingNextPage:!1}}):Promise.resolve())),s()(this,"transformObjects",(e=>{var t=window.scrollY;this.setState((t=>({objects:e(t.objects)})),(()=>{this.props.lockScrollOnObjectUpdate&&window.scrollTo({top:t})}))})),s()(this,"cancelInProgressFetchIfNecessary",(()=>{this.fetchInProgress&&(this.fetchInProgress.cancel(),this.fetchInProgress=null)})),s()(this,"getScrollableContainer",(()=>this.props.scrollContainer||window))}componentDidMount(){return this.state.hasFetchedInitialPage?Promise.resolve():this.fetchInitialPage()}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}componentDidUpdate(e){this.didChangeEndpoint(e)&&(this.cancelInProgressFetchIfNecessary(),this.setState(this.getEmptyInitialState(),(()=>this.fetchInitialPage())))}render(){var e=this.props,t=e.initialLoader,n=e.loader,a=e.scrollContainer,o=void 0===a?(0,v.Z)():a,r=e.emptyView,s=e.errorView,i=e.pullToRefresh,c=e.debug,d=e.isObjectOmittedFromRender,u=e.direction,h=this.state,g=h.objects,b=h.apiRequestFailed,f=this.getObjectsToRender(d,g),E=this.props.children,C=u===m.cU.Top,y=this.shouldRenderMainLoader()?t||n:b?s:l()(f)&&r;return p.createElement(p.Fragment,null,i&&p.createElement(T,{refresh:this.refresh,scrollContainer:o,debug:c}),C&&y,null==E?void 0:E({objects:f,refresh:this.refresh,transformObjects:this.transformObjects}),!C&&y)}getEmptyInitialState(){return{objects:[],hasFetchedInitialPage:!1,refreshingPage:!1,loadingNextPage:!1,apiRequestFailed:!1,nextLink:null}}didChangeEndpoint(e){var t=this.props.endpointApiRequest;return e.endpointApiRequest?!e.endpointApiRequest.isEqualTo(t):!!t}onPagination(e){var t,n;null===(t=(n=this.props).onPagination)||void 0===t||t.call(n,e)}getFetchNextPageRequest(e){return new h.x(this.props.appContext.apiFetch,null==e?void 0:e.href)}handleContentFetch(e){var t=e.fetchPromise,n=e.requestType,a=e.fetchingState,r=e.fetchedState,s=e.getObjectsFromResponse,i=void 0===s?this.props.getObjectsFromResponse:s;this.cancelInProgressFetchIfNecessary(),this.preHandleContentFetch(n);var l=this.props,c=l.getNextLink,d=l.scrollContainer,u=void 0===d?(0,v.Z)():d,p=l.direction,h=l.appContext.getBrowserInfo;return new Promise((e=>{this.setState(o()({},a),(()=>{this.fetchInProgress=(0,b.Z)(t),this.fetchInProgress.then((t=>{var a=(0,g.wQ)(h())&&p===m.cU.Top&&n!==m.vO.Initial&&!!u,s=a&&(0,m.Re)(u)&&u.getAttribute("style")||m.rF;a&&(0,m.Re)(u)&&u.setAttribute("style","".concat(s,"; overflow-y: hidden"));var l=i(t),d=null==c?void 0:c(t);this.onPagination({objects:l,nextLink:d,response:t,requestType:n}),this.setState(o()(o()({},r),{},{objects:l,nextLink:d}),(()=>{this.fetchInProgress=null,a&&(0,m.Re)(u)&&u.setAttribute("style",s),e()}))})).catch((t=>{var a=this.props.onPaginationError;this.setState(o()(o()({},r),{},{apiRequestFailed:Date.now()}),(()=>{a&&a({error:t,requestType:n}),e()}))}))}))}))}}s()(N,"defaultProps",x)},36371:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>O});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(44716),d=n.n(c),u=n(95004),p=n(81059),m=n(24988),h=n(97187),g=n(49835),v=n(3161),b=n(51742),f=n(90553),E=n(29252),C=n(62513),y=n.n(C),w=n(94966),k=n.n(w),P=n(52995);const S="m3lOJ",T="PY8Tb",x="B5txQ",N="jIdvc",I="Xp6EK";var R={width:13,height:13},M={href:"DON'T FETCH ME! OH GUY, PLEASE DON'T FETCH ME!"},A={prevNextLinks:[],linkForCurrentPage:M};class B extends P.Z{constructor(){super(...arguments),l()(this,"addObjectsToExisting",this.props.concatenate?e=>{var t=this.state.objects,n=this.props,a=n.direction,o=n.getObjectsFromResponse;return a===v.cU.Top?o(e).concat(t):t.concat(o(e))}:this.props.getObjectsFromResponse),l()(this,"shouldRenderMainLoader",(()=>{var e=this.state,t=e.hasFetchedInitialPage,n=e.loadingNextPage;return!t||n})),l()(this,"preHandleContentFetch",(e=>{var t=this.props.updateUrlFromCurrentPageLink,n=this.state.linkForCurrentPage;switch(e){case v.vO.Initial:return;case v.vO.Refresh:return void(null==t||t());case v.vO.Pagination:return void(null==t||t(null==n?void 0:n.href))}})),l()(this,"getHotkeyCommands",(()=>{var e=this.state,t=e.prevNextLinks,n=e.nextLink,a=[];return 0!==t.length&&a.push({key:m.SV.Left,command:this.onClickPrevious}),n&&a.push({key:m.SV.Right,command:this.onClickNext}),a})),l()(this,"renderPaginationButtons",(e=>{var t=this.state,n=t.prevNextLinks,a=t.nextLink,o=this.props,r=o.prevButtonIsRefresh,i=o.manualPaginatorButtonCss,l=(i=void 0===i?{}:i).containerClassName,c=i.prevButtonStyle,d=i.nextButtonStyle,g=o.appContext._c,v=o.nextButton,f=o.concatenate,E=g("The label for a button to return to the previous page of results","Previous"),C=g("The label for a button to refresh the contents of a set of posts to show the newest content in it","Latest"),w=g("The label for a button to go to the next page of results","Next"),k=!!n.length,P=k?this.onClickPrevious:this.refresh,M=k?E:C,A=k?{color:y().paletteWhite,background:y().paletteTransparentWhite65}:{color:y().paletteTransparentWhite87,background:"transparent",border:"2px solid ".concat(y().paletteTransparentWhite87)},B=!f&&k||r,Z=!!a;return B||Z?u.createElement("div",{ref:this.setButtonContainerRef,className:(0,b.Z)([S,l&&l])},u.createElement(m.ZP,{hotkey:this.getHotkeyCommands()}),B&&u.createElement(p.Z,{label:E,wrapperClassName:(0,b.Z)([T,N]),wrapperStyle:s()(s()({},A),c),className:I,onClick:P},u.createElement(h.sz,{size:R,fill:(null==c?void 0:c.color)||A.color}),M),Z&&(v?u.cloneElement(v,{label:w,onClick:this.onClickNext}):u.createElement(p.Z,{label:w,wrapperClassName:(0,b.Z)([T,x]),wrapperStyle:s()({color:y().paletteWhite,background:y().paletteAccent},this.getNextButtonStyle(e)),className:I,onClick:this.onClickNext},w,u.createElement(h.iL,{size:R,fill:d&&d.color||y().paletteWhite})))):null})),l()(this,"onClickPrevious",(()=>{var e=this.state,t=e.prevNextLinks,n=e.firstPageInfo,a=e.linkForCurrentPage,o=this.props.updateUrlFromCurrentPageLink,r=t.pop();if(!this.canFetchNextPage(r))return Promise.resolve();if(r===M&&n){var i=n.endpointApiRequest,l=n.objects;return this.nextPageApiRequest=i,null==o||o(i.getSearchParams(),!0),this.setState(s()(s()({},A),{},{objects:l,nextLink:a}),this.scrollToBottom),Promise.resolve()}return this.scrollToTop(),new Promise((e=>{this.setState({prevNextLinks:t,objects:[],linkForCurrentPage:r},e)})).then((()=>this.fetchNextPage(r))).then((()=>this.scrollToBottom()))})),l()(this,"onClickNext",(()=>{var e=this.state,t=e.prevNextLinks,n=e.linkForCurrentPage,a=e.nextLink,o=e.objects,r=this.props,i=r.endpointApiRequest,l=r.concatenate;return this.canFetchNextPage(a)&&i?(l||this.scrollToTop(),new Promise((e=>{this.setState(s()({objects:l?this.state.objects:[],prevNextLinks:[...t,n],linkForCurrentPage:a},n===M&&{firstPageInfo:{objects:o,endpointApiRequest:i}}),e)})).then((()=>this.fetchNextPage()))):Promise.resolve()})),l()(this,"setButtonContainerRef",(e=>this.setState({buttonsContainerRef:e}))),l()(this,"getNextButtonStyle",(e=>{var t=this.props,n=t.manualPaginatorButtonCss,a=(n=void 0===n?{}:n).doNotAccountForLowerRightContent,o=n.nextButtonStyle,r=t.messagingContext.offsetToAvoidLowerRightContentPx;if(a)return o;var i=this.state.buttonsContainerRef,l=i&&e?e-i.getBoundingClientRect().right:0;return s()(s()({},o),{},{transform:"translateX(-".concat(l<r?r-l+k().lowerRightContentEdgeMarginPx:0,"px)")})}))}render(){var e=this.props.manualPaginatorButtonCss,t=(e=void 0===e?{}:e).doNotAccountForLowerRightContent;return u.createElement(u.Fragment,null,super.render(),!this.shouldRenderMainLoader()&&(t?this.renderPaginationButtons():u.createElement(g.U$,null,(e=>{var t=e.bodyWidth;return this.renderPaginationButtons(t)}))))}getEmptyInitialState(){var e,t,n,a=null===(e=(t=this.props).getInitialPage)||void 0===e||null===(n=e.call(t))||void 0===n?void 0:n.prevLink;return s()(s()(s()({},super.getEmptyInitialState()),A),a&&{prevNextLinks:[a]})}didChangeEndpoint(e){var t,n=super.didChangeEndpoint(e)&&(!this.nextPageApiRequest||!(null!==(t=this.props.endpointApiRequest)&&void 0!==t&&t.isEqualTo(this.nextPageApiRequest)));return n&&(this.nextPageApiRequest=null),n}getFetchNextPageRequest(e){return this.nextPageApiRequest=super.getFetchNextPageRequest(e),this.nextPageApiRequest}onPagination(e){super.onPagination(e);var t=e.requestType,n=e.response,a=this.props.getPrevLink,o=null==a?void 0:a(n);this.setState((e=>s()(s()({},d()([v.vO.Initial,v.vO.Refresh],t)?A:e),!!o&&{prevNextLinks:[o]})))}}l()(B,"defaultProps",s()({},P.c));var Z=(0,f.CN)(B,{appContext:!0,messagingContext:!0});(0,E.D)(Z,"Inner".concat(Z.name));class L extends u.Component{render(){return u.createElement(Z,o()({},this.props,{ref:this.props.forwardedRef}))}}const O=L},10214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(92969),o=n.n(a),r=n(46118),s=n.n(r),i=n(95004),l=n(3161),c=n(68711);class d extends i.PureComponent{constructor(){super(...arguments),o()(this,"checkContainedScroll",s()((()=>{var e=this.props.scrollContainer;!this.willUnmount&&(0,l.Re)(e)&&this.checkScroll({distanceFromTop:e.scrollTop,distanceFromBottom:e.scrollHeight-e.clientHeight-e.scrollTop,distanceFromRight:e.scrollWidth-e.scrollLeft-e.clientWidth})}),c.ZQ)),o()(this,"forceCheckScroll",(()=>{(0,l.Re)(this.props.scrollContainer)?this.checkContainedScroll():this.checkScroll(c.ZP.getInfo())})),o()(this,"checkScroll",(e=>{var t,n=e.distanceFromBottom,a=e.distanceFromTop,o=e.distanceFromRight,r=this.props,s=r.direction,i=r.edgeDistance,c=r.onScrollToEdge;switch(s){case l.cU.Top:t=a;break;case l.cU.Bottom:t=n;break;case l.cU.Right:t=o}void 0!==i&&void 0!==t&&i>=t&&c()})),o()(this,"updateScrollTop",(e=>{var t=(0,l.Re)(this.props.scrollContainer)?this.props.scrollContainer:document.body,n=e.lastScrollHeight,a=e.lastClientHeight,o=e.lastScrollTop,r=t.scrollTop+t.scrollHeight-n;a!==t.clientHeight&&(r+=a-t.clientHeight);var s=o-t.scrollTop;s&&(r+=s),r!==t.scrollTop&&(t.scrollTop=r)}))}componentDidMount(){this.attachEventListeners(),this.forceCheckScroll()}componentWillUnmount(){this.willUnmount=!0,this.removeEventListeners()}getSnapshotBeforeUpdate(e){var t=this.props.direction,n=e.scrollContainer;if(t!==l.cU.Top)return null;var a=(0,l.Re)(n)?n:document.body;return{lastScrollHeight:a.scrollHeight,lastClientHeight:a.clientHeight,lastScrollTop:a.scrollTop}}componentDidUpdate(e,t,n){(0,l.Re)(this.props.scrollContainer)&&e.scrollContainer!==this.props.scrollContainer&&(this.removeEventListeners(e),this.attachEventListeners()),n&&this.updateScrollTop(n),this.forceCheckScroll()}render(){return this.props.children}attachEventListeners(){(0,l.Re)(this.props.scrollContainer)?this.props.scrollContainer.addEventListener("scroll",this.checkContainedScroll,!1):c.ZP.on("scroll",this.checkScroll)}removeEventListeners(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;(0,l.Re)(e.scrollContainer)&&e.scrollContainer.removeEventListener("scroll",this.checkContainedScroll,!1),c.ZP.off("scroll",this.checkScroll)}}},55157:(e,t,n)=>{"use strict";n.d(t,{r2:()=>u,zp:()=>m,ZP:()=>h});var a=n(95004),o=n(23847),r=n(28155),s=n(57431),i=n(62513),l=n.n(i),c=n(33836),d=n.n(c),u="palette",p=e=>(0,r.$W)(e).join(", "),m={trueBlue:{black:p(l().black),white:p(l().white),"white-on-dark":p(l().white),bg:p(l().segwayNavy),red:p(l().rokrRed),orange:p(l().betamaxOrange),yellow:p(l().tivoYellow),green:p(l().glassGreen),blue:p(l().dreamcastBlue),purple:p(l().zunePurple),pink:p(l().sidekickPink),accent:p(l().dreamcastBlue),"secondary-accent":p(l().accent),follow:p(l().follow),font:d().sansSerif},darkMode:{black:p(l().white),white:"34, 34, 34","white-on-dark":p(l().white),bg:p(l().black),red:p(l().rokrRed),orange:p(l().betamaxOrange),yellow:p(l().tivoYellow),green:p(l().glassGreen),blue:p(l().dreamcastBlue),purple:p(l().zunePurple),pink:p(l().sidekickPink),accent:p(l().dreamcastBlue),"secondary-accent":"57, 57, 57",follow:"36, 54, 62",font:d().sansSerif},cement:{black:p(l().black),white:"233, 233, 233","white-on-dark":p(l().black),bg:"247, 247, 247",red:p(l().rokrRed),orange:p(l().betamaxOrange),yellow:p(l().tivoYellow),green:p(l().glassGreen),blue:p(l().dreamcastBlue),purple:p(l().zunePurple),pink:p(l().sidekickPink),accent:p(l().black),"secondary-accent":"221, 221, 221",follow:"209, 227, 235",font:d().sansSerif},lowContrastClassic:{black:"191, 191, 191",white:"54, 70, 93","white-on-dark":"191, 191, 191",bg:"26, 39, 53",red:p("#d95e40"),orange:p("#f2992e"),yellow:p("#f7dd38"),green:p("#56bc8a"),blue:p("#529ecc"),purple:p("#a77dc2"),pink:p("#ef71c8"),accent:p("#529ecc"),"secondary-accent":"71, 87, 109",follow:"43, 76, 104",font:d().sansSerif},cybernetic:{black:"103, 255, 56",white:"34, 34, 34","white-on-dark":"0, 207, 53",bg:p(l().black),red:"103, 255, 56",orange:"103, 255, 56",yellow:"103, 255, 56",green:"103, 255, 56",blue:"103, 255, 56",purple:"103, 255, 56",pink:"103, 255, 56",accent:"103, 255, 56","secondary-accent":"20, 96, 26",follow:"20, 96, 26",font:d().sansSerif},canary:{black:p(l().black),white:"250, 250, 200","white-on-dark":p(l().black),bg:"255, 255, 232",red:p(l().rokrRed),orange:p(l().betamaxOrange),yellow:p(l().tivoYellow),green:p(l().glassGreen),blue:p(l().dreamcastBlue),purple:p(l().zunePurple),pink:p(l().sidekickPink),accent:p(l().black),"secondary-accent":"240, 240, 192",follow:"224, 242, 205",font:d().sansSerif},ghost:{black:"100, 100, 100",white:p(l().white),"white-on-dark":p(l().black),bg:p(l().white),red:p(l().rokrRed),orange:p(l().betamaxOrange),yellow:p(l().tivoYellow),green:p(l().glassGreen),blue:p(l().dreamcastBlue),purple:p(l().zunePurple),pink:p(l().sidekickPink),accent:p(l().zunePurple),"secondary-accent":p(l().rokrRed),follow:p(l().gray25),font:d().sansSerif},vampire:{black:p(l().white),white:"34, 34, 34","white-on-dark":p(l().white),bg:p(l().black),red:p("#888888"),orange:"157, 157, 157",yellow:"202, 202, 202",green:"127, 127, 127",blue:"136, 136, 136",purple:"119, 119, 119",pink:"156, 156, 156",accent:p(l().rokrRed),"secondary-accent":"56, 56, 56",follow:p("#888888"),font:'"Palatino Linotype", "Book Antiqua", Palatino, serif'},pumpkin:{black:"255, 100, 0",white:"34, 16, 0","white-on-dark":"255, 100, 0",bg:p(l().black),red:p(l().betamaxOrange),orange:p(l().betamaxOrange),yellow:p(l().betamaxOrange),green:p(l().betamaxOrange),blue:p(l().betamaxOrange),purple:p(l().betamaxOrange),pink:p(l().betamaxOrange),accent:p(l().zunePurple),"secondary-accent":"64, 24, 15",follow:"21, 36, 23",font:d().serif},nuclearWhite:{black:p(l().black),white:p(l().white),"white-on-dark":p(l().black),bg:p(l().white),red:p(l().black),orange:p(l().black),yellow:p(l().black),green:p(l().black),blue:p(l().black),purple:p(l().black),pink:p(l().black),accent:"150, 150, 150","secondary-accent":p(l().gray25),follow:p(l().gray25),font:d().sansSerif},gothRave:{black:p("#9e78e5"),white:"12, 12, 12","white-on-dark":p("#77c9e6"),bg:p(l().black),accent:p("#cf43ed"),"secondary-accent":p("#2d1b39"),follow:p("#061d4a"),red:p("#df000d"),orange:"255, 86, 0",yellow:"170, 255, 0",green:p("#24d823"),blue:p("#0c79f9"),purple:"179, 2, 255",pink:"255, 0, 144",font:d().sansSerif},pride:{black:"117, 8, 135",white:"255, 255, 255","white-on-dark":"254, 237, 6",bg:"255, 91, 181",red:p("#e10011"),orange:"255, 139, 3",yellow:"254, 237, 6",green:p("#12802c"),blue:p("#0058fc"),purple:"117, 8, 135",pink:"255, 0, 144",accent:"2, 77, 255","secondary-accent":"255, 251, 205",follow:"255, 251, 205",font:d().sansSerif}};const h=e=>{var t=e.chosenPalette,n=":root {\n    --black: ".concat(m[t].black,";\n    --white: ").concat(m[t].white,";\n    --white-on-dark: ").concat(m[t]["white-on-dark"],";\n    --navy: ").concat(m[t].bg,";\n    --red: ").concat(m[t].red,";\n    --orange: ").concat(m[t].orange,";\n    --yellow: ").concat(m[t].yellow,";\n    --green: ").concat(m[t].green,";\n    --blue: ").concat(m[t].blue,";\n    --purple: ").concat(m[t].purple,";\n    --pink: ").concat(m[t].pink,";\n\n    --accent: ").concat(m[t].accent,";\n    --secondary-accent: ").concat(m[t]["secondary-accent"],";\n    --follow: ").concat(m[t].follow,";\n\n    --color-title: rgb(var(--white-on-dark));\n    --color-text: rgb(var(--white-on-dark));\n    --color-subtext: rgb(var(--white-on-dark));\n    --color-primary-link: rgb(var(--accent));\n    --color-bluespace-background: rgb(var(--navy));\n    --color-bluespace-card-background: rgba(var(--white-on-dark), 0.07);\n\n    --font-family: ").concat(m[t].font,";\n\n    --border-radius-small: ").concat(s.borderRadiusForSmallElements,"px;\n  }");return a.createElement(a.Fragment,null,a.createElement(o.h_,{name:"theme-color",content:"rgb(".concat(m[t].bg,")")}),a.createElement("style",{dangerouslySetInnerHTML:{__html:n}}))}},30716:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>_});var a=n(27884),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(45849),d=n.n(c),u=n(19195),p=n.n(u),m=n(95004),h=n(81059),g=n(24988),v=n(31107),b=n(4596),f=n(87234),E=n(2978),C=n(47740),y=n(36643),w=n(51742),k=n(2540),P=n(90553),S=n(97824),T=n(4059);const x="WyhxW",N="KpwWL",I="YwPDu",R="uDqVW",M="Zk7Al",A="Kv4G7",B="CHRC5",Z="l5XPu";var L=(0,g.A4)([g.SV.Enter,g.SV.Escape,g.SV.Up,g.SV.Down,g.SV.Slash]),O=null;class D extends m.Component{constructor(){var e;super(...arguments),e=this,l()(this,"state",s()(s()({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{searchInputText:e,isOpenPopover:""===e,inputHasFocus:!0,lastHandledSearchTextFromURL:"",selectedTagIndex:O,topTags:[]}}(this.props.match.params.peeprSearchTerm)),{},{topTags:[]})),l()(this,"inputRef",(0,m.createRef)()),l()(this,"popularTagRefs",[]),l()(this,"apiHelper",(0,y.ZP)(this.props.appContext.apiFetch)),l()(this,"getSearchInputText",(()=>this.state.searchInputText)),l()(this,"clearSearchInputText",(()=>this.setState({searchInputText:""}))),l()(this,"getInputView",(()=>{var e=this.props,t=e.fill,n=e.isOpen,a=this.state.searchInputText,o=this.props.appContext._t;return m.createElement("input",{ref:this.inputRef,style:{color:t},className:(0,w.Z)({[N]:!0,[I]:!n}),type:"text",value:a,placeholder:o("Search"),autoComplete:"off",autoFocus:!0,"aria-label":o("Search"),onKeyDown:this.handleKeyDown,onChange:this.handleTextChange,onFocus:this.onFocus,onBlur:this.onBlur})})),l()(this,"onBlur",(()=>this.setState({inputHasFocus:!1},this.props.onBlur))),l()(this,"getSearchTextFromURL",(()=>{var e,t=this.props.appContext.features.tagUrlCleanup;return null!==(e=this.props.match)&&void 0!==e&&e.params.peeprSearchTerm?(0,T.yt)(this.props.match.params.peeprSearchTerm,t):""})),l()(this,"onToggle",(e=>this.setState({isOpenPopover:!!e}))),l()(this,"closePopover",(()=>this.setState({isOpenPopover:!1}))),l()(this,"onPeeprSearchBlur",function(){var t=o()(p().mark((function t(n){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.Z)(n);case 2:t.sent||e.closePopover();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l()(this,"onFocus",(()=>{var e=this.props.appContext.logEvent;this.onToggle(!0),this.setState({inputHasFocus:!0}),e({eventName:E.JE.PeeprSearchOpen})})),l()(this,"focusInput",(()=>{this.state.selectedTagIndex!==O&&this.setState({selectedTagIndex:O}),this.inputRef.current&&this.inputRef.current.focus()})),l()(this,"getTags",(()=>this.apiHelper.getBlogTopTags(this.props.blogName).fetch((e=>{var t=e.response.blog.topTags;return(null==t?void 0:t.length)&&this.setState({topTags:t})})))),l()(this,"handleKeyDown",(e=>{e.key===g.SV.Enter&&""!==this.state.searchInputText&&this.props.onTextUpdated()})),l()(this,"getFilteredTags",(()=>this.state.topTags.filter((e=>!!e.tag&&-1!==e.tag.toLowerCase().indexOf(this.state.searchInputText.toLowerCase()))).slice(0,20))),l()(this,"renderPopularTagPopover",(e=>{var t=this.state.selectedTagIndex,n=this.props.appContext._t;return m.createElement("div",{className:M},m.createElement(g.ZP,{hotkey:[{key:g.SV.Down,command:this.onDownPress},{key:g.SV.Up,command:this.onUpPress}]}),m.createElement("div",{className:A},n("Popular Tags")),e.map(((e,n)=>{var a=(0,m.createRef)();return this.popularTagRefs[n]=a,m.createElement(h.Z,{key:e.tag,forwardedRef:a,label:"label",wrapperClassName:(0,w.Z)({[B]:!0,[Z]:n===t}),onClick:this.onClickTag,onFocus:this.onFocusTag,value:e.tag},"#",e.tag)})))})),l()(this,"focusPopularTagByIndex",(e=>{var t,n;null!==e&&(null===(t=this.popularTagRefs[e])||void 0===t||null===(n=t.current)||void 0===n||n.focus())})),l()(this,"onArrowPress",(e=>{var t=this.state.selectedTagIndex,n=this.getFilteredTags();"number"!=typeof t?(e===g.SV.Up&&(t=n.length-1),e===g.SV.Down&&(t=0)):(e===g.SV.Up&&(t-=1),e===g.SV.Down&&(t+=1),(t<0||t>=n.length)&&(t=O)),this.setState({selectedTagIndex:t},(()=>{this.focusPopularTagByIndex(this.state.selectedTagIndex),this.state.selectedTagIndex===O&&this.focusInput()}))})),l()(this,"onDownPress",(()=>{this.onArrowPress(g.SV.Down)})),l()(this,"onUpPress",(()=>{this.onArrowPress(g.SV.Up)})),l()(this,"handleTextChange",(e=>{this.setState({isOpenPopover:!0});var t=e.target.value;t!==this.state.searchInputText&&this.setState({searchInputText:t},(()=>{var e,n;return null===(e=(n=this.props).onInputChange)||void 0===e?void 0:e.call(n,t)}))})),l()(this,"onClickTag",(e=>{var t=e.currentTarget.value;this.setState({searchInputText:t,isOpenPopover:!1},this.props.onTextUpdated)})),l()(this,"onFocusTag",(e=>{var t=e.currentTarget.value,n=this.getFilteredTags(),a=d()(n,(e=>e.tag===t)),o=-1===a?O:a;this.setState({selectedTagIndex:o})}))}componentDidUpdate(e,t){var n=this.props.isOpen,a=this.state.isOpenPopover;this.getSearchTextFromURL()!==this.state.lastHandledSearchTextFromURL&&this.handleSearchTextFromQueryParams(),n&&(!e.isOpen&&this.inputRef.current&&this.inputRef.current.focus(),this.state.topTags.length||this.getTags()),!a&&null!=t&&t.isOpenPopover&&this.setState({selectedTagIndex:O})}componentDidMount(){this.handleSearchTextFromQueryParams()}render(){var e=this.props,t=e.fill,n=e.size,a=e.isOpen,o=e.onClick,r=e.isTransitionedIn,i=e.className,l=this.state,c=l.topTags,d=l.isOpenPopover,u=l.inputHasFocus,p=this.props.appContext,E=p._t,y=p.features.redpopPeeprRedesign,k=this.getFilteredTags();return m.createElement("div",{className:(0,w.Z)(s()({[x]:!0},i&&{[i]:!0})),onBlur:this.onPeeprSearchBlur},a&&m.createElement(g.ZP,{hotkey:[{key:g.SV.Slash,modifiers:{[g.TE.Shift]:!0},command:this.focusInput}]}),a&&u&&m.createElement(g.ZP,{disable:L}),m.createElement(h.Z,{label:E(a?"Collapse search":"Search"),onClick:o,wrapperClassName:(0,w.Z)({[R]:y&&a})},a&&y?m.createElement(v.Z,{fill:t,size:{width:12,height:12}}):m.createElement(b.Z,{size:n,fill:t})),0===c.length&&a&&this.getInputView(),!!c.length&&m.createElement(f.ZP,{isOpen:r&&d&&!!k.length,toggle:this.onToggle,position:C.I2.BottomStart,width:170,height:"auto",maxHeight:200,usePortals:!1,useFlex:!0,skipClickToOpen:!0,skipClickToClose:!0,positionBasedOffsetModifiers:{[C.I2.Bottom]:{left:5,top:0}},component:this.renderPopularTagPopover(k)},this.getInputView()))}handleSearchTextFromQueryParams(){var e=this.getSearchTextFromURL();this.setState({searchInputText:e,lastHandledSearchTextFromURL:e,isOpenPopover:!1},this.props.onTextUpdated)}}var F=(0,k.tM)(D);const _=(0,P.Iy)(F)},46048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(95004),o=n(6957),r=n(57284),s=n(2978),i=n(51742),l=n(2540),c=n(62513),d=n.n(c);const u="wAOjP",p="JtZAJ";const m=e=>{var t=e.className,n=e.blogName,c=e.plan,m=e.useBlogColors,h=e.context,g=(0,l.bp)().logEvent,v=null==c?void 0:c.checkoutLabels.support,b=m?d().blogBackgroundColor:d().paletteAccent,f=m?d().blogContrastingLinkColor:d().paletteAccentTransparent15;return a.createElement("div",{className:(0,i.Z)([u,t])},a.createElement(o.ZP,{className:p,label:v,theme:o.tl.Default,size:o.jf.EntireWidth,textColor:b,backgroundColor:f,disabledBackgroundColor:f,disabledTheme:o.tl.Default,onClick:()=>{g({eventName:s.JE.PostpSupportTap,eventDetails:{source:h}})},href:(0,r.SS)({peeprBlogname:n},void 0,{isSupport:!0})},v))}},53680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(85313),o=n.n(a),r=n(95004),s=n(51742);const i="Rp8gp",l="xsZgg",c="Qj_pr";const d=e=>{var t=e.className,n=e.style,a=e.isThin,d=e.noHover,u=e.children;return r.createElement("span",{className:(0,s.Z)(o()({[i]:!0,[c]:a,[l]:d},t?{[t]:!0}:void 0)),style:n},u)}},87234:(e,t,n)=>{"use strict";n.d(t,{TL:()=>L,LW:()=>F,AF:()=>D,ZP:()=>H});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(17908),d=n.n(c),u=n(58665),p=n.n(u),m=n(95004),h=n(79153),g=n(47969),v=n(83292),b=n(88328),f=n(85787),E=n(24988),C=n(47740),y=n(51742),w=n(90553),k=n(67859);const P="ybmTG",S="ufrME",T="AzqQv",x="P4LH6",N="BPf9u",I="W9hfZ",R="Vcrhu",M="i8McQ",A="rCOyL",B="MXy8s",Z="G75qL";var L=m.createContext((()=>window)),O=["div","span"],D=10,F=m.createContext(void 0);class _ extends m.Component{constructor(e){super(e),l()(this,"baseContainerRef",(0,m.createRef)()),l()(this,"popperScheduleUpdate",p()),l()(this,"closeContainingPopover",(()=>{var e=this.props,t=e.toggle;e.isOpen&&(null==t||t())})),l()(this,"renderPopperContent",(()=>{var e=this.props,t=e.isOpen,n=e.transitionStyles,a=e.position,o=e.boundary,r=e.isFlipEnabled,i=e.noTransitions;return m.createElement(g.ZP,{placement:a,eventsEnabled:t,modifiers:{preventOverflow:{padding:2*D,boundariesElement:o,priority:["left","right","bottom","top"]},offset:{fn:this.popperOffsetFn},flip:{enabled:r},arrow:{fn:this.popperOffsetFn}}},(e=>{var a=e.ref,o=e.style,r=e.scheduleUpdate,l=e.arrowProps,c=e.placement;if(a&&!function(e){return null!==e&&!function(e){return null!==e&&"function"!=typeof e}(e)}(a))throw new Error("we only support ref handlers, not ref objects");return this.popperScheduleUpdate=r,i||!n?m.createElement("div",{"data-testid":"base-container-wrapper",style:{visibility:t?"visible":"hidden"}},this.renderContentFromPopperAndTransitionChildrenProps(a,o,f.cn,s()(s()({},l),{},{placement:c}))):m.createElement(f.ZP,{"data-testid":"base-container-transition-wrapper",in:t,timeout:n.transitionDurationMS,mountOnEnter:!0,nodeRef:this.baseContainerRef,unmountOnExit:!0,onExited:this.popoverContentOnExited},(e=>this.renderContentFromPopperAndTransitionChildrenProps(a,o,e,s()(s()({},l),{},{placement:c}))))}))})),l()(this,"renderContentFromPopperAndTransitionChildrenProps",((e,t,n,a)=>{var o=this.props,r=o.render,i=o.component,l=o.isChromeless,c=o.showOverflowY,d=o.width,u=o.height,p=o.maxWidth,h=o.maxHeight,g=o.toggle,v=o.usePortals,b=o.transitionStyles,f=o.popoverWrapperClassName,C=o.baseContainerClassName,w=o.hasArrow,k=o.arrowWrapperClassName,N=i||r&&r(),I=N&&(0,m.cloneElement)(N),R=(0,y.Z)(s()({[T]:!l,[x]:c},f?{[f]:!!f}:void 0)),M=null==b?void 0:b[n],A=(0,y.Z)(s()(s()({[P]:!0},M?{[M]:!!M}:void 0),{},{[S]:v},C?{[C]:!!C}:void 0));return m.createElement("div",{className:A,ref:this.baseContainerRef},m.createElement("div",{ref:t=>{this.updatePopperContentMutationObserver(t),null==e||e(t)},className:R,style:s()(s()({},t),{},{width:d,height:u,maxWidth:p,maxHeight:h})},!!g&&m.createElement(E.ZP,{hotkey:{key:E.SV.Escape,command:g}}),I,w&&m.createElement("div",{"data-testid":"tooltip-arrow",style:a.style,ref:a.ref,"data-placement":a.placement,className:(0,y.Z)(s()({[Z]:!0},k&&{[k]:!!k}))})))})),l()(this,"callPopperScheduleUpdate",(()=>this.popperScheduleUpdate())),l()(this,"popoverContentOnExited",(()=>this.updatePopperContentMutationObserver(null))),l()(this,"updatePopperContentMutationObserver",(e=>{this.popoverContentMutationObserver.disconnect(),e&&this.popoverContentMutationObserver.observe(e,{childList:!0,subtree:!0})})),l()(this,"popperOffsetFn",(e=>{var t,n;if(!e.offsets.popper)return e;var a,o,r,s,i=this.props.positionBasedOffsetModifiers,l=i&&(e.placement.includes(C.I2.Top)&&C.I2.Top||e.placement.includes(C.I2.Bottom)&&C.I2.Bottom||e.placement.includes(C.I2.Left)&&C.I2.Left||e.placement.includes(C.I2.Right)&&C.I2.Right);l&&(a=null==i||null===(r=i[l])||void 0===r?void 0:r.left,o=null==i||null===(s=i[l])||void 0===s?void 0:s.top);var c=null!==(t=o)&&void 0!==t?t:D,d=null!==(n=a)&&void 0!==n?n:0;return e.offsets.popper.top+=c,e.offsets.popper.left+=d,e})),l()(this,"handleOutsideEvent",(e=>{var t=e.target,n=this.props,a=n.toggle;n.isOpen&&this.popoverRef&&!this.popoverRef.contains(t)&&(null==a||a())})),l()(this,"getHoverActions",(()=>({onMouseEnter:()=>{clearTimeout(this.onMouseLeaveTimeout);var e=this.props,t=e.toggle,n=e.isOpen,a=e.onHoverEnterDelay;this.onMouseEnterTimeout=setTimeout((()=>!n&&(null==t?void 0:t())),a)},onMouseLeave:()=>{clearTimeout(this.onMouseEnterTimeout);var e=this.props,t=e.toggle,n=e.isOpen,a=e.onHoverExitDelay;this.onMouseLeaveTimeout=setTimeout((()=>n&&(null==t?void 0:t())),a)}}))),l()(this,"getClickActions",(()=>({tabIndex:this.props.tabIndex,onClick:e=>{var t,n,a,o;this.props.closeForAllExternalClicks||e.stopPropagation(),null===(t=(n=this.props).toggle)||void 0===t||t.call(n),null===(a=(o=this.props).onOpen)||void 0===a||a.call(o)}}))),l()(this,"isValidClickTarget",(e=>!!e&&("string"!=typeof e.type||-1===O.indexOf(e.type)))),this.popoverContentMutationObserver=new MutationObserver(this.callPopperScheduleUpdate)}componentDidMount(){this.setClickListeners()}componentDidUpdate(e){e.isOpen!==this.props.isOpen&&this.setClickListeners(),d()(e,this.props)||this.callPopperScheduleUpdate()}componentWillUnmount(){var e=this.baseElementGetter();e&&e.removeEventListener("click",this.handleOutsideEvent,!1),clearTimeout(this.onMouseEnterTimeout),clearTimeout(this.onMouseLeaveTimeout)}render(){var e,t=this.props,n=t.type,a=t.children,r=t.usePortals,s=t.useFlex,i=t.targetStyles,l=t.glassContext.glassContainerRef,c=t.targetWrapperDisplayInline,d=t.targetWrapperDisplayBlock,u=this.getActions(),p=u.wrapperActionProps,g=u.targetActionProps;if(n===C.Oj.Click&&!this.isValidClickTarget(a))throw new Error((e=a?a.type.toString():void 0,"Popover target must be button or anchor for keyboard navigation to work, but is instead: ".concat(e||"a falsy value")));var f=a?(0,m.cloneElement)(a,g):null;return m.createElement(L.Consumer,null,(e=>{this.baseElementGetter=e;var t=s?R:c?I:d?M:N;return m.createElement("span",o()({ref:e=>this.popoverRef=e},p,{className:t,style:i}),m.createElement(F.Provider,{value:{closeContainingPopover:this.closeContainingPopover}},m.createElement(v.ZP,null,m.createElement(b.Z,null,(e=>{var n=e.ref;return m.createElement("span",{ref:n,className:t},f)})),r&&l?(0,h.createPortal)(this.renderPopperContent(),l):this.renderPopperContent())))}))}setClickListeners(){if(!this.props.skipClickToClose){var e=this.baseElementGetter();e&&(this.props.type===C.Oj.Click&&this.props.isOpen?e.addEventListener("click",this.handleOutsideEvent,!1):e.removeEventListener("click",this.handleOutsideEvent,!1))}}getActions(){var e=this.props,t=e.type,n=e.skipClickToOpen;return{wrapperActionProps:t===C.Oj.Hover?this.getHoverActions():{},targetActionProps:t!==C.Oj.Click||n?{}:this.getClickActions()}}}l()(_,"defaultProps",{type:C.Oj.Click,onHoverEnterDelay:250,onHoverExitDelay:250,isOpen:!1,tabIndex:0,position:C.I2.Bottom,boundary:C.gc.Viewport,isChromeless:!1,isFlipEnabled:!0,usePortals:!1,useFlex:!1,transitionStyles:{[f.d0]:A,[f.Ix]:B,transitionDurationMS:k.popoverTransitionTimeMs},closeForAllExternalClicks:!1});const H=(0,w.X9)(_,{glassContext:!0})},75369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(87234);class c extends i.Component{constructor(){super(...arguments),s()(this,"state",{isOpen:!1}),s()(this,"toggle",(()=>this.setState((e=>({isOpen:!e.isOpen})))))}render(){return i.createElement(l.ZP,o()({isOpen:this.state.isOpen,toggle:this.toggle},this.props),this.props.children)}}},49725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(95004),o=n(2978),r=n(2540),s=n(74073),i=n(4777),l=n(68234),c=n(78315),d=n(52385),u=n(36643),p=n(92156),m=n(76230),h=n(12542),g=n(80261),v=e=>{var t=(0,d.uz)(e)&&!e.earnedId?{[d.PC.AdvertiserId]:e.advertiserId,[d.PC.CampaignId]:e.campaignId,[d.PC.CreativeId]:e.creativeId,[d.PC.AdGroupId]:e.adGroupId,[d.PC.AdId]:e.adId}:{};return(0,c.oh)({reblogKey:e.reblogKey,blogName:e.blogName,postId:e.id.toString()},(0,l.Z)(t))};const b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cancelOnUnmount",o=(0,i.k6)(),s=(0,r.bp)(),l=s.apiFetch,c=(0,p._)(),d=c.addOnCloseModalRouteHandler,b=(0,h.i)(),f=b.onReblogged,E=(0,m.uu)(),C=E.post.id,y=(0,a.useRef)(),w=(0,a.useRef)(),k=(0,a.useRef)(),P=e=>{var t;e.isModalSuccess&&(null==f||f(C)),null===(t=y.current)||void 0===t||t.call(y)},S=()=>{if(y.current=d(P),!w.current)return k.current=(0,g.Z)((0,u.ZP)(l).getPosts({postId:e,blogIdentifier:t}).fetch()),k.current.then((e=>{var t=e.response.posts[0];if(t){var n=v(t);w.current=n,o.push(n)}}));o.push(w.current)};return(0,a.useEffect)((()=>()=>{var e,t;(null===(e=y.current)||void 0===e||e.call(y),"cancelOnUnmount"===n)&&(null===(t=k.current)||void 0===t||t.cancel())}),[n]),S};const f=e=>{var t=e.blogName,n=e.disableNavigation,i=e.postId,l=e.unmountBehavior,c=e.noteType,d=(0,r.bp)()._t,u=b(i,t,l),p=(0,s.Z)();return a.createElement("button",{onClick:e=>{e.ctrlKey||e.metaKey||n||(c&&p(o.JE.PostActivityNoteClickReblog,{type:c}),u())}},d("Reblog"))}},34374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(95004),o=n(98568),r=n(64018);const s="q9Ryt",i="qos2S",l="rjayT";var c=a.createElement("div",{className:l},a.createElement(o.Ii,{size:{width:15,height:15}})),d=a.createElement("div",{className:i});const u=()=>a.createElement("div",{className:s},d,c,a.createElement("div",null,a.createElement(r.ZP,{comment:"The text for the 'teaser line' that separates the free content from the membership-only content"},"Teaser")),c,d)},63864:(e,t,n)=>{"use strict";n.d(t,{o5:()=>Ue,ZP:()=>We});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(3440),l=n(8561),c=n(95004),d=n(91085),u=n(32882),p=n(24988),m=n(15896),h=n(17908),g=n.n(h),v=n(81059),b=n(2838),f=n(53076),E=n(30287),C=n(9784),y=n(43107),w=n(66330),k=n(8931),P=n(2978),S=n(76155),T=n(51742),x=n(2540),N=n(62513),I=n.n(N),R=n(97187),M=n(87234),A=n(64018),B=n(47740);const Z="IAcuW",L="howwN",O="B1bEY",D="f0Nuo",F="mrP9B",_="LMDEw",H="eow17",U="yM4QO",z="iGjiZ",V="XQiFD",W="AJyrC",G="KWC5_";var q=n(41289),j=[{type:k.Qd.Unstyled,display:c.createElement("p",{className:z},c.createElement(A.ZP,null,"Regular")),label:c.createElement(A.ZP,null,"Regular"),eventName:P.JE.PFTextStyleParagraph},{type:S.lr.Heading2,display:c.createElement("h2",{className:(0,T.Z)([z,q.Z.blockSelector,V])},c.createElement(A.ZP,null,"Bigger")),label:c.createElement(A.ZP,null,"Bigger"),eventName:P.JE.PFTextStyleHeading2},{type:S.lr.Heading1,display:c.createElement("h1",{className:(0,T.Z)([z,W])},c.createElement(A.ZP,null,"Biggest")),label:c.createElement(A.ZP,null,"Biggest"),eventName:P.JE.PFTextStyleHeading1},{type:S.lr.Quote,display:c.createElement("p",{className:(0,T.Z)([z,q.Z.quote,q.Z.blockSelector])},c.createElement(A.ZP,null,"Quote")),label:c.createElement(A.ZP,null,"Quote"),eventName:P.JE.PFTextStyleQuote},{type:S.lr.Chat,display:c.createElement("p",{className:(0,T.Z)([z,q.Z.chat])},c.createElement(A.ZP,null,"Chat")),label:c.createElement(A.ZP,null,"Chat"),eventName:P.JE.PFTextStyleChat},{type:S.lr.Quirky,display:c.createElement("p",{className:(0,T.Z)([z,G,q.Z.quirky,q.Z.blockSelector])},c.createElement(A.ZP,null,"Lucille")),label:c.createElement(A.ZP,null,"Lucille"),eventName:P.JE.PFTextStyleQuirky},{type:S.lr.Indented,display:c.createElement("p",{className:z},c.createElement(A.ZP,null,"Indented")),label:c.createElement(A.ZP,null,"Indented"),eventName:P.JE.PFTextStyleIndented},{type:S.lr.UnorderedListItem,display:c.createElement("ul",{className:F},c.createElement("li",{className:z},c.createElement(A.ZP,null,"Bulleted list"))),label:c.createElement(A.ZP,null,"Bulleted list"),eventName:P.JE.PFTextStyleUnorderedList},{type:S.lr.OrderedListItem,display:c.createElement("ol",{className:F},c.createElement("li",{className:z},c.createElement(A.ZP,null,"Numbered list"))),label:c.createElement(A.ZP,null,"Numbered list"),eventName:P.JE.PFTextStyleOrderedList}],K=function(e){var t=e.onTypeChanged,n=e.selectedType,a=(0,x.bp)();return c.createElement("div",{className:H},j.map((e=>c.createElement("div",{key:e.type,className:(0,T.Z)([U,q.Z.textBlock])},c.createElement(v.Z,{label:e.type,onClick:o=>{o.preventDefault(),o.stopPropagation(),e.type!==n&&(t(e.type),a.logEvent({eventName:e.eventName}))},wrapperClassName:(0,T.Z)({[Z]:!0,[L]:e.type===n})},e.display)))))};const Q=function(e){var t,n,a=e.wrapperClassName,o=void 0===a?"":a,r=e.toggleOpen,s=e.onTypeChanged,i=e.selectedType,l=e.isOpen,d=e.title,u=i!==k.Qd.Unstyled;return c.createElement("span",{onMouseDown:e=>{e.preventDefault()},role:"button"},c.createElement(M.ZP,{isOpen:l,type:B.Oj.Click,position:B.I2.Top,component:c.createElement(K,{selectedType:i,onTypeChanged:s}),toggle:r,usePortals:!0,popoverWrapperClassName:_},c.createElement(v.Z,{wrapperClassName:o,label:i,title:d},c.createElement("span",{className:O},c.createElement("span",{className:(0,T.Z)({[D]:!0,[L]:u})},(t=i,(n=j.find((e=>e.type===t)))?n.label:null)),c.createElement(R.$S,{size:{width:11,height:11},fill:u?I().paletteAccent:I().paletteWhite})))))};var J=n(43893),Y=n.n(J),X=n(74748),$=n.n(X),ee=n(58445);const te="BSsyd",ne="ULZiE",ae="znZ1g",oe="IGu5k",re="kL75U";const se=e=>{var t=e.onCancel,n=e.onSuccess,a=e.initialValue,o=(0,x.bp)()._t,r=(0,c.useState)(a||""),s=Y()(r,2),i=s[0],l=s[1],d=(0,c.useState)(!1),u=Y()(d,2),m=u[0],h=u[1],g=(0,c.useState)(!1),b=Y()(g,2),f=b[0],E=b[1],C=c.useRef(),y=c.useCallback((e=>{C.current=e}),[]),w=(0,c.useMemo)((()=>o("Done")),[o]),k=(0,c.useCallback)((e=>{var t=$()(e.target.value),n=(0,ee.Z)(t);l(t),E(n),n&&t&&h(!0)}),[]),P=(0,c.useCallback)((()=>{i&&i!==a&&h(!0)}),[i,a]),S=(0,c.useCallback)((()=>{C.current&&(0,ee.Z)(C.current.value)?n(C.current.value):h(!0)}),[n]);return c.createElement("div",{className:te},c.createElement(p.ZP,{hotkey:[{key:p.SV.Escape,command:t},{key:p.SV.Enter,command:S}]}),c.createElement("div",{className:ne},c.createElement("input",{ref:y,className:(0,T.Z)({[ae]:!0,[oe]:m&&!f}),type:"url",autoFocus:!0,placeholder:"http://",value:i,onChange:k,onBlur:P}),!!i&&c.createElement(v.Z,{label:w,onClick:S,className:re},w)))};var ie=n(35155);const le="X_GKE",ce="gQkds",de="kuwg9",ue="qhgVi";class pe extends c.Component{constructor(){super(...arguments),s()(this,"state",{isShowingEditDialog:!1}),s()(this,"onUpdate",(e=>{this.toggleEditDialog(),this.props.onToggleTextAttributes({url:e})})),s()(this,"onRemove",(()=>this.props.onToggleTextAttributes({url:""}))),s()(this,"onOpen",(()=>window.open((0,ie.Z)(this.props.activeLink).toString(),"_blank","noreferrer,noopener"))),s()(this,"toggleEditDialog",(()=>this.setState((e=>({isShowingEditDialog:!e.isShowingEditDialog})))))}render(){var e=this.props.appContext._t;return this.state.isShowingEditDialog?c.createElement(se,{initialValue:this.props.activeLink,onSuccess:this.onUpdate,onCancel:this.toggleEditDialog}):c.createElement("div",{className:le},c.createElement("div",{className:ce},c.createElement(v.Z,{onClick:this.toggleEditDialog,className:(0,T.Z)([de,ue])},e("Edit")),c.createElement(v.Z,{onClick:this.onRemove,className:de},e("Remove")),c.createElement(v.Z,{onClick:this.onOpen,className:de},e("Open"))))}}const me=(0,x.HJ)(pe),he={container:"riYiV",hidden:"nmeR6",buttonContainer:"ktkKJ",blockTypeSelector:"CDnTE",roundButton:"m0zwb",button:"oaRyx",colorsContainer:"SO9WE",colorHandle:"f0zwA"};var ge={width:14,height:14},ve=[{label:k.bn.Black,colorValue:I().black,logValue:P.JE.PFTextBlack},{label:k.bn.Red,colorValue:I().rokrRed,logValue:P.JE.PFTextRed},{label:k.bn.Orange,colorValue:I().betamaxOrange,logValue:P.JE.PFTextOrange},{label:k.bn.Green,colorValue:I().glassGreen,logValue:P.JE.PFTextGreen},{label:k.bn.Blue,colorValue:I().dreamcastBlue,logValue:P.JE.PFTextBlue},{label:k.bn.Yellow,colorValue:I().tivoYellow,logValue:P.JE.PFTextYellow},{label:k.bn.Pink,colorValue:I().sidekickPink,logValue:P.JE.PFTextPink},{label:k.bn.Purple,colorValue:I().zunePurple,logValue:P.JE.PFTextPurple}].map((e=>({label:e.label,style:"".concat(k.d1).concat(e.colorValue),renderIcon:t=>((e,t)=>{var n=t?c.createElement(f.Z,{size:ge,fill:e===I().black?I().white:I().paletteWhite}):"";return c.createElement("div",{className:(0,T.Z)({[he.colorHandle]:!0,[he.active]:t}),style:{backgroundColor:e}},n)})(e.colorValue,!!t),isColor:!0,logValue:e.logValue,title:""}))),be=e=>e?I().paletteAccent:I().paletteWhite;class fe extends c.Component{constructor(){super(...arguments),s()(this,"state",{position:{top:0,left:0}}),s()(this,"containerRef",(0,c.createRef)()),s()(this,"labels",(()=>{var e=this.props.appContext._t;return{[k.K.BOLD]:e("Bold"),[k.K.ITALIC]:e("Italic"),[k.K.STRIKETHROUGH]:e("Strikethrough"),[k.bn.Red]:e("Red"),[k.bn.Orange]:e("Orange"),[k.bn.Yellow]:e("Yellow"),[k.bn.Green]:e("Green"),[k.bn.Blue]:e("Blue"),[k.bn.Black]:e("Black"),[k.bn.Pink]:e("Pink")}})()),s()(this,"renderPrimaryContent",(()=>{var e=this.props,t=e.activeLink,n=e.activeType,a=e.hasSpreadSelection,o=e.appContext._t,r=this.state.isTextTypeMenuOpen;return c.createElement(c.Fragment,null,c.createElement("span",{className:(0,T.Z)([he.buttonContainer,he.blockTypeSelector])},c.createElement(Q,{selectedType:n,onTypeChanged:this.onToggleType,toggleOpen:this.toggleTextTypeMenuOpen,isOpen:!!r,title:o("Select text style")})),this.renderStyleButtons(((e,t)=>{var n=[{label:k.K.STRIKETHROUGH,style:k.K.STRIKETHROUGH,title:t("Strikethrough"),renderIcon:e=>c.createElement(w.Z,{size:ge,fill:be(e)}),logValue:P.JE.PFTextStrike},{label:k.K4.SMALL,style:k.K4.SMALL,title:t("Small text"),renderIcon:e=>c.createElement(y.Z,{size:ge,fill:be(e)}),logValue:P.JE.PFTextSmall}];return e!==S.lr.Quirky&&n.push({label:k.K.BOLD,style:k.K.BOLD,title:t("Bold"),renderIcon:e=>c.createElement(b.Z,{size:ge,fill:be(e)}),logValue:P.JE.PFTextBold}),e!==S.lr.Quirky&&e!==S.lr.Quote&&n.push({label:k.K.ITALIC,style:k.K.ITALIC,title:t("Italic"),renderIcon:e=>c.createElement(E.Z,{size:ge,fill:be(e)}),logValue:P.JE.PFTextItalic}),n})(n,this.props.appContext._t)),c.createElement("span",{className:(0,T.Z)([he.buttonContainer,he.roundButton])},c.createElement(v.Z,{label:o("Link"),wrapperClassName:he.button,disabled:!a,onClick:t?this.removeLinkFromSelectedText:this.toggleLinkEntryOpen,title:o("Inline link")},c.createElement(C.Z,{size:ge,fill:t?I().paletteAccent:a?I().paletteWhite:I().paletteTransparentWhite65}))),c.createElement("span",{onMouseDown:this.toggleColorPickerOpen,role:"button",className:(0,T.Z)([he.buttonContainer,he.roundButton]),style:{background:this.getCurrentColor()}},c.createElement(v.Z,{label:o("Colors"),wrapperClassName:he.button,title:o("Text color")},c.createElement(f.Z,{size:ge,fill:this.getCurrentColor()===I().black?I().white:I().paletteWhite}))))})),s()(this,"onToggleLink",(e=>{this.logInlineLinkAction(),this.toggleLinkEntryOpen(),this.props.onToggleTextAttributes({url:e})})),s()(this,"removeLinkFromSelectedText",(()=>this.props.onToggleTextAttributes({url:""}))),s()(this,"onToggleType",(e=>{this.props.onToggleTextAttributes({textType:e}),this.setState({isTextTypeMenuOpen:!1})})),s()(this,"renderStyleButtons",(e=>{var t=this.props,n=t.activeStyles,a=t.onToggleTextAttributes,o=t.appContext.logEvent;return e.map((e=>{var t=e.renderIcon(n.indexOf(e.style)>-1);return c.createElement("span",{key:e.style,onMouseDown:t=>{t.preventDefault(),a({inlineStyle:e.style}),e.isColor&&this.toggleColorPickerOpen(),o({eventName:e.logValue})},role:"button",className:(0,T.Z)([he.buttonContainer,he.roundButton])},c.createElement(v.Z,{label:this.labels[e.style],wrapperClassName:he.button,title:e.title},t))}))})),s()(this,"updatePosition",(()=>{var e,t,n,a,o=this.props,r=o.aboveArea,s=o.containerOffset,i=this.state.position.top,l=(null===(e=this.containerRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.clientWidth)||0,c=(null===(n=this.containerRef)||void 0===n||null===(a=n.current)||void 0===a?void 0:a.clientHeight)||0,d=r.left-s.left+r.width/2-l/2;if(d<0)d=0;else{var u=s.width-l;d=d>u?u:d}var p=r.top+s.top-c;p<0&&(p=i),this.setState({position:{top:p,left:Math.floor(d)}})})),s()(this,"toggleLinkEntryOpen",(e=>{null==e||e.preventDefault(),this.setState((e=>({isLinkEntryOpen:!e.isLinkEntryOpen})))})),s()(this,"toggleColorPickerOpen",(e=>{null==e||e.preventDefault(),this.setState((e=>({isColorPickerOpen:!e.isColorPickerOpen})))})),s()(this,"toggleTextTypeMenuOpen",(e=>{null==e||e.preventDefault(),this.setState((e=>({isTextTypeMenuOpen:!e.isTextTypeMenuOpen})))})),s()(this,"closeSubMenus",(()=>this.setState({isColorPickerOpen:!1,isTextTypeMenuOpen:!1,isLinkEntryOpen:!1}))),s()(this,"logInlineLinkAction",(()=>this.props.appContext.logEvent({eventName:P.JE.PFInlineLink}))),s()(this,"getCurrentColor",(()=>{var e,t=this.props.activeStyles.find((e=>e.startsWith(k.d1)));return null!==(e=null==t?void 0:t.substring(k.d1.length))&&void 0!==e?e:I().paletteGray80}))}componentDidMount(){this.updatePosition()}componentDidUpdate(e){g()(e.aboveArea,this.props.aboveArea)&&g()(e.containerOffset,this.props.containerOffset)||this.updatePosition(),!1===e.shouldHide&&!0===this.props.shouldHide&&this.closeSubMenus()}render(){var e=this.props,t=e.isMobile,n=e.shouldHide,a=e.onToggleTextAttributes,o=e.activeLink,r=e.hasSpreadSelection,s=this.state,i=s.position,l=s.isColorPickerOpen,d=s.isLinkEntryOpen;return c.createElement("div",{ref:this.containerRef,className:(0,T.Z)({[he.container]:!0,[he.hidden]:n}),style:i},c.createElement("div",{className:(0,T.Z)({[he.optionsContainer]:!0,[he.mobile]:t})},o&&!r?c.createElement(me,{activeLink:o,onToggleTextAttributes:a}):d?c.createElement(se,{onSuccess:this.onToggleLink,onCancel:this.toggleLinkEntryOpen}):this.renderPrimaryContent()),l&&c.createElement("div",{className:he.colorsContainer},this.renderStyleButtons(ve)))}}const Ee=(0,x.HJ)(fe);var Ce=n(33842),ye=n(69),we=n(90553),ke=n(59187),Pe=n(99144),Se=n(29039),Te=n(31376),xe=n(38462),Ne=n(71130),Ie=n(15535);const Re="GbKPz",Me="paB1B",Ae="pv_yA",Be="z1eEK",Ze="RZ5Ht",Le="tWTYc",Oe="jeAiB",De="ulWYu";const Fe=(0,we.X9)((e=>{var t=e.blockRowInsertionButtonHandlers,n=e.blockRowIndex,a=e.postFormContext,o=a.isAsk,r=a.isAnonymousAsk,s=e.appContext,i=s.logEvent,l=s._t,d=e.paragraphIndex,u=e.verticalOffset,p=(e.block,e.isVisible),m={width:20,height:20};return c.createElement("div",{contentEditable:!1,className:(0,T.Z)({[Be]:!0,[Ze]:p}),style:{top:u}},!r&&c.createElement(Ie.ZP,{fileTypes:[Ie.Dm.Image],wrapperClassName:Le,onChange:e=>null==t?void 0:t.onSelectedMediaDidChange(e,n,d),onClick:()=>i({eventName:P.JE.PFAddMedia}),multiple:!0,title:l("Add photo")},c.createElement(xe.Z,{size:m,fill:I().colorPhotoPost})),!o&&c.createElement(v.Z,{label:l("Add video"),title:l("Add video"),wrapperClassName:Le,onClick:()=>null==t?void 0:t.onVideoButtonClick(n,d)},c.createElement(Ne.Z,{size:m,fill:I().colorVideoPost})),!r&&c.createElement(v.Z,{label:l("Add GIF"),title:l("Add GIF"),wrapperClassName:Le,onClick:()=>{i({eventName:P.JE.PFGifSearch}),null==t||t.onGifButtonClick(n,d)}},c.createElement(ke.Z,{size:m,fill:I().paletteBlue})),!r&&c.createElement(v.Z,{label:l("Add audio"),title:l("Add audio"),wrapperClassName:Le,onClick:()=>null==t?void 0:t.onAudioButtonClick(n,d)},c.createElement(Se.Z,{size:m,fill:I().colorAudioPost})),!o&&c.createElement(v.Z,{label:l("Add link"),title:l("Add link"),wrapperClassName:Le,onClick:()=>null==t?void 0:t.onLinkButtonClick(n,d)},c.createElement(Te.Z,{size:m,fill:I().colorLinkPost})),!r&&c.createElement(v.Z,{label:l("Add read more"),title:l("Add read-more link"),wrapperClassName:Le,onClick:()=>null==t?void 0:t.onReadMoreClick(n,d)},c.createElement(Pe.Z,{size:m})))}),{appContext:!0,postFormContext:!0});var _e=n(43206);const He=e=>{var t=e.children,n=c.Children.map(t,((e,t)=>{var n=e.props.children.props.block,a=n.text.length,o=n.type===S.lr.Quote?(0,_e.v$)(a):"";return c.createElement("div",null,c.createElement("span",{className:o},e))}));return c.createElement("div",{className:q.Z.textBlock},n)};var Ue=(e,t)=>{var n=e.getCurrentContent().getBlockForKey(t).getText().indexOf(":");if(-1===n)return e;var a=new i.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:n});return i.RichUtils.toggleInlineStyle(i.EditorState.forceSelection(e,a),k.K.BOLD)};function ze(e){switch(e.getType()){case S.lr.Quote:return q.Z.quote;case S.lr.Chat:return q.Z.chat;case S.lr.Quirky:return q.Z.quirky;case S.lr.Indented:return q.Z.indented;case S.lr.UnorderedListItem:return Ae;case S.lr.OrderedListItem:return Me;default:return""}}class Ve extends c.Component{constructor(){super(...arguments),s()(this,"state",{hasFocus:!1,caretVerticalPosition:0,selectionArea:{top:0,left:0,width:0},shouldFocusOnRefresh:!1}),s()(this,"editorRef",(0,c.createRef)()),s()(this,"textBlockRef",(0,c.createRef)()),s()(this,"blockRenderMap",(0,l.Map)({[S.lr.Heading1]:{element:"h1",wrapper:c.createElement(He,null)},[S.lr.Heading2]:{element:"h2",wrapper:c.createElement(He,null)},[k.Qd.Unstyled]:{element:"p",wrapper:c.createElement(He,null)},[S.lr.Quote]:{element:"p",wrapper:c.createElement(He,null)},[S.lr.Chat]:{element:"p",wrapper:c.createElement(He,null)},[S.lr.Quirky]:{element:"p",wrapper:c.createElement(He,null)},[S.lr.Indented]:{element:"div",wrapper:c.createElement(He,null)},[S.lr.UnorderedListItem]:{element:"li",wrapper:c.createElement("ul",null)},[S.lr.OrderedListItem]:{element:"li",wrapper:c.createElement("ol",null)}})),s()(this,"isListeningToEditorRefresh",!1),s()(this,"getHotkeyCommands",(()=>{var e=this.props.postFormContext.hotkeyModifier;return[{key:p.SV.B,modifiers:{[e]:!0},command:this.activateBold},{key:p.SV.I,modifiers:{[e]:!0},command:this.activateItalics}]})),s()(this,"activateItalics",(()=>{this.onToggleTextAttributes({inlineStyle:k.K.ITALIC})})),s()(this,"activateBold",(()=>{this.onToggleTextAttributes({inlineStyle:k.K.BOLD})})),s()(this,"focusEditor",(()=>{var e;return null===(e=this.editorRef.current)||void 0===e?void 0:e.focus()})),s()(this,"isBlockInserterVisible",(()=>{var e=this.props,t=e.block,n=e.blockRowIndex,a=e.postFormContext,o=a.isMembersOnly,r=a.isMediaAbovePaywall,s=a.paywallBlockRowIndex,i=this.state.hasFocus,l=t.getEditorState(),c=l.getSelection().getAnchorKey(),d=l.getCurrentContent().getBlockForKey(c);return!(o&&r&&n<=s)&&(i&&(!d.getText()||""===d.getText())&&d.getType()===k.Qd.Unstyled)})),s()(this,"getCaretVerticalPosition",(()=>{var e=this.props.block.getEditorState().getSelection().getStartKey(),t='div[data-offset-key="'.concat(e,'-0-0"]'),n=document.querySelector(t);return n?n.offsetTop:0})),s()(this,"onToggleTextAttributes",(e=>{var t,n;return null===(t=(n=this.props).toggleTextAttributes)||void 0===t?void 0:t.call(n,e,this.props.blockRowIndex)})),s()(this,"onError",((e,t)=>this.props.toastContext.toggleToast(e,ye.p.Error,t))),s()(this,"onFocus",(()=>(this.isListeningToEditorRefresh||(this.isListeningToEditorRefresh=!0,window.addEventListener("editorrefresh",this.updateCaretPosition)),this.setState({hasFocus:!0})))),s()(this,"onBlur",(e=>{var t;return this.isListeningToEditorRefresh&&(this.isListeningToEditorRefresh=!1,window.removeEventListener("editorrefresh",this.updateCaretPosition)),!(null!==(t=e.currentTarget)&&void 0!==t&&t.contains(e.relatedTarget))&&this.setState({hasFocus:!1})})),s()(this,"updateCaretPosition",(()=>{this.setState({caretVerticalPosition:this.getCaretVerticalPosition()})})),s()(this,"shouldHideTextStylesBar",(()=>this.props.block.getEditorState().getSelection().isCollapsed()||!this.state.hasFocus)),s()(this,"updateSelectionRect",(()=>this.setState((e=>({selectionArea:(0,i.getVisibleSelectionRect)(window)||e.selectionArea}))))),s()(this,"renderTextStylesBar",(e=>{var t=this.props,n=t.block,a=t.containerOffset,o=this.state.selectionArea,r=n.getEditorState(),s=r.getSelection(),i=r.getCurrentInlineStyle().toJS(),l=r.getCurrentContent().getBlockForKey(s.getStartKey()).getType(),d=!s.isCollapsed(),p=(0,u.Sb)(r),m=p&&this.state.hasFocus&&n.getEditorState().getCurrentContent().getEntity(p).getType()===k.El.Link&&n.getEditorState().getCurrentContent().getEntity(p).getData().url,h=!m&&this.shouldHideTextStylesBar();return c.createElement(Ee,{activeStyles:i,activeType:l,activeLink:m,onToggleTextAttributes:this.onToggleTextAttributes,hasSpreadSelection:d,isMobile:e,aboveArea:o,containerOffset:a,shouldHide:h})})),s()(this,"alertTeaserMaxChars",(()=>{this.props.toastContext.toggleToast(this.props.appContext._t("Oops, the teaser should be 300 characters or less!"),ye.p.Error,"TooLargeTeaser")})),s()(this,"handlePastedText",((e,t)=>{var n=this.props,a=n.blockRowIndex,o=n.postFormContext,r=o.teaserTextLength,s=o.paywallBlockRowIndex,i=o.isMembersOnly,l=!t.getCurrentContent().getPlainText().replace(/\n|\s/g,"").length,c=(0,ee.Z)(e,!0);if(l&&c){var d={id:this.props.block.id,type:Ce.FL.LocalLink,url:e};return this.props.onChange(d),{isHandled:!0,nextEditorState:null}}if(c)return{isHandled:!0,nextEditorState:(0,u.vg)({editorState:t,textToAdd:e})};var p=(0,u.d5)(t);if(i&&s&&a<s&&e.length+r-p>m.mG){var h=m.mG-r+p;return this.alertTeaserMaxChars(),h?{isHandled:!0,nextEditorState:(0,u.jB)({editorState:t,textToAdd:e.substr(0,h),selection:t.getSelection()})}:{isHandled:!0,nextEditorState:t}}return{isHandled:!1}})),s()(this,"handleBeforeInput",((e,t)=>{var n=this.props,a=n.blockRowIndex,o=n.postFormContext,r=o.paywallBlockRowIndex,s=o.teaserTextLength,l=t.getCurrentContent(),c=t.getSelection(),d=c.getAnchorKey(),u=l.getBlockForKey(d),p=u.getType();if(r&&a<r&&s>=m.mG)return this.alertTeaserMaxChars(),{nextEditorState:t,isHandled:!0};if(p!==S.lr.Chat&&p!==S.lr.Quote)return{isHandled:!1};var h=i.Modifier.replaceText(l,c,e),g=i.EditorState.push(t,h,k.iQ.ReplaceText);if(p===S.lr.Chat&&e.indexOf(":")>-1){var v=!!u.getInlineStyleAt(0).toJS().filter((e=>e===k.K.BOLD)).length;if(!v){g=Ue(g,d);var b=c.getAnchorOffset()+e.length,f=new i.SelectionState({anchorKey:d,anchorOffset:b,focusKey:d,focusOffset:b});g=i.EditorState.forceSelection(g,f)}}return{nextEditorState:g,isHandled:!0}})),s()(this,"onEditorChange",(()=>{this.updateSelectionRect();var e=this.props,t=e.onChange,n=e.block;this.isBlockInserterVisible()&&this.setState({caretVerticalPosition:this.getCaretVerticalPosition()}),t(o()(o()({},n),this.getEditorMethods()))})),s()(this,"getEditorMethods",(()=>{var e;return null!==(e=this.editorRef.current)&&void 0!==e?e:this.getRefreshEditorMethods()})),s()(this,"getRefreshEditorMethods",(()=>(0,u.PX)(Ce.Cr,this.props.block.getEditorState().getCurrentContent()))),s()(this,"getSpecialPlaceholder",(()=>{var e=this.props,t=e.isOnlyRowInContent,n=e.block,a=e.postFormContext,o=a.isAsk,r=a.otherBlogName;if(t){var s=n.getEditorState(),i=s.getCurrentContent();if(!i.getPlainText().length){var l=i.getFirstBlock().getType(),d=l===S.lr.Quote,u=l===S.lr.Chat;if(o&&r)return c.createElement("div",{className:(0,T.Z)({[q.Z.textBlock]:!0,[Oe]:!0,[De]:s.getSelection().getHasFocus()})},c.createElement(A.ZP,{comment:"Placeholder for when the user is going to write a new Ask Post",params:{otherBlogName:r}},"Ask [otherBlogName] a question"));if(d||u)return c.createElement("div",{className:(0,T.Z)({[q.Z.textBlock]:!0,[Oe]:!0,[De]:s.getSelection().getHasFocus()})},d?c.createElement("p",{className:(0,T.Z)([q.Z.quote,q.Z.shortQuote])},c.createElement(A.ZP,{comment:"Placeholder for when the user is going to write a Quote Post"},"Your quote here")):c.createElement("div",{className:q.Z.chat},c.createElement(A.ZP,{comment:"Placeholder for when the user is going to write a Chat Post",components:{p:c.createElement("p",null),strong:c.createElement("strong",null)}},"[p][strong]Axl:[/strong] Welcome to the jungle.[/p] [p][strong]Customer:[/strong] We'd like a table for two, please.[/p] [p][strong]Axl:[/strong] Your table is right this way.[/p]")))}}return null}))}componentDidMount(){var e=this.props,t=e.isOnlyRowInContent,n=e.isLastRowInContent,a=e.isNewlyInsertedBlock;(n||t||a)&&setTimeout((()=>this.setState({shouldFocusOnRefresh:!0,caretVerticalPosition:this.getCaretVerticalPosition()})),0),this.onEditorChange()}componentDidUpdate(e){var t,n,a=e.isMobile,o=e.postFormContext.isReblog,r=this.state.shouldFocusOnRefresh;return!(a&&o||!r)&&(this.setState({shouldFocusOnRefresh:!1}),null===(t=this.textBlockRef.current)||void 0===t||t.scrollIntoView(),null===(n=this.editorRef.current)||void 0===n||n.focus(!0),!0)}componentWillUnmount(){this.isListeningToEditorRefresh&&(this.isListeningToEditorRefresh=!1,window.removeEventListener("editorrefresh",this.updateCaretPosition))}render(){var e=this.props,t=e.isMobile,n=e.block,a=e.isOnlyRowInContent,o=e.readOnly,r=e.addTextBlockAfterBlock,s=e.appContext._t,i=e.postFormContext,l=i.postIt,u=i.hotkeyModifier,m=this.state,h=m.hasFocus,g=m.caretVerticalPosition,v=n.getEditorState(),b=v.getCurrentContent(),f=this.getSpecialPlaceholder(),E=f||!a||[S.lr.OrderedListItem,S.lr.UnorderedListItem].indexOf(b.getFirstBlock().getType())>-1,C=v.getSelection().getAnchorKey(),y=b.getBlockForKey(C),w=b.getBlocksAsArray().indexOf(y);return c.createElement("div",{ref:this.textBlockRef,onBlur:this.onBlur},c.createElement("div",{className:Re,onClick:this.focusEditor,role:"button",key:"textBlock".concat(n.id),onFocus:this.onFocus},f,c.createElement(d.default,{ref:this.editorRef,editorKey:"draft".concat(n.id),compositeDecorators:Ce.Cr,placeholder:n.placeholder?n.placeholder:E||h&&t?"":s("Go ahead, put anything"),blockRenderMap:this.blockRenderMap,blockStyleFn:ze,onEditorChange:this.onEditorChange,initialContent:b,handlePastedText:this.handlePastedText,handleBeforeInput:this.handleBeforeInput,addTextBlockAfterBlock:r,submitForm:l,submitFormModifier:u,readOnly:o,onError:this.onError}),c.createElement(Fe,{blockRowInsertionButtonHandlers:this.props.blockRowInsertionButtonHandlers,blockRowIndex:this.props.blockRowIndex,paragraphIndex:w,block:n,verticalOffset:g,isVisible:this.isBlockInserterVisible()}),h&&c.createElement(p.ZP,{hotkey:this.getHotkeyCommands(),disableAllButMyHotkeys:!1})),this.renderTextStylesBar(t))}}const We=(0,we.X9)(Ve,{appContext:!0,postFormContext:!0,toastContext:!0})},58038:(e,t,n)=>{"use strict";n.d(t,{uM:()=>O,lZ:()=>D,CL:()=>_,gT:()=>H,J8:()=>U,v3:()=>G,do:()=>B,Ud:()=>z,Of:()=>Z});var a=n(63240),o=n.n(a),r=n(27884),s=n.n(r),i=n(85313),l=n.n(i),c=n(28579),d=n.n(c),u=n(19195),p=n.n(u),m=n(52699),h=n(33842),g=n(76155),v=n(24907),b=n(15896);const f={npfToEpfBlockRow:e=>{var t=e[0];return t&&(0,g._P)(t)?[{id:B.next(),type:h.FL.RemoteAudio,npfAudio:t}]:null},fileToEpf:(E=s()(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.type.match(/audio\/*/)){e.next=2;break}return e.abrupt("return",Promise.resolve(l()({file:t,id:B.next(),type:h.FL.LocalAudio,npfAudio:{type:g.kH.Audio,provider:g.nY.Tumblr,media:{url:URL.createObjectURL(t),type:t.type}}},z(t.size,b.Hl)&&{error:h._s.AudioExceedsFileSizeLimit})));case 2:return e.abrupt("return",Promise.resolve(null));case 3:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)}),epfToNpf:e=>(0,h.oS)(e)&&e.npfAudio?[e.npfAudio]:null,getEmptyEpfBlock:e=>e===h.FL.PlaceholderAudio?{type:e,id:B.next()}:null,hasContent:h.oS};var E,C=n(15529);const y={getEmptyEpfBlock:e=>e===h.FL.PlaceholderImage?{type:e,id:B.next()}:null,npfToEpfBlockRow:e=>{var t=e[0];return(0,g.RD)(t)?e.map((e=>({id:B.next(),npfMedia:e.media,type:h.FL.RemoteImage,attribution:e.attribution,altText:e.altText}))):null},fileToEpf:function(){var e=s()(p().mark((function e(t){var n,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.type.match(/image\/*/)){e.next=7;break}return e.next=3,(0,C.FI)(t);case 3:return n=e.sent,a={file:t,imageInfo:n,id:B.next(),type:h.FL.LocalImage},(0,C.du)(t)&&(a.error=h._s.ImageExceedsFileSizeLimit),e.abrupt("return",a);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),epfToNpf:e=>(0,h.o9)(e)?[{type:g.kH.Image,media:e.npfMedia,attribution:e.attribution,altText:e.altText}]:null,hasContent:h.o9},w={npfToEpfBlockRow:e=>{var t=e[0];return t&&(0,g.R0)(t)?[{id:B.next(),type:h.FL.RemoteLink,npfLink:t}]:null},epfToNpf:e=>{if((0,h.Hv)(e))return[e.npfLink];if((0,h.jh)(e)&&e.blogInfo){var t=e.blogInfo;return[{type:g.kH.Link,url:e.url,displayUrl:t.url,title:t.title,description:t.description,author:t.author,poster:t.poster,siteName:t.siteName}]}return null},hasContent:e=>(0,h.Hv)(e)||(0,h.jh)(e),getEmptyEpfBlock:e=>[h.FL.LocalLink,h.FL.PlaceholderLink].includes(e)?l()({type:e,id:B.next()},e===h.FL.LocalLink?{url:""}:{}):null},k={npfToEpfBlockRow:e=>(0,g.LX)(null==e?void 0:e[0])?[{type:h.FL.Paywall,id:B.next()}]:null,epfToNpf:e=>(0,h.U4)(e)?[{type:g.kH.Paywall,text:""}]:null,hasContent:h.U4},P={npfToEpfBlockRow:e=>(0,g.KM)(null==e?void 0:e[0])?[{type:h.FL.ReadMore,id:B.next()}]:null,epfToNpf:e=>(0,h.qj)(e)?[{type:g.kH.ReadMore}]:null,hasContent:()=>!1};var S=n(19640),T=n(3440),x=n(32882),N=n(8931);const I={npfToEpfBlockRow:e=>{if((0,g.yg)(e[0])){var t=e.filter(g.yg).map((e=>({inlineStyleRanges:[],entityRanges:[],type:N.Qd.Unstyled,text:e.text})));return[l()(l()({},(0,x.PX)(h.Cr,(0,T.convertFromRaw)({entityMap:{},blocks:t}))),{},{id:B.next(),type:h.FL.Title})]}return null},epfToNpf:e=>(0,h.dy)(e)?(0,T.convertToRaw)(e.getEditorState().getCurrentContent()).blocks.map((e=>({type:g.kH.Text,text:e.text,subtype:g.lr.Heading1}))):null,hasContent:e=>(0,h.dy)(e)&&e.getEditorState().getCurrentContent().hasText(),getEmptyEpfBlock:e=>e===h.FL.Title?l()(l()({},(0,x.PX)({})),{},{type:e,id:B.next()}):null};var R=n(81617);const M={getEmptyEpfBlock:e=>e===h.FL.PlaceholderVideo?{type:e,id:B.next()}:null,npfToEpfBlockRow:e=>{var t=e[0];return t&&(0,g.gD)(t)?[{id:B.next(),type:h.FL.RemoteVideo,npfVideo:t}]:null},fileToEpf:function(){var e=s()(p().mark((function e(t){var n,a=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:b.Qw,!t.type.match(/video\/*/)){e.next=3;break}return e.abrupt("return",Promise.resolve(l()({file:t,id:B.next(),type:h.FL.LocalVideo,npfVideo:{type:g.kH.Video,provider:R.G6.Tumblr,media:{url:URL.createObjectURL(t),type:t.type}}},z(t.size,n)&&{error:h._s.VideoExceedsFileSizeLimit})));case 3:return e.abrupt("return",Promise.resolve(null));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),epfToNpf:e=>(0,h.Ru)(e)&&e.npfVideo?[e.npfVideo]:null,hasContent:h.Ru};const A=[S.Z,y,w,f,M,I,P,k];var B=new v.Z,Z=(e,t)=>L(e,t).map(W).filter((e=>!!e)).map((e=>e.filter((e=>!!e)))).filter((e=>!!e.length)),L=(e,t)=>{var n,a,o=null==t?void 0:t.map(m.M3),r=null==o?void 0:o.find(g.oF),s=null==t||null===(n=t.filter(g.af))||void 0===n?void 0:n[0],i=e=>l()({},s&&{isAskBlock:s.blocks.includes(e)}),c=null!==(a=null==r?void 0:r.display.map((t=>t.blocks.map((t=>l()(l()({},e[t]),i(t)))))))&&void 0!==a?a:e.map(((e,t)=>[l()(l()({},e),i(t))])),d=null==r?void 0:r.truncateAfter;if(j(d)){var u=-1,p=c.findIndex((e=>(u+=e.length)>=d));c.splice(p+1,0,[{type:g.kH.ReadMore}])}return c},O=e=>{var t=F(e);return d()(t)},D=e=>{var t=F(e),n=0;return t.reduce(((e,t)=>{if((0,g.KM)(t[0]))return e;var a=t.map(((e,t)=>(n+=1)-1));return e.display.push({blocks:a}),e}),{type:g.ms.Rows,display:[]})},F=e=>e.reduce(((e,t)=>[...e,...t.reduce(((e,t)=>{var n,a=null===(n=V(t))||void 0===n?void 0:n.filter((e=>!!e));return a?(0,h.Bu)(t)?[[...(null==e?void 0:e[0])||[],...a]]:[...e,...a.map((e=>[e]))]:e}),[])]),[]),_=function(){var e=s()(p().mark((function e(t,n){var a,r,s,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o()(A),e.prev=1,a.s();case 3:if((r=a.n()).done){e.next=13;break}if(!(s=r.value).fileToEpf){e.next=11;break}return e.next=8,s.fileToEpf(t,n);case 8:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),H=e=>{var t,n=o()(A);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.getEmptyEpfBlock){var r=a.getEmptyEpfBlock(e);if(r)return r}}}catch(e){n.e(e)}finally{n.f()}return null},U=(e,t)=>{var n=H(e);return l()(l()({},n),{},{placeholder:t})},z=(e,t)=>e>1e6*t,V=e=>{var t,n=o()(A);try{for(n.s();!(t=n.n()).done;){var a=t.value.epfToNpf(e);if(a)return a}}catch(e){n.e(e)}finally{n.f()}return null},W=e=>{var t,n=o()(A);try{for(n.s();!(t=n.n()).done;){var a=t.value.npfToEpfBlockRow(e);if(a)return a.map(((t,n)=>(t.isAskBlock=!!e[n].isAskBlock,t)))}}catch(e){n.e(e)}finally{n.f()}return[]},G=e=>e.some((e=>e.some(q))),q=e=>{var t,n=o()(A);try{for(n.s();!(t=n.n()).done;){if(t.value.hasContent(e))return!0}}catch(e){n.e(e)}finally{n.f()}return!1},j=e=>"number"==typeof e&&isFinite(e)},19640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var a=n(85313),o=n.n(a),r=n(3440),s=n(32882),i=n(15896),l=n(33842),c=n(8931),d=n(76155),u=n(58038),p=e=>{var t=(0,l.$S)(e.style);return t?m(e,t):(0,s.O1)(e.style)?o()(o()({},m(e,d.TV.Color)),{},{hex:(0,s.vL)(e.style)}):null},m=(e,t)=>{var n=e.offset;return{type:t,start:n,end:n+e.length}},h=(e,t)=>{var n=e.start;return{key:t,offset:n,length:e.end-n}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.filter((e=>e.start>=t&&e.start<n||e.start<t&&e.end>t)).map((e=>{var a={type:e.type,start:e.start-t>0?e.start-t:0,end:e.end-t>n-t?n-t:e.end-t};switch(e.type){case d.TV.Mention:return o()(o()({},a),{},{blog:e.blog});case d.TV.Color:return o()(o()({},a),{},{hex:e.hex});case d.TV.Link:return o()(o()({},a),{},{url:e.url});default:return a}}))},v=e=>{var t,n,a=i.Ng;if(e.text.length<a)return[e];var o=null===(t=e.text)||void 0===t?void 0:t.slice(0,a),r=null===(n=e.text)||void 0===n?void 0:n.slice(a,e.text.length),s=o.lastIndexOf(" "),l=s>=0?s:a;return[{text:o.slice(0,l),formatting:g(e.formatting,0,l),type:d.kH.Text,subtype:e.subtype}].concat(v({text:o.slice(l,o.length)+r,formatting:g(e.formatting,l,e.text.length),type:d.kH.Text,subtype:e.subtype}))};const b={npfToEpfBlockRow:e=>{if((0,d.dz)(null==e?void 0:e[0])){var t={},n=e.filter(d.dz).map((e=>{var n=[],a=[];return(e.formatting||[]).forEach((e=>{if((0,d.iM)(e)){var r=Object.keys(t).length,s=e.url;t[r]={type:c.El.Link,mutability:c.HP.MUTABLE,data:{url:s}},a.push(h(e,r))}else if((0,d.A7)(e)){var i=Object.keys(t).length,u=e.blog;t[i]={type:c.El.Mention,mutability:c.HP.MUTABLE,data:{blog:u}},a.push(h(e,i))}else{var p=(b={offset:v=(g=m=e).start,length:g.end-v},(f=(0,l.Ig)(m.type))?o()(o()({},b),{},{style:f}):m.type===d.TV.Color?o()(o()({},b),{},{style:"".concat(c.d1).concat(m.hex)}):null);p&&n.push(p)}var m,g,v,b,f})),{inlineStyleRanges:n,entityRanges:a,type:e.subtype?e.subtype:c.Qd.Unstyled,text:e.text}}));return[o()(o()({},(0,s.PX)(l.Cr,(0,r.convertFromRaw)({entityMap:t,blocks:n}))),{},{id:u.do.next(),type:l.FL.Text})]}return null},epfToNpf:e=>{if((0,l.C6)(e)){var t=(0,r.convertToRaw)(e.getEditorState().getCurrentContent());return n=t.blocks.map((e=>o()(o()({type:d.kH.Text,text:e.text},e.type!==c.Qd.Unstyled&&{subtype:e.type}),{},{formatting:[...e.inlineStyleRanges.map(p),...e.entityRanges.map((e=>((e,t)=>{if((0,c.Jt)(e))return o()(o()({},m(t,d.TV.Link)),{},{url:e.data.url});if((0,c.Gl)(e)&&e.data.blog){var n,a=t.length>1?m(t,d.TV.Mention):m(o()(o()({},t),{},{length:1+(null===(n=e.data.blog)||void 0===n?void 0:n.name.length)}),d.TV.Mention);return o()(o()({},a),{},{blog:e.data.blog})}return null})(t.entityMap[e.key],e)))].flatMap((e=>e?[e]:[]))}))),a=[],n.forEach((e=>{v(e).forEach((e=>a.push(e)))})),a}var n,a;return null},hasContent:e=>(0,l.C6)(e)&&e.getEditorState().getCurrentContent().hasText(),getEmptyEpfBlock:e=>{var t,n,a=null;([l.FL.Text,d.lr.Quote,d.lr.Chat].includes(e)&&(a=o()(o()({},(0,s.PX)(l.Cr)),{},{id:u.do.next(),type:l.FL.Text})),e===d.lr.Quote)&&(null===(t=a)||void 0===t||t.toggleTextAttributes({textType:d.lr.Quote}));e===d.lr.Chat&&(null===(n=a)||void 0===n||n.toggleTextAttributes({textType:d.lr.Chat}));return a}}},15896:(e,t,n)=>{"use strict";n.d(t,{Ng:()=>a,Qw:()=>o,Hl:()=>r,Xt:()=>s,_Q:()=>i,Pk:()=>l,iY:()=>c,mG:()=>d,Gi:()=>u,BL:()=>p});var a=4096,o=100,r=10,s=10,i=20,l=1e3,c=1,d=300,u=10,p=1e6},27661:(e,t,n)=>{"use strict";n.d(t,{Rw:()=>C,jb:()=>y,hT:()=>w,bC:()=>k,Pr:()=>P,fZ:()=>S,nM:()=>T});var a=n(27884),o=n.n(a),r=n(43893),s=n.n(r),i=n(63240),l=n.n(i),c=n(89574),d=n.n(c),u=n(19195),p=n.n(u),m=n(33842),h=n(2978),g=n(76155),v=n(36643),b=n(94966),f=n(81704),E=n(15896),C=e=>(0,m.oM)(e)?"link_card":(0,m.xQ)(e)?"photo":(0,m.o9)(e)?(0,g.yw)(e.attribution)?"gif":"photo":(0,m.np)(e)?"video":(0,m.C6)(e)?"text":e.type,y=(e,t,n)=>{var a,o=(0,f.u4)([t?[t]:[]]),r={all:e.all+o.all,link:e.link+o.link,image:e.image+o.image,video:e.video+o.video,tumblrVideo:e.tumblrVideo+o.tumblrVideo,audio:e.audio+o.audio},s={eventName:h.JE.PFAlertBlockLimit};return r.all>E.Pk?(a=m._s.ContentExceedsBlocksLimit,s.eventDetails={limit:"all",count:r.all}):r.link>E.Gi?(a=m._s.ContentExceedsLinkBlocksLimit,s.eventDetails={limit:"link",count:r.link}):r.image>E.Gi?(a=m._s.ContentExceedsImageBlocksLimit,s.eventDetails={limit:"photo",count:r.image}):r.video>E.Gi?(a=m._s.ContentExceedsVideoBlocksLimit,s.eventDetails={limit:"video",count:r.video}):r.tumblrVideo>E.iY?(a=m._s.ContentExceedsTumblrVideoBlocksLimit,s.eventDetails={limit:"video",count:r.tumblrVideo}):r.audio>E.Gi&&(a=m._s.ContentExceedsAudioBlocksLimit,s.eventDetails={limit:"audio",count:r.tumblrVideo}),s.eventDetails&&n(s),{error:a,totalBlockCounts:r}},w=e=>{if(e&&e.offsetWidth>=b.postWidth){var t=e.offsetWidth-e.clientWidth;t&&e.scrollWidth>e.clientWidth&&(e.style.width="".concat(b.postWidth+t,"px")),0===t&&e.offsetWidth>b.postWidth&&(e.style.width="initial")}},k=e=>{if(e){var t=e.id.match(/blockRowIndex-([0-9]+)/);return(null==t?void 0:t.length)>=2?parseInt(t[1],10):-1}return-1},P=(e,t,n)=>{var a,o=((e,t)=>{var n,a={},o=l()(e);try{for(o.s();!(n=o.n()).done;){var r,i=n.value,c=l()(i);try{for(c.s();!(r=c.n()).done;){var d=r.value;a[d.id]=d}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}var u,p=[],m={},h=l()(t);try{for(h.s();!(u=h.n()).done;){var g,v=u.value,b=l()(v);try{for(b.s();!(g=b.n()).done;){var f=g.value;a[f.id]?m[f.id]=!0:p.push(f)}}catch(e){b.e(e)}finally{b.f()}}}catch(e){h.e(e)}finally{h.f()}for(var E=[],C=0,y=Object.entries(a);C<y.length;C++){var w=s()(y[C],2),k=w[0],P=w[1];m[k]||E.push(P)}return{addedBlocks:p,deletedBlocks:E}})(e,t),r=o.addedBlocks,i=o.deletedBlocks,c=l()(r);try{for(c.s();!(a=c.n()).done;){var d=a.value;(0,m.b)(d)||n({eventName:h.JE.PFNewBlock,eventDetails:{block_type:C(d)}})}}catch(e){c.e(e)}finally{c.f()}var u,p=l()(i);try{for(p.s();!(u=p.n()).done;){var g=u.value;(0,m.b)(g)||n({eventName:h.JE.PFDeleteBlock,eventDetails:{block_type:C(g)}})}}catch(e){p.e(e)}finally{p.f()}},S=function(){var e=o()(p().mark((function e(t,n){var a,o,r,s,i,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=JSON.parse(null!==(a=localStorage.getItem("limits"))&&void 0!==a?a:"null"),r=null==o?void 0:o[t],6e5,!r){e.next=8;break}if(s=r.maxVideoSizeMb,i=r.lastUpdated,Date.now()-i>=6e5){e.next=8;break}return e.abrupt("return",s);case 8:return e.next=10,(0,v.ZP)(n).getBlogLimits(t).fetch().then((e=>{var t,n,a=null==e||null===(t=e.response)||void 0===t||null===(n=t.video)||void 0===n?void 0:n.maxByteSize;return a?a/1024/1024:E.Qw}));case 10:return l=e.sent,localStorage.setItem("limits",JSON.stringify(d()(null!=o?o:{},{[t]:{maxVideoSizeMb:l,lastUpdated:Date.now()}}))),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=o()(p().mark((function e(t){var n,a=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:document.createElement("video"),e.abrupt("return",new Promise((e=>{n.preload="metadata",n.onloadedmetadata=()=>{URL.revokeObjectURL(n.src),e(n.duration)},n.src=URL.createObjectURL(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},81704:(e,t,n)=>{"use strict";n.d(t,{Nb:()=>E,OU:()=>C,lb:()=>y,u4:()=>k,lC:()=>P,dI:()=>S,BN:()=>T,m_:()=>x,Um:()=>N,zU:()=>I,Xx:()=>R});var a=n(85313),o=n.n(a),r=n(91377),s=n.n(r),i=n(4622),l=n.n(i),c=n(11600),d=n.n(c),u=n(3575),p=n(33842),m=n(5818),h=n(76155),g=n(81617),v=n(58038),b=[h.hQ.Text,h.hQ.Chat],f={[h.hQ.Text]:p.FL.Text,[h.hQ.Video]:p.FL.PlaceholderVideo,[h.hQ.Quote]:h.lr.Quote,[h.hQ.Link]:p.FL.PlaceholderLink,[h.hQ.Chat]:h.lr.Chat,[h.hQ.Audio]:p.FL.PlaceholderAudio,[h.hQ.Photo]:p.FL.PlaceholderImage},E=e=>{var t;return null!==(t=e&&f[e])&&void 0!==t?t:f[h.hQ.Text]},C=(e,t)=>{var n,a,r=e.reduce(((e,t)=>{var n;if(!e.length&&!l()(t))return[t];var a=null==t?void 0:t[0];if(!a)return e;var r=null===(n=e[e.length-1])||void 0===n?void 0:n[0];if((0,p.vj)(a,r)){var s=a.getEditorState().getCurrentContent(),i=r;return i.addContent(s,!0),r=o()(o()({},i),{},{id:v.do.next()}),e}return[...e,t]}),[]),s=E(t),i=null===(n=r)||void 0===n||null===(a=n[r.length-1])||void 0===a?void 0:a[0];return!r.length||1===r.length&&(0,p.C6)(i)&&![p.FL.Text,h.lr.Chat,h.lr.Quote].includes(s)&&!(0,v.v3)(r)?r=[[(0,v.gT)(s)]]:(0,p.b)(i)||(0,p.C6)(i)||r.push([(0,v.gT)(p.FL.Text)]),r},y=(e,t,n)=>{var a,r,s=null==e||null===(a=e.layout)||void 0===a?void 0:a.some(h.af),i=s?h.hQ.Answer:t,l=!n&&b.includes(i)||b.includes(null==e?void 0:e.type),c=!1,d=null==e||null===(r=e.content)||void 0===r?void 0:r[0];(0,h.yg)(d)?c=!0:e&&d&&w(d)&&(e.content[0]=o()(o()({},d),{},{type:h.kH.Title}),c=!0);var u=null!=e&&e.content?(0,v.Of)(e.content,e.layout):[[(0,v.gT)(E(t))]];return l&&!c&&u.unshift([(0,v.gT)(p.FL.Title)]),s&&u.every((e=>e.every((e=>e.isAskBlock))))&&u.push([(0,v.gT)(p.FL.Text)]),C(u,t)},w=e=>(0,h.dz)(e)&&e.subtype===h.lr.Heading1,k=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={all:0,link:0,image:0,video:0,tumblrVideo:0,audio:0};return e.forEach((e=>{e.forEach((e=>{(0,p.Hv)(e)||(0,p.jh)(e)||t&&(0,p.ml)(e)?(n.link+=1,n.all+=1):(0,p.Bu)(e)||t&&((0,p.gz)(e)||(0,p.No)(e))?(n.image+=1,n.all+=1):(0,p.np)(e)||t&&(0,p.zC)(e)?(n.video+=1,n.all+=1,((0,p.nw)(e)||!(0,p.zC)(e)&&e.npfVideo.provider===g.G6.Tumblr)&&(n.tumblrVideo+=1)):(0,p.X_)(e)||(0,p.oS)(e)||t&&((0,p.ub)(e)||(0,p.Qb)(e))?(n.audio+=1,n.all+=1):(0,p.C6)(e)&&(n.all+=e.getEditorState().getCurrentContent().getBlockMap().size)}))})),n},P=e=>[[0],[1],[2],[2,1],[2,2],[2,1,2],[2,2,2],[2,3,2],[3,2,3],[3,3,3],[3,2,3,2]][Math.min(e,10)],S=e=>e.reduce(((e,t)=>{if(0===e.length)return e.push([t]),e;var n=d()(e);return[t,n[0]].every(p.xQ)||[t,n[0]].every(p.nw)?n.push(t):e.push([t]),e}),[]).reduce(((e,t)=>{var n;if(t.length>0&&(0,p.xQ)(t[0])){var a=P(t.length),o=[...t];n=a.map((e=>o.splice(0,e)))}else n=[[...t]];return[...e,...n]}),[]),T=e=>-1!==e,x=(e,t)=>{if(null==t?void 0:t.length)return!0;var n=e.findIndex((e=>e.find((e=>(0,p.U4)(e)))));if(n>=0){var a=e.slice(0,n),o=e.slice(n+1);return(0,v.v3)(a)&&(0,v.v3)(o)}return(0,v.v3)(e.filter((e=>e.some((e=>!e.isAskBlock)))))},N=e=>void 0!==(null==e?void 0:e.ctaTextCode)&&""!==(null==e?void 0:e.ctaTextCode),I=s()((e=>{var t;return null==e||null===(t=e.linkedAccounts)||void 0===t?void 0:t.find((e=>e.type===u.O.Twitter))})),R=(e,t,n)=>{var a,o=t===m.$t.Private;return!!!(null!=n&&n.id||o)&&!(null===(a=I(e))||void 0===a||!a.enabled)}},90089:(e,t,n)=>{"use strict";n.d(t,{R$:()=>w,ze:()=>k,Bg:()=>P,$7:()=>y,Gk:()=>S,ZP:()=>x});var a=n(95004),o=n(44210),r=n(21964),s=n(2808),i=n(58576),l=n(29039),c=n(85904),d=n(31376),u=n(38462),p=n(75918),m=n(59003),h=n(71130),g=n(47740),v=n(76155),b=n(51742),f=n(2540),E=n(62513);const C={postTypeDropdown:"Ukaq9",allPosts:"snNt1",itemDivider:"fNBIy",postTypeDropdownItem:"F3bvL",containerLeft:"_47eZM",postTypeText:"FjHC8",textFilter:"K33Zl",photoFilter:"Guk6U",quoteFilter:"Qw3Wo",linkFilter:"WC9ut",chatFilter:"jYem4",audioFilter:"Y6Y3T",videoFilter:"C60xO",askFilter:"_WZQZ"};var y=175,w="auto",k="70vh",P=g.I2.Bottom,S={width:14,height:14},T={[v.L8.Text]:a.createElement(m.Z,{fill:E.colorTextPostFilter}),[v.L8.Photo]:a.createElement(u.Z,{fill:E.colorPhotoPost}),[v.L8.Quote]:a.createElement(p.Z,{fill:E.colorQuotePost}),[v.L8.Link]:a.createElement(d.Z,{fill:E.colorLinkPost}),[v.L8.Chat]:a.createElement(c.Z,{fill:E.colorChatPost}),[v.L8.Audio]:a.createElement(l.Z,{fill:E.colorAudioPost}),[v.L8.Video]:a.createElement(h.Z,{fill:E.colorVideoPost}),[v.L8.Ask]:a.createElement(i.Z,{fill:E.colorAskPost})};const x=function(e){var t=e.pathGenerator,n=e.isDisabled,i=e.selectType,l=e.selected,c=(0,f.bp)(),d=c._t,u=c._c,p=(0,a.useMemo)((()=>({[v.L8.Text]:u("Post type","Text"),[v.L8.Photo]:u("Post type","Photo"),[v.L8.Quote]:u("Post type","Quote"),[v.L8.Link]:u("Post type","Link"),[v.L8.Chat]:u("Post type","Chat"),[v.L8.Audio]:u("Post type","Audio"),[v.L8.Video]:u("Post type","Video"),[v.L8.Ask]:u("Post type","Ask")})),[u]),m=(0,a.useCallback)((()=>null==i?void 0:i()),[i]);return a.createElement("div",{className:C.postTypeDropdown},a.createElement(o.Z,{className:C.allPosts,onClick:m,linkTo:null==t?void 0:t(),isDisabled:n},a.createElement("div",{className:C.containerLeft},a.createElement(s.Z,{fill:E.colorTextPostFilter}),a.createElement("div",{className:C.postTypeText},d("All posts"))),!l&&a.createElement(r.Z,{size:S,fill:E.paletteBlue})),a.createElement("hr",{className:C.itemDivider}),Object.keys(p).map((e=>a.createElement(o.Z,{key:e,className:(0,b.Z)([C.postTypeDropdownItem,C["".concat(e,"Filter")]]),linkTo:null==t?void 0:t(e),onClick:()=>null==i?void 0:i(e),isDisabled:n},a.createElement("div",{className:C.containerLeft},a.createElement("div",{className:C.typeIcon},T[e]),a.createElement("div",{className:C.postTypeText},p[e])),l===e&&a.createElement(r.Z,{size:S,fill:E.paletteBlue})))))}},81058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(95004),o=n(5858),r=n(51742),s=n(62513),i=n.n(s);const l="YIpzf",c="ou6Mu",d="Hm8d6";const u=e=>{var t=e.groupLabel,n=e.name,s=e.options,u=e.selectedOptionIndex,p=e.onChange,m=e.className,h="number"==typeof u&&u>=0&&u<s.length?s[u].value:null,g=e=>{var t=e.target.value,n=s.findIndex((e=>e.value===t));p(n)};return a.createElement("fieldset",{className:(0,r.Z)([l,m])},a.createElement("legend",{className:"screenReaderOnly"},t),s.map((e=>(e=>{var t=e.value;return a.createElement("div",{key:t,className:c},a.createElement("input",{className:"screenReaderOnly",id:t,type:"radio",name:n,value:t,onChange:g,checked:t===h,"aria-checked":t===h}),a.createElement("label",{htmlFor:t},a.createElement("div",{className:d,"aria-hidden":"true"},t===h?a.createElement(o.Z,{fill:i().paletteAccent}):null),e.children))})(e))))}},98992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(95004),o=n(81059),r=n(51742),s=n(2540),i=n(74708);const l=(0,s.HJ)((function(e){var t=e.appContext._t,n=e.className;return a.createElement(o.Z,{wrapperClassName:(0,r.Z)([i.Z.reorderButton,n]),label:t("Reorder")},"::")}))},8170:(e,t,n)=>{"use strict";n.d(t,{R:()=>u});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(58665),l=n.n(i),c=n(95004),d=n(79153);class u{constructor(){s()(this,"_isReparented",!1),s()(this,"isInitialized",!1),s()(this,"contentRef",null),s()(this,"stashedElementAttributes",[]),s()(this,"forceUpdate",l()),s()(this,"setContentRef",(e=>this.contentRef=e))}render(e,t,n){return this.isInitialized||this.initialize(),this.forceUpdate=t,this.isInitialized&&(0,d.createPortal)(c.createElement("div",{suppressHydrationWarning:!0},c.createElement(e,o()({},n,{isReparented:this.isReparented,forwardedRef:this.setContentRef}))),this.contentContainerRef)||null}initialize(){this.contentContainerRef||(this.contentContainerRef=document.createElement("div"),this.isInitialized=!0)}appendContentTo(e){var t=!1;return this.contentContainerRef&&(this.stashElementAttributesThatResetOnReparenting(!1),e.appendChild(this.contentContainerRef),this.unstashElementAttributesThatResetOnReparenting(),t=!0),t}stashElementAttributesThatResetOnReparenting(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!this.contentRef||!e&&this.stashedElementAttributes.length||this.stashSingleElementTreeAttributes(this.contentRef)}unstashElementAttributesThatResetOnReparenting(){this.contentRef&&(this.unstashSingleElementTreeAttributes(this.contentRef),this.stashedElementAttributes=[])}unstashSingleElementTreeAttributes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.stashedElementAttributes[t];for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a]);for(var o=t+1,r=0;r<e.children.length;r++)o=this.unstashSingleElementTreeAttributes(e.children[r],o);return o}get isReparented(){return this._isReparented}set isReparented(e){this._isReparented!==e&&(this._isReparented=e,this.forceUpdate())}stashSingleElementTreeAttributes(e){this.stashedElementAttributes.push({scrollTop:e.scrollTop});for(var t=0;t<e.children.length;t++)this.stashSingleElementTreeAttributes(e.children[t])}}},25834:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var a=n(92969),o=n.n(a),r=n(95004);class s extends r.Component{constructor(){super(...arguments),o()(this,"ref",(0,r.createRef)()),o()(this,"contentIsAppended",!1)}componentDidMount(){this.attachContentNode()}componentWillUnmount(){this.props.reparentableContent&&this.props.reparentableContent.stashElementAttributesThatResetOnReparenting()}shouldComponentUpdate(e){return e.reparentableContent!==this.props.reparentableContent&&(this.contentIsAppended=!1),!0}render(){return this.attachContentNode(),r.createElement("div",{ref:this.ref})}attachContentNode(){var e=this.props,t=e.shouldRenderContent,n=e.reparentableContent;!this.contentIsAppended&&t&&this.ref.current&&n?this.contentIsAppended=n.appendContentTo(this.ref.current):this.contentIsAppended&&!t&&(this.contentIsAppended=!1)}}},83019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(51742);const c={wrapper:"XpugT",inputWrapper:"WJF54",inputField:"gWXwV",prefixedWrapper:"FQn3S",suffixedWrapper:"zYSrd",suffix:"ew6iy",prefix:"UjF9u",errorWrapper:"QERwm",errorMessage:"LPUrm"};var d=["className","prefix","suffix","error"];const u=e=>{var t=e.className,n=e.prefix,a=e.suffix,r=e.error,u=void 0!==r&&r,p=s()(e,d),m={className:(0,l.Z)({[c.prefixedWrapper]:void 0!==n,[c.suffixedWrapper]:void 0!==a,[c.errorWrapper]:!1!==u,[c.wrapper]:!0})};return i.createElement("div",m,i.createElement("div",{className:c.inputWrapper},n&&i.createElement("span",{className:c.prefix},n),i.createElement("input",o()({className:(0,l.Z)({[c.inputField]:!0,[c.prefixedField]:void 0!==n,[t]:void 0!==t})},p)),a&&i.createElement("span",{className:c.suffix},a)),u&&i.createElement("div",{className:c.errorMessage},u))}},56646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(85313),o=n.n(a),r=n(86057),s=n.n(r),i=n(95004),l=n(51742);const c="lPY88";var d=["children","className","as"];const u=e=>{var t=e.children,n=e.className,a=e.as,r=void 0===a?"p":a,u=s()(e,d);return i.createElement(r,o()({className:(0,l.Z)([c,n])},u),t)}},53107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(95004),o=n(51742);const r="voaYL",s="OPnDa",i="s5oiJ",l="uyMIN";const c=e=>{var t=e.className,n=void 0===t?"":t,c=e.label,d=e.children,u=e.subLabel,p=e.isFocused,m=void 0!==p&&p;return a.createElement("section",{className:(0,o.Z)({[r]:!0,[l]:m,[n]:!0})},a.createElement("div",{className:s},a.createElement("h3",null,c),u&&a.createElement("h4",null,u)),a.createElement("div",{className:i},d))}},14199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var a=n(85313),o=n.n(a),r=n(95394),s=n.n(r),i=n(86057),l=n.n(i),c=n(95004),d=n(56646),u=n(71358),p=n(33667),m=n(51742);const h="Vqf0P",g="gXVK_",v="aYo2G",b="TiBQg";var f=["label","id","helpText","className","labelClass","helpTextAs","style"],E=e=>{var t=e.label,n=e.id,a=e.helpText,o=e.className,r=e.labelClass,i=e.helpTextAs,p=e.style,E=l()(e,f);if(void 0===n)throw new TypeError("ToggleField must have an id for a11y purposes");var C="".concat(n,"-toggle"),y="".concat(n,"-label");return c.createElement("div",{className:(0,m.Z)([h,o]),style:p,id:n},c.createElement(u.Z,s()({id:C,labelledBy:y},E)),c.createElement("div",{className:g},c.createElement("label",{className:(0,m.Z)([v,r]),id:y,htmlFor:C},t),a&&c.createElement(d.Z,{as:i,className:b},a)))};E.defaultProps=o()(o()({},u.Z.defaultProps),{},{size:p.h.small});const C=E},87251:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var a=n(95394),o=n.n(a),r=n(86057),s=n.n(r),i=n(43893),l=n.n(i),c=n(95004),d=n(51742),u=n(81059),p=n(33881),m=n(2540),h=n(62513),g=n.n(h);const v="p5iNo",b="GEvLz",f="hduls";const E=e=>{var t=e.children,n=e.onEditClick,a=e.toggle,o=e.buttonLabel,r=e.isOpen,s=void 0!==r&&r,i=e.showEditButton,l=void 0===i||i,h=e.hideWhenEditing,E=void 0===h||h,C=e.icon,y=void 0===C?p.Z:C,w=e.className,k=(0,m.bp)()._c;return c.createElement("div",{className:(0,d.Z)({[v]:!0,[b]:!s||!E,[w]:!0})},"function"==typeof t?t(a):t,l&&!s&&c.createElement(u.Z,{label:o||k("Aria-label for button that toggles between editing and display a setting","Toggle"),onClick:e=>{e.preventDefault(),null==n||n(),a()},className:f},c.createElement(y,{size:{width:16,height:16},fill:g().paletteGray40})))},C="EAi_a",y="QseG4",w="_2yZF",k="ODnrS";var P=["label"];const S=e=>{var t=e.controlled,n=void 0!==t&&t,a=e.isOpen,r=void 0!==a&&a,i=e.onToggle,u=e.children,p=e.label,m=e.style,h=e.aboveBlurWhenOpen,g=void 0===h||h,v=e.className,b=e.contentClassName,f=(0,c.useState)(r),S=l()(f,2),T=S[0],x=S[1],N=n?r:T,I=()=>{n||x(!N),null==i||i(!N)},R={},M=p;if(p&&"object"==typeof p&&"label"in p){var A=p;M=A.label,R=s()(A,P)}return c.createElement("div",{className:(0,d.Z)([C,v]),style:m},c.createElement(E,o()({toggle:I,isOpen:N},R),M),c.createElement("div",{"aria-hidden":!N,className:(0,d.Z)({[y]:!0,[w]:N,[k]:N&&g,[b]:!!b})},"function"==typeof u?u(I):u))}},84050:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>W});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(85787),c=n(95394),d=n.n(c),u=n(45342),p=n(81059),m=n(79793),h=n(28458),g=n(51742),v=n(2540),b=n(62513),f=n.n(b),E=n(33264);const C="iOplf",y="dxDX3";class w extends i.Component{render(){var e=this.props,t=e.rowTheme,n=e.avatar,a=e.avatarShape,o=e.blogName,r=e.blogTitle,s=e.blogUrl,l=e.onFollow,c=e.onClose,v=e.isFollowed,b=e.appContext._t,w=void 0!==l&&!v&&i.createElement(m.Z,{following:!!v,blogName:o,blogUrl:s,onFollow:l,className:E.Z.blogRowFollowButton}),k=i.createElement(p.Z,{wrapperClassName:y,onClick:c,label:b("Dismiss Recommendation")},i.createElement(h.Z,{fill:f().paletteTransparentWhite13,width:10,height:10})),P={avatar:n,avatarShape:a,blogName:o,blogTitle:r,blogUrl:s};return i.createElement("div",{className:(0,g.Z)({[C]:!0})},i.createElement(u.ZP,d()({},P,{isMobile:!1,floatingButton:w,theme:t||u.CK.Dark,openBlogCard:u.T6.Body})),k)}}const k=(0,v.HJ)(w);var P=n(22654),S=n(36643),T=n(80261),x=n(67859),N=n.n(x);const I="B4rcz",R="PwJi6",M="kqme1",A="_fk31",B="Kxfe3",Z="vN7wd",L="ou8zw",O="fM0TQ",D="E4V_b",F="W9GZw";var _,H="".concat(N().postSlideOutDurationInMs,"ms ease-out");!function(e){e[e.None=0]="None",e[e.DismissBlog=1]="DismissBlog",e[e.FollowBlog=2]="FollowBlog"}(_||(_={}));class U extends i.Component{constructor(){super(...arguments),s()(this,"state",o()({indexesToRemove:[],animationType:_.None},this.props.getInitialContent())),s()(this,"apiHelper",(0,S.ZP)(this.props.appContext.apiFetch)),s()(this,"fetchInProgress",null),s()(this,"rowHeightInPixels",59),s()(this,"renderRows",(e=>{var t=this.props.rowTheme;return this.state.blogs.slice(0,this.getNumberOfBlogsToShow()).map(((n,a)=>{var o,r;return i.createElement("li",{key:"".concat(n.name,"-").concat(a),className:M},i.createElement("div",{className:(0,g.Z)({[A]:!0,[B]:this.isBlogInAnimationState(a,_.DismissBlog),[Z]:this.isBlogInAnimationState(a,_.FollowBlog),[L]:this.isBlogInAnimationState(a,_.None)}),style:this.getCalculatedSlideUpStyles(a,e)},i.createElement(k,{blogName:n.name,blogTitle:null!==(o=n.title)&&void 0!==o?o:"",blogUrl:n.url,avatar:null!==(r=n.avatar)&&void 0!==r?r:[],isFollowed:n.followed,onFollow:n.canBeFollowed?this.animateFollowBlog.bind(this,a):void 0,onClose:this.animateDismissBlog.bind(this,a),rowTheme:t})))}))})),s()(this,"rowRemovalComplete",(()=>this.setState({animationType:_.None}))),s()(this,"getNumberOfBlogsToShow",(()=>this.props.numberOfBlogsToShow+this.state.indexesToRemove.length)),s()(this,"isBlogInAnimationState",((e,t)=>this.state.indexesToRemove.includes(e)&&this.state.animationType===t)),s()(this,"shouldBlogRowSlideUp",(e=>{var t=this.state.indexesToRemove;return t.length>0&&e>Math.max(...t)})),s()(this,"getCalculatedSlideUpStyles",((e,t)=>this.shouldBlogRowSlideUp(e)&&t===l.Ix?{transform:"translateY(-".concat(this.rowHeightInPixels*this.state.indexesToRemove.length,"px)"),transition:"transform ".concat(H)}:{})),s()(this,"fetchBlogs",(()=>{var e=this.state.nextLink,t=this.props.appContext.apiFetch;return e?(this.cancelInProgressFetchIfNecessary(),this.fetchInProgress=(0,T.Z)(t(e.href)),this.fetchInProgress.then((e=>{var t=this.state.blogs,n=(0,this.props.getContentFromResponse)(e),a=n.nextLink,o=n.blogs;this.setState({nextLink:a,blogs:t.concat(o)})}))):Promise.resolve()})),s()(this,"logBlogDismissal",((e,t,n)=>Promise.all(t.map((t=>this.apiHelper.logBlogDismissal(e[t].url).fetch()))).then((()=>n?this.fetchBlogs():Promise.resolve())))),s()(this,"removeRowAndAnimateSlideUp",(()=>{var e=this.state,t=e.blogs,n=e.animationType,a=e.indexesToRemove,o=t.filter(((e,t)=>!a.includes(t)));this.setState({indexesToRemove:[],blogs:o});var r=o.length<=5;return n===_.DismissBlog?this.logBlogDismissal(t,a,r):r?this.fetchBlogs():Promise.resolve()})),s()(this,"animateDismissBlog",(e=>this.setState({indexesToRemove:[e],animationType:_.DismissBlog}))),s()(this,"animateFollowBlog",(e=>this.setState({indexesToRemove:[e],animationType:_.FollowBlog}))),s()(this,"animateDismissAllBlogs",(()=>this.setState({indexesToRemove:[...Array(this.props.numberOfBlogsToShow).keys()],animationType:_.DismissBlog}))),s()(this,"cancelInProgressFetchIfNecessary",(()=>{var e;return null===(e=this.fetchInProgress)||void 0===e?void 0:e.cancel()}))}componentDidMount(){return this.fetchBlogs()}componentDidUpdate(e){return new Promise((t=>{e.recommendedTag!==this.props.recommendedTag?this.setState(this.props.getInitialContent(),(()=>this.fetchBlogs().then(t))):e.title!==this.props.title?this.setState(this.props.getInitialContent(),t):t()}))}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}render(){var e=this.props,t=e.title,n=e.numberOfBlogsToShow,a=e.dismissAllLabel,o=e.isInDashboardStyle,r=e.appContext._t,s=this.state,c=s.blogs,d=s.nextLink,u=s.animationType;return c.length?i.createElement(i.Fragment,null,i.createElement("ul",{className:R,"aria-label":t,style:{height:this.rowHeightInPixels*n}},i.createElement(l.ZP,{in:u!==_.None,timeout:N().postSlideOutDurationInMs,onEntered:this.rowRemovalComplete,onExited:this.removeRowAndAnimateSlideUp},this.renderRows)),a&&i.createElement("div",{className:F},i.createElement(p.Z,{label:a,onClick:this.animateDismissAllBlogs},a))):d?i.createElement("div",{className:I},i.createElement(P.Z,{small:!0})):i.createElement("span",{className:o?D:O},r("No blogs available."))}}s()(U,"defaultProps",{numberOfBlogsToShow:4,title:""});var z=(0,v.HJ)(U);class V extends i.Component{render(){return i.createElement(z,this.props)}}s()(V,"defaultProps",U.defaultProps);const W=V},61719:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var a=n(95004),o=n(80630),r=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 22 22"},a.createElement("path",{d:"M12.63 22l-.474-3.45c.238-.058.475-.058.712-.118l.83 3.39c-.356.06-.71.12-1.067.178zm-5.158-.476a4.68 4.68 0 0 1-.95-.416l1.483-3.15c.238.118.415.177.653.296l-1.186 3.27zm10.85-2.08l-2.31-2.617c.177-.178.355-.297.532-.476l2.55 2.44c-.296.178-.533.415-.77.653zm-15.95-1.547a7.247 7.247 0 0 1-.593-.832l2.964-1.903c.12.18.296.416.415.595l-2.788 2.14zm19.332-3.686l-3.32-1.01.177-.714 3.44.655c-.12.357-.237.714-.296 1.07zM.06 12.13C0 11.773 0 11.416 0 11.06L3.5 11v.06c0 .237 0 .475.058.713l-3.5.357zm18.263-3.21c-.06-.24-.118-.477-.237-.655l3.262-1.308c.118.297.237.654.356 1.01l-3.38.952zM4.33 7.55L1.244 5.947l.534-.892 2.905 1.903a4.98 4.98 0 0 0-.356.594zm11.74-2.2c-.178-.177-.356-.296-.593-.474l2.016-2.854c.297.178.534.416.83.654L16.07 5.35zm-8.776-.89l-1.72-3.033c.297-.178.593-.357.95-.476l1.422 3.212c-.237.06-.415.18-.652.297zm4.862-.892c-.237-.06-.474-.06-.71-.06L11.622 0c.355 0 .71.06 1.067.12l-.534 3.448z"})));r.defaultProps={size:{width:25,height:25}};const s=r;var i=(0,o.qv)(a.createElement("svg",{viewBox:"0 0 7.7 9.9"},a.createElement("path",{d:"M3.3 0h1.5v.9c1.5.2 2.3.8 2.7 1.4L5.9 3.6c-.5-.5-1.1-1-1.7-1-.4 0-.6.1-.6.4 0 1.2 4.1.8 4.1 3.3 0 1.5-1.1 2.5-3.1 2.7v.9H2.9v-1C1.5 8.7.5 8.1 0 7.5l1.7-1.4c.5.6 1.3 1.1 2 1.1s.9-.2.9-.4c0-1-4.2-.7-4.2-3.3 0-1.2 1-2.3 2.8-2.5V0h.1z"})));i.defaultProps={size:{width:14,height:8}};const l=i;var c=n(51742),d=n(2540),u=n(76230),p=n(62513),m=n.n(p);const h="FqD9n",g="fLccs",v="zU1s3",b="LVy2A",f="m544j",E="UGqjE";const C=function(e){var t=e.dollarSize,n=void 0===t?{width:8,height:11}:t,o=e.link,r=e.color,i=void 0===r?m().paletteGray65:r,p=e.showSpinner,C=void 0===p||p,y=e.showSponsoredText,w=void 0===y||y,k=(0,d.bp)(),P=k._t,S=k.wwwBaseUrl,T=(0,u.uu)().isNarrow,x=(0,a.useRef)(null),N=null!=o?o:"".concat(S,"/docs/en/relevantads");return(0,a.useLayoutEffect)((()=>{var e=()=>{var e=.75*window.scrollY%360;null!=x&&x.current&&(x.current.style.transform="rotate(".concat(e,"deg)"))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}})),a.createElement("a",{className:(0,c.Z)({[g]:!T,[h]:T}),href:N,target:"_blank"},C&&a.createElement("div",{className:v},a.createElement("div",{className:b},a.createElement(l,{size:n,fill:i})),a.createElement("div",{className:f,ref:x},a.createElement(s,{size:{width:22,height:22},fill:i}))),w&&a.createElement("div",{className:E,style:{color:i}},P("Sponsored")))}},6957:(e,t,n)=>{"use strict";n.d(t,{jf:()=>v,tl:()=>g,ZP:()=>E});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(86057),l=n.n(i),c=n(95004),d=n(81059),u=n(49553),p=n(51742),m=n(62513);const h={button:"CxLjL",link:"Z8Ux2",default:"qjTo7",border:"wmqRB",rounded:"qNKBC",entireWidth:"CguuB",small:"IMvK3"};var g,v,b=["theme","size","textColor","backgroundColor","disabledTheme","disabledTextColor","disabledBackgroundColor","isRounded"];!function(e){e.Default="default",e.Border="border"}(g||(g={})),function(e){e.EntireWidth="entireWidth",e.Small="small"}(v||(v={}));var f=e=>{var t=e.theme,n=e.size,a=e.textColor,r=void 0===a?m.paletteBlack:a,i=e.backgroundColor,v=void 0===i?m.paletteAccent:i,f=e.disabledTheme,E=void 0===f?g.Border:f,C=e.disabledTextColor,y=void 0===C?m.paletteTransparentWhite65:C,w=e.disabledBackgroundColor,k=void 0===w?m.paletteTransparentWhite65:w,P=e.isRounded,S=void 0!==P&&P,T=l()(e,b);return(e=>!!e.href)(T)?c.createElement(u.Z,o()({},T,{feature:void 0===T.feature||T.feature,className:(0,p.Z)([h.link,t&&h[t],n&&h[n],S&&h.rounded,T.className]),style:s()(s()({},{"--button-text":r,"--button-bg":v}),T.style)})):c.createElement(d.Z,o()({},T,{wrapperClassName:(0,p.Z)([h.button,T.disabled?E&&h[E]:t&&h[t],n&&h[n],S&&h.rounded,T.wrapperClassName]),wrapperStyle:s()(s()({},{"--button-text":T.disabled?y:r,"--button-bg":T.disabled?k:v}),T.wrapperStyle)}))};f.defaultProps={theme:g.Default,size:v.Small};const E=f},50951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(95004),o=n(84202),r=n(64018);const s="MbFgY",i="fK9F5";const l=e=>{var t=e.color,n=e.backgroundColor,l=e.size,c=n?{color:t,backgroundColor:n,padding:"2px 12px"}:{color:t};return a.createElement("span",{className:s,style:c},a.createElement(o.Z,{size:{width:l,height:l},fill:t}),a.createElement("span",{className:i},a.createElement(r.ZP,{comment:"Indicates that the user has supported the creator of a post by subscribing to their blog."},"Supporting")))}},93622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var a=n(43893),o=n.n(a),r=n(95004),s=n(4777),i=n(81059),l=n(78315),c=n(76097),d=n(90976),u=n(36643),p=n(51742),m=n(2540),h=n(29252),g=n(93761);const v="sNQra",b="WdYx4",f="tnoMg",E="D2Wgl";var C=e=>{var t=e.tag,n=e.className,a=e.pageName,s=e.location,h=e.isFollowed,C=e.extraStyles,y=(0,m.bp)(),w=y._t,k=y.apiFetch,P=y.isLoggedIn,S=(0,r.useState)(),T=o()(S,2),x=T[0],N=T[1],I=(0,r.useMemo)((()=>(0,u.ZP)(k)),[m.Tm]);(0,r.useEffect)((()=>{void 0!==h?N(h):P&&I.isFollowingTag(t).fetch((e=>{var t=e.response.following;return N(t)}))}),[P,t,h]);var R=(0,r.useCallback)((()=>I.followTag(t,a).fetch((()=>N(!0)))),[t]),M=(0,r.useCallback)((()=>I.unfollowTag(t,a).fetch((()=>N(!1)))),[t]),A=w("Follow");if(P&&void 0===x)return null;var B=(0,g.k)(s.pathname,d.Vu.TagFollowButton);return x?r.createElement(i.Z,{wrapperClassName:(0,p.Z)([v,n]),className:f,onClick:M,label:w("Unfollow this tag"),style:C},w("Unfollow")):r.createElement(i.Z,{wrapperClassName:(0,p.Z)([v,n]),className:b,onClick:P?R:void 0,label:w("Follow this tag"),style:C},P?r.createElement("span",{className:E},A):r.createElement("a",{className:E,href:(0,l.gZ)({formToShow:c.c.Register},{redirect_to:s.pathname,source:B})},A))},y=(0,s.EN)(C);(0,h.D)(y,"".concat(C.name,"WithRouter"));const w=y},24150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(95004),o=n(4596),r=n(53680),s=n(47807),i=n(2978),l=n(2540);const c={pillTag:"HSIaV",pillTagInner:"jo4rU",pillIcon:"ZsnTE"};const d=function(e){var t=e.timelineObject,n=(0,l.bp)().logEvent;return a.createElement("div",{key:t.id,className:c.tagRibbon},t.resources.map((e=>{var t=e.name,l=e.link;return a.createElement(r.Z,{key:t,className:c.pillTag,isThin:!0},a.createElement(s.Z,{tagName:t,className:c.pillTagInner,toOverride:null==l?void 0:l.href,onClick:()=>{return e=t,void n({eventName:i.JE.TagRibbonTagTap,eventDetails:{tag:e}});var e}},a.createElement("div",{className:c.pillIcon},a.createElement(o.Z,null)),t))})))}},30436:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(86057),l=n.n(i),c=n(95004),d=n(59319),u=n(81059),p=n(71974),m=n(40310),h=n(51742),g=n(44210),v=n(97187),b=n(75369),f=n(64018),E=n(47740);const C={dropdownMenu:"rTGl_",dropdownMenuItem:"RSD75",dropdownTitleContainer:"WojaA",arrow:"hXMYF",isActive:"nNfe0"};const y=function(e){var t,n=e.submenuElements,a=e.activeOption,o=e.getLinkProps,r=e.getButtonProps,s=e.wrapperClassName,i=void 0===s?"wrapper":s,l=e.isActiveClassName,d=void 0===l?"active":l,p=!!n.includes(a),m=(0,h.Z)({[i]:!0,[d]:p}),y=c.createElement("div",{className:C.dropdownMenu},n.map((e=>{if(o){var t=o(e);return c.createElement(g.Z,{key:t.to,linkTo:t.to,className:C.dropdownMenuItem},c.createElement("span",null,t.children))}return!!r&&c.createElement(g.Z,{key:e},c.createElement(u.Z,r(e)))})));return c.createElement(b.Z,{component:y,position:E.I2.BottomStart,width:150,height:"auto",usePortals:!0},c.createElement(u.Z,{wrapperClassName:m,className:C.timelineOptionInner},c.createElement("span",{className:C.dropdownTitleContainer},c.createElement("span",{className:C.titleContainerText},(t=n.find((e=>e===a)))?o?o(t).children:r(t).label:c.createElement(f.ZP,null,"More")),c.createElement("span",{className:C.arrow},c.createElement(v.$S,null)))))},w={timelineHeader:"p4DiZ",timelineOptions:"uM3pd",addBottomMargin:"ZHf8b",timelineChangeOption:"wl0Ka",timelineOptionInner:"OPOal",active:"sSq2h",submenuWrapper:"vBp1h"};var k=["timelineOptions","submenuOptions","addBottomMargin","activeOption","getButtonProps","getLinkProps","timelineOptionsClassName","timelineChangeOptionClassName"];const P=function(e){var t=e.timelineOptions,n=e.submenuOptions,a=e.addBottomMargin,r=e.activeOption,i=e.getButtonProps,g=e.getLinkProps,v=e.timelineOptionsClassName,b=e.timelineChangeOptionClassName,f=l()(e,k),E=(0,m.v$)().isMobile,C=(0,c.useCallback)((e=>(0,h.Z)(s()(s()({[w.timelineChangeOption]:!0},b&&{[b]:!0}),{},{[w.active]:e}))),[]);return c.createElement("div",{className:(0,h.Z)({[w.timelineHeader]:!0,[w.addBottomMargin]:a})},c.createElement("div",{className:(0,h.Z)(s()({[w.timelineOptions]:!0},v&&{[v]:!0}))},t.map((e=>{var t=C(e===r),n={key:e},a=null==i?void 0:i(e);return g?c.createElement(d.Link,o()({},n,g(e),{className:t})):c.createElement(u.Z,o()({},n,a,{wrapperClassName:t,className:w.timelineOptionInner,children:a.label}))})),n&&c.createElement("div",{className:w.submenuWrapper},c.createElement(y,o()({activeOption:r,key:"submenu",submenuElements:n,isActiveClassName:w.active,wrapperClassName:w.timelineChangeOption},i?{getButtonProps:i}:{getLinkProps:g})))),!E&&c.createElement("div",{className:w.toggleViewsWrapper},c.createElement(p.Z,f)))}},89143:(e,t,n)=>{"use strict";n.d(t,{s:()=>C});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(38678),c=n(66438),d=n(2978),u=n(46197),p=n(52385),m=n(2540),h=n(90553),g=n(29252),v=n(4777),b=n(94966),f=n(93678);const E=function(e){var t=e.logImpression,n=(0,i.useRef)(),a=(0,i.useRef)(!1),o=(0,v.k6)(),r=()=>{if(a.current&&n.current){var e=Math.floor(performance.now()-n.current);t(e)}n.current=void 0,a.current=!1};return(0,i.useEffect)((()=>{var e=o.listen(r);return document.addEventListener("visibilitychange",r),function(){e(),document.removeEventListener("visibilitychange",r)}})),i.createElement(i.Fragment,null,i.createElement(l.df,{className:f.Z.hiddenObserver,onChange:e=>{e?n.current=performance.now():r()},rootMargin:"-".concat(b.desktopHeaderHeightPx,"px 0px")},i.createElement("div",null)),i.createElement(l.df,{className:f.Z.hiddenObserverMiddlePoint,onChange:e=>{e&&(a.current=!0)}},i.createElement("div",null)))};function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=1e3;class a extends i.Component{constructor(){super(...arguments),s()(this,"areImpressionsEnabled",!t),s()(this,"provideEventDetails",u.L),s()(this,"isIntersecting",!1),s()(this,"isAboutToIntersect",!1),s()(this,"setInViewCallback",(e=>{this.inViewCallback=e})),s()(this,"setApproachingViewCallback",(e=>{this.approachingViewCallback=e})),s()(this,"isInView",(()=>this.isIntersecting)),s()(this,"isApproachingView",(()=>this.isAboutToIntersect)),s()(this,"onEnterView",(e=>{var t;(this.isIntersecting=e,this.isIntersecting)?(null===(t=this.inViewCallback)||void 0===t||t.call(this),this.inViewCallback=null,this.didBeginIntersecting()):this.didEndIntersecting()})),s()(this,"beforeEnterView",(e=>{var t;(this.isAboutToIntersect=e,this.isAboutToIntersect)&&(null===(t=this.approachingViewCallback)||void 0===t||t.call(this))})),s()(this,"didBeginIntersecting",(()=>{if(this.areImpressionsEnabled){var e=this.props,t=e.timelineObject,a=e.adContext,o=t.adm,r=this.props.appContext.features;o&&a.sendImpressionADMBeacon(o),r.redpopUseDwellTimeImpression||this.logImpression({eventName:d.JE.Impression}),((null==t?void 0:t.displayType)===c.y.Sponsored||(0,p.WN)(t))&&(r.redpopUseDwellTimeImpression&&this.logImpression({eventName:d.JE.Impression}),this.viewableImpressionTimer=window.setTimeout((()=>{this.logImpression({eventName:d.JE.ViewableImpression}),this.viewableImpressionTimer=null}),n))}})),s()(this,"logImpression",(e=>{var t=e.eventName,n=this.props.appContext.logImpression,a=this.props.timelineObject;n({placementId:a.placementId,displayType:a.displayType,serveId:a.serveId,eventName:t,eventDetails:this.provideEventDetails(a,!0)})})),s()(this,"logImpressionWithDwellTime",(e=>{var t,n=this.props.appContext.logImpression,a=this.props.timelineContext.displayMode,r=this.props.timelineObject,s=r.placementId,i=r.displayType,l=r.serveId,u=r.shouldShowTip;(null==r?void 0:r.displayType)!==c.y.Sponsored&&n({placementId:s,displayType:i,serveId:l,eventName:d.JE.Impression,eventDetails:o()(o()({},this.provideEventDetails(r,!0)),{},{post_id:r.id,trackable_type:r.objectType,dwell_time:e,display_mode:a,blog_id:null===(t=r.blog)||void 0===t?void 0:t.uuid,has_tip:!!u})})})),s()(this,"didEndIntersecting",(()=>{this.viewableImpressionTimer&&(window.clearTimeout(this.viewableImpressionTimer),this.viewableImpressionTimer=null)})),s()(this,"setImpressionsEnabled",(e=>{var t=this.areImpressionsEnabled;this.areImpressionsEnabled=e,t!==e&&e&&this.isIntersecting&&this.didBeginIntersecting()})),s()(this,"setProvideEventDetails",(e=>this.provideEventDetails=e))}render(){var n=this.props.timelineObject,a=n.placementId,r=n.serveId,s=n.displayType,l=o()(o()({},this.props),t?{setImpressionsEnabled:this.setImpressionsEnabled,setProvideEventDetails:this.setProvideEventDetails,isInView:this.isInView,isApproachingView:this.isApproachingView,setInViewCallback:this.setInViewCallback,setApproachingViewCallback:this.setApproachingViewCallback}:{}),d=i.createElement(e,l);return a||r||s===c.y.Sponsored?i.createElement(y,{beforeEnterView:this.beforeEnterView,onEnterView:this.onEnterView,logDwelltimeImpression:this.logImpressionWithDwellTime},d):d}componentDidUpdate(e){this.props.timelineObject.placementId!==e.timelineObject.placementId&&this.didEndIntersecting()}componentWillUnmount(){this.viewableImpressionTimer&&window.clearTimeout(this.viewableImpressionTimer)}}return(0,g.D)(a,"".concat(e.name,"WithImpressionLogging")),(0,h.X9)(a,{appContext:!0,adContext:!0,timelineContext:!0})}var y=e=>{var t=e.children,n=e.beforeEnterView,a=e.onEnterView,o=e.logDwelltimeImpression,r="".concat(Math.max(window.innerHeight+270,700),"px"),s=(0,m.bp)().features;return i.createElement("div",{className:f.Z.impressionLoggingWrapper},s.redpopUseDwellTimeImpression&&i.createElement(E,{logImpression:o}),i.createElement(l.df,{onChange:a,className:f.Z.hiddenObserver}),i.createElement(l.df,{onChange:n,rootMargin:"0px 0px ".concat(r," 0px"),triggerOnce:!0,className:f.Z.hiddenObserver}),t)}},62932:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>ea,l9:()=>Xn});var a=n(92969),o=n.n(a),r=n(17908),s=n.n(r),i=n(95004),l=n(93622),c=n(47807),d=n(64018),u=n(2978),p=n(2540),m=n(62513),h=n.n(m);const g="ScibS",v="ve9db",b="uQnmG",f="zGQaS",E="iqdyd",C="LGuOI";const y=function(e){var t,n,a=e.timelineObject,o=(0,p.bp)().logEvent,r=a.newPostsCount,s=a.newPostsCountInt,h=null!==(t=a.followersCount)&&void 0!==t?t:"0",y=null!==(n=a.followersCountInt)&&void 0!==n?n:0,w=!!a.showFollowersCount,k=!!a.showNewPostsCount;return i.createElement("div",{key:a.hubName,className:g},i.createElement(c.Z,{className:v,tagName:a.hubName,onClick:()=>{o({eventName:u.JE.HeaderTapped,eventDetails:{tag:a.hubName}})}},i.createElement("div",{className:b,style:{backgroundImage:"linear-gradient(".concat(m.transparentBlack7,", ").concat(m.transparentBlack65,'), url("').concat(a.headerImage,'")')}},i.createElement("div",{className:f},"#",a.hubName),i.createElement("div",{className:E},w&&i.createElement(d.M2,{comment:"The number of followers this topic has. Placeholder is the count of followers",exemptNumberKeyFromParamCheck:!0,components:{b:i.createElement("b",null)},params:{followersCount:h},number:y},i.createElement(d.CJ,null,"[followersCount] follower"),i.createElement(d.CN,null,"[b][followersCount][/b] followers")),w&&k&&" / ",k&&i.createElement(d.M2,{comment:"The number of posts this topic has had recently. Placeholder is the count of posts",exemptNumberKeyFromParamCheck:!0,components:{b:i.createElement("b",null)},params:{newPostsCount:r},number:s},i.createElement(d.CJ,null,"[newPostsCount] recent post"),i.createElement(d.CN,null,"[b][newPostsCount][/b] recent posts"))))),i.createElement(l.Z,{tag:a.hubName,isFollowed:a.isFollowed,pageName:u.$O.SEARCH,className:C}))};var w=n(95537),k=n(20793),P=n(60505),S=n(43893),T=n.n(S),x=n(4777),N=n(18602),I=n(78315),R=n(76097),M=n(90976),A=n(36643),B=n(29252),Z=n(94966),L=n.n(Z);const O={tagInfoRow:"u8J1W",tagLink:"MgGEG",tagImage:"ZqH9E",tagDescription:"wVZAK",tagName:"hIUaH",postsCount:"M523y",tagFloatingButton:"hc4QI"};var D=(0,p.HJ)((function(e){var t,n,a=e.timelineObject,o=e.appContext,r=o.apiFetch,s=o.isLoggedIn,l=o._t,m=e.location,h=(0,p.bp)().logEvent,g=(0,i.useState)(void 0),v=T()(g,2),b=v[0],f=v[1],E=null!=b?b:a.isFollowed,C=a.newPostsCount,y=a.newPostsCountInt,w=null!==(t=a.followersCount)&&void 0!==t?t:"0",k=null!==(n=a.followersCountInt)&&void 0!==n?n:0,P=!!a.showFollowersCount,S=!!a.showNewPostsCount,x=null;return S?x=i.createElement(d.M2,{comment:"The number of posts this topic has had recently. Placeholder is the count of posts",exemptNumberKeyFromParamCheck:!0,components:{b:i.createElement("b",null)},params:{newPostsCount:C},number:y},i.createElement(d.CJ,null,"[newPostsCount] recent post"),i.createElement(d.CN,null,"[b][newPostsCount][/b] recent posts")):P&&(x=i.createElement(d.M2,{comment:"The number of followers this topic has. Placeholder is the count of followers",exemptNumberKeyFromParamCheck:!0,components:{b:i.createElement("b",null)},params:{followersCount:w},number:k},i.createElement(d.CJ,null,"[followersCount] follower"),i.createElement(d.CN,null,"[b][followersCount][/b] followers"))),i.createElement("div",{key:a.id,className:O.tagInfoRow},i.createElement(c.Z,{className:O.tagLink,tagName:a.hubName,onClick:()=>{h({eventName:u.JE.SearchResultsTagElementTap,eventDetails:{tag:a.hubName}})}},i.createElement("div",{className:O.tagImage},i.createElement(N.Pp,{imageResponse:[{url:a.image,width:L().desktopPostAvatarSize,height:L().desktopPostAvatarSize}],isSquare:!0,altText:a.hubName,sizes:"".concat(L().desktopPostAvatarSize,"px")})),i.createElement("div",{className:O.tagDescription},i.createElement("div",{className:O.tagName},"#",a.hubName),i.createElement("div",{className:O.postsCount},x))),i.createElement("div",{className:O.tagFloatingButton},i.createElement("a",{className:O.tagFollowButton,onClick:e=>{s&&(null==e||e.preventDefault(),E?(0,A.ZP)(r).unfollowTag(a.hubName,u.$O.SEARCH).fetch().then((()=>f(!1))):(0,A.ZP)(r).followTag(a.hubName,u.$O.SEARCH).fetch().then((()=>f(!0))))},href:(0,I.gZ)({formToShow:R.c.Register},{redirect_to:null==m?void 0:m.pathname,source:M.yy.HubsRelatedTagsFollowButton})},l(E?"Unfollow":"Follow"))))})),F=(0,x.EN)(D);(0,B.D)(F,D.displayName);const _=F;var H=n(24150),U=n(95394),z=n.n(U),V=n(58665),W=n.n(V),G=n(81059),q=n(89143),j=n(15758),K=n(52385),Q=n(51742),J=n(90553),Y=n(35216),X=n(16455);const $="Te4Pg",ee="RUFdS",te="YEJRy",ne="GVCZ4",ae="CFBrV",oe="bdzlZ";class re extends i.Component{constructor(){super(...arguments),o()(this,"renderOption",((e,t,n,a)=>{var o=e.text,r=e.displayType,s=e.link,l=s.type,c=s.href,d={className:(0,Q.Z)({[ne]:!0,[ae]:r===K.pI.Selected,[oe]:r===K.pI.Discreet}),key:o,label:o},u={};n&&t&&(u.backgroundColor=r===K.pI.Selected?a:t,u.color=r===K.pI.Selected?t:a);var p=null,m=()=>{this.onActionClick(l,e)};switch(l){case j.U.Web:p=i.createElement("a",z()({},d,{href:c,target:"_blank",rel:"noopener",onClick:m,style:u}),o);break;case j.U.Action:p=i.createElement(G.Z,z()({},d,{style:u,onClick:m}),o)}return p})),o()(this,"getDismissOnClick",(e=>e.onTap===K.sq.Dismiss?this.dismiss:W())),o()(this,"dismiss",(e=>{var t=this.props,n=t.timelineObject,a=t.timelineContext.onRemoveTimelineObject,o=t.toastContext.toggleToast;null==a||a({id:n.id}),null!=e&&e.response&&(null==o||o(e.response.message))})),o()(this,"onActionClick",((e,t)=>{var n=(0,X.w)(this.props.timelineObject),a=this.props.appContext.apiFetch;switch(this.logOptionEvent(t.onTap===K.sq.Dismiss,t.text,null==n?void 0:n.bannerId),e){case j.U.Web:this.getDismissOnClick(t)();break;case j.U.Action:var o=(0,Y.Z)(t.link,a,this.getDismissOnClick(t));o&&o()}})),o()(this,"logOptionEvent",((e,t,n)=>{this.props.appContext.logEvent({eventName:u.JE.BannerActionClick,eventDetails:{is_dismiss:e,action_label:t,banner_id:n}})}))}render(){var e=this.props.timelineObject,t=(0,X.w)(e);if(!t)return null;var n=t.title,a={};return t.backgroundColor&&t.textColor&&(a.backgroundColor=t.backgroundColor,a.color=t.textColor),i.createElement("div",{className:$,style:a},i.createElement("h3",{className:ee},n),this.renderOptions())}renderOptions(){var e=this.props.timelineObject,t=(0,X.w)(e),n=t.options,a=t.buttonColor,o=t.backgroundColor,r=t.textColor;return n&&0!==n.length?i.createElement("div",{className:te},n.map((e=>this.renderOption(e,a,o,r)))):null}}var se=(0,J.X9)(re,{appContext:!0,toastContext:!0,timelineContext:!0});const ie=(0,q.s)(se);var le=n(97187);const ce={answerTimeBanner:"tDrb8",leftContent:"r46S_",image:"EhYXO"};const de=(0,p.HJ)((e=>{var t,n=e.timelineObject,a=n.text,o=n.iconUrl,r=n.links,s=n.placementId,l=e.appContext.logEvent,c=(0,i.useCallback)((()=>{l({eventName:u.JE.Click,eventDetails:{placement_id:s}})}),[l,s]),d=o?[{url:o,height:64,width:64}]:null;return i.createElement("a",{className:ce.answerTimeBanner,href:null===(t=r.destination)||void 0===t?void 0:t.href,target:"_blank",rel:"noopener",onClick:c},i.createElement("div",{className:ce.leftContent},d&&i.createElement("figure",{className:ce.image},i.createElement(N.Pp,{sizes:"25px",imageResponse:d,isSquare:!0})),i.createElement("div",{className:ce.description},a)),i.createElement("div",{className:ce.caret},i.createElement(le.iL,{fill:h().paletteTransparentWhite65,size:{height:13,width:13}})))}));var ue=n(85313),pe=n.n(ue),me=n(45342),he=n(79793),ge=n(33264);const ve="wtNDp",be="r6SOU";const fe=e=>{var t=e.className,n=e.rowTheme,a=e.avatar,o=e.avatarShape,r=e.blogName,s=e.blogTitle,l=e.blogUrl,c=e.onFollow,d=e.isFollowed,u=i.createElement(he.Z,{following:!!d,blogName:r,blogUrl:l,onFollow:c,className:(0,Q.Z)({[ge.Z.blogRowFollowButton]:!0,[be]:!0}),showUnfollowText:!0}),p={avatar:a,avatarShape:o,blogName:r,blogTitle:s,blogUrl:l};return i.createElement("div",{className:(0,Q.Z)(pe()({[ve]:!0},t&&{[t]:!0}))},i.createElement(me.ZP,z()({},p,{floatingButton:u,theme:n||me.CK.Dark,openBlogCard:me.T6.Body,isMobile:!1})))},Ee="l6TJ6";const Ce=(0,p.HJ)((function(e){var t,n=e.timelineObject,a=e.appContext.isLoggedIn,o=(0,i.useState)(void 0),r=T()(o,2),s=r[0],l=r[1],c=n.resources[0];if(!c)return null;var d=null!=s?s:c.followed;return i.createElement(fe,{key:n.id,className:Ee,avatar:c.avatar,avatarShape:null===(t=c.theme)||void 0===t?void 0:t.avatarShape,blogName:c.name,blogTitle:c.title,blogUrl:c.url,isFollowed:d,onFollow:()=>{a&&l(!d)}})}));var ye=n(31107);const we={ctaCard:"YPDbZ",ctaContent:"vUbJS",withImage:"Qb2yW",text:"oPeFl",textPositionTop:"c49bG",textPositionBottom:"u0WK9",button:"KQzUb",ctaAction:"ZGCkJ"};const ke=e=>{var t,n,a,o=e.ctaCard,r=e.onActionClick,s=e.isDoingAction,l=void 0!==s&&s,c=!(null===(t=o.image)||void 0===t||!t.response),d=(null===(n=o.image)||void 0===n?void 0:n.textPosition)||K.Bk.Middle;return i.createElement("div",{className:we.ctaCard},i.createElement("div",{className:(0,Q.Z)({[we.ctaContent]:!0,[we.withImage]:c,[we.textPositionTop]:d===K.Bk.Top,[we.textPositionMiddle]:d===K.Bk.Middle,[we.textPositionBottom]:d===K.Bk.Bottom})},(null===(a=o.image)||void 0===a?void 0:a.response)&&i.createElement(N.Q3,{imageResponse:o.image.response,altText:o.text,sizes:""}),i.createElement("p",{className:we.text},o.text)),i.createElement(G.Z,{disabled:l,className:we.ctaAction,onClick:r,wrapperClassName:we.button},o.buttonText))};var Pe=n(12542);const Se="AYRVj",Te="jCB92",xe="FYQEO",Ne="HIc07";const Ie=e=>{var t=e.timelineObject,n=t.campaignName,a=t.dismissal,o=t.elements,r=t.id,s=(0,i.useState)(!1),l=T()(s,2),c=l[0],d=l[1],h=(0,i.useState)(0),g=T()(h,2),v=g[0],b=g[1],f=(0,p.bp)(),E=f.logEvent,C=f.apiFetch,y=(0,Pe.i)().onRemoveTimelineObject,w=(0,x.k6)(),k=()=>o[v],P=e=>{E({eventName:u.JE.TimeLineCTAClick,eventDetails:{is_dismissal:e,campaign_name:n,card_index:v}})},S=()=>y({id:r}),N=()=>{var e=k().action;if(P(!1),e)if(e.type===j.U.Web){var t=a.options[0];I(t.link,R)}else I(e,M);else M()},I=(e,t)=>{d(!0),(0,Y.Z)(e,C,t)()},R=()=>{var e=k().action.href;e&&w.push(e)},M=()=>{o.length===v+1?S():(d(!1),b(v+1))};return i.createElement("div",{className:Se},o.map(((e,t)=>i.createElement("div",{className:(0,Q.Z)({[xe]:t===v,[Te]:!0}),key:t},i.createElement(ke,{isDoingAction:c,ctaCard:e,onActionClick:N})))),i.createElement(G.Z,{disabled:c,className:Ne,onClick:()=>{var e=((e,t)=>{var n=pe()(pe()({},e.bodyParams),{},{cardIndex:t.toString()});return pe()(pe()({},e),{},{bodyParams:n})})(a.options[0].link,v);P(!0),I(e,S)}},i.createElement(ye.Z,{fill:m.paletteTransparentWhite13})))};var Re=n(7310),Me=n(43206);const Ae="r64Rl",Be="ndiCy",Ze="h6feK";const Le=e=>{var t=e.timelineObject,n=t.lineColor,a=t.labelContentBlock,o={borderColor:n};return i.createElement("div",{className:Ae},i.createElement("div",{className:Ze,style:o}),i.createElement("div",{className:Be},(0,Me.Q7)(a.text,a.formatting)),i.createElement("div",{className:Ze,style:o}))};var Oe=n(42516),De=n(80100),Fe=n(76155);const _e="XJ7bf";const He=e=>{var t=e.location,n=void 0===t?De.E.DASHBOARD:t,a=e.currentAd,o=e.supplyOpportunityInstanceId,r=e.streamPosition,s=e.presentationStyle;return i.createElement("div",{className:_e},a&&!(0,K.uz)(a)&&i.createElement(Oe.Z,{postState:Fe.hA.Published,showsFollowButton:!1,showsSponsored:!0,isAd:!0,isFollowingPoster:!1,isFollowingReblogger:!1}),i.createElement(k.ZP,{location:n,streamPosition:r,ad:a,supplyOpportunityInstanceId:o,presentationStyle:s}))};var Ue=n(45403),ze=n(4003),Ve=n(1172),We=n(49238),Ge=n(20011),qe=n(60841),je=n(35811),Ke=n(54016),Qe=n(33016);const Je="pafF1";const Ye=()=>{var e=(0,p.bp)(),t=e.features,n=e.logEvent,a=(0,x.TH)(),o=(0,x.$B)(),r=(0,Ke.b)(a.search),s=(0,Ge.Ud)(o,r,We.kq,!!t[qe.T.TagUrlCleanup]),l=(0,Qe.w)(I.o_.search,pe()(pe()({},We.kq),{},{searchTerm:s.searchTerm,selectedTime:je.Ak.AllTime}),We.kq,!!t[qe.T.TagUrlCleanup]);return i.createElement(Ve.Z,{to:l,className:Je,onClick:()=>{n({eventName:u.JE.SearchResultsClearFiltersCtaTap})}},i.createElement(d.ZP,{comment:"Action to reset the filters on the search page"},"Clear filters"))};var Xe=n(3901),$e=n(54640),et=n(57597),tt=n(60614),nt=n(63187),at=n(75369),ot=n(61241),rt=n(21308),st=n(47740),it=n(7544),lt=n(44210),ct=n(57284),dt=n(11683);const ut="yH8FA",pt="D8y52",mt="L3Odu";const ht=e=>{var t=e.subscriberInfo,n=t.planOwner,a=t.blogName,o=e.showRefundRequest,r=(0,p.bp)()._c,s=(0,dt.h)().openConversationWindow;return i.createElement("div",{className:ut},i.createElement(lt.Z,{linkTo:(0,ct.SS)({peeprBlogname:a}),keepDropdownOpenAfterClick:!1,className:(0,Q.Z)([pt]),key:"View blog"},r("Menu item to view the blog","View Blog")),i.createElement(lt.Z,{onClick:()=>{s({selectedBlogName:n,otherParticipantName:a})},keepDropdownOpenAfterClick:!0,className:(0,Q.Z)([pt]),key:"Message"},r("Menu item to message blog","Message")),o&&i.createElement(lt.Z,{keepDropdownOpenAfterClick:!0,className:(0,Q.Z)([pt,mt]),key:"View refund"},r("Menu item to view refund request","View refund request")))},gt="j99wS",vt="bN_1q",bt="elCGV",ft="xWYkn",Et="d5xXI",Ct="uF5P9",yt="tGth_",wt="EWLNr",kt="ahHwA";const Pt=e=>{var t,n,a,o,r,s,l=e.subscriberInfo,c=e.subscriberInfo,d=c.avatar,u=c.blogName,m=c.subscription,g=e.showRefundRequest,v=(0,p.bp)(),b=v._getLocaleDateString,f=v._getPriceInCurrency;return i.createElement("div",{className:gt},i.createElement("div",{className:vt},i.createElement($e.Z,{className:bt,avatarShape:ot.o.Square,imageResponse:d,dimension:Z.radarAvatarSize,name:u,showBlogCard:!0}),i.createElement(et.Z,{blogName:u,showBlogCard:!0},i.createElement("span",{className:ft},u))),i.createElement("span",{className:Et},(r=m.startTime,s=new Date(1e3*r),b(s,rt.Cx.Notes))),i.createElement("span",{className:Ct},(t=m.price,n=m.currencyCode,a=m.periodAbbreviation,o=(0,it.T4)(t,n,f),"".concat(o,"/").concat(a))),i.createElement("div",{className:yt},g&&i.createElement("div",{className:kt},i.createElement(nt.Z,{fill:h().paletteOrange})),i.createElement(at.Z,{type:st.Oj.Click,render:()=>i.createElement(ht,{subscriberInfo:l,showRefundRequest:g}),position:st.I2.BottomEnd,width:"216px",height:"auto",isChromeless:!0},i.createElement(G.Z,{wrapperClassName:wt},i.createElement(tt.b,{fill:h().paletteGray65})))))},St="HdJYO",Tt="fdt9t",xt="mncDp",Nt="B73mx",It="Z8zJd",Rt="FzIve",Mt="g8mTb",At="kmBcT";const Bt=e=>{var t=e.subscriberInfo,n=e.subscriberInfo,a=n.avatar,o=n.blogName,r=n.subscription,s=r.status,l=s===Xe.Ti.Cancelled?i.createElement(d.ZP,null,"Cancelled"):s===Xe.Ti.OnHold?i.createElement(d.ZP,null,"On-Hold"):i.createElement(d.ZP,null,"Expired");return i.createElement("div",{className:St},i.createElement("div",{className:Tt},i.createElement($e.Z,{className:xt,avatarShape:ot.o.Square,imageResponse:a,dimension:Z.radarAvatarSize,name:o,showBlogCard:!0}),i.createElement(et.Z,{blogName:o,showBlogCard:!0},i.createElement("span",{className:Nt},o))),i.createElement("span",{className:It},(0,it.o$)(r,"endTime")),i.createElement("span",{className:Rt},l),i.createElement("div",{className:Mt},i.createElement(at.Z,{type:st.Oj.Click,render:()=>i.createElement(ht,{subscriberInfo:t,showRefundRequest:!1}),position:st.I2.BottomEnd,width:"216px",height:"auto",isChromeless:!0},i.createElement(G.Z,{wrapperClassName:At},i.createElement(tt.b,{fill:h().paletteGray65})))))};const Zt=e=>{var t=e.timelineObject,n=t.subscription.status;return n===Xe.Ti.Active||n===Xe.Ti.Pending||n===Xe.Ti.PendingCancel?i.createElement(Pt,{subscriberInfo:t,showRefundRequest:!1}):i.createElement(Bt,{subscriberInfo:t})};var Lt=n(38012),Ot=n(27884),Dt=n.n(Ot),Ft=n(19195),_t=n.n(Ft),Ht=n(22123),Ut=n(24988),zt=n(88910),Vt=n(53680);const Wt="UPJCY",Gt="RKpvd",qt="yi1kb",jt="_IvWq",Kt="dnt9O";const Qt=e=>{var t=e.onDismiss,n=e.onCancelClick,a=e.memberPerks,o=e.blogName,r=e.subscription,s=(0,p.bp)()._t,l=(0,it.o$)(r,"nextBillingTime");return i.createElement(Ht.Z,{centerContent:!0,onGlassClick:t},i.createElement(Ut.ZP,{disable:Ut.z9}),i.createElement(zt.Z,{className:Wt,title:s("Now wait just a minute"),body:i.createElement("div",null,s("Are you sure you want to stop supporting %1$s? You'll miss out on exclusive content plus...",o),i.createElement("div",{className:Gt},null==a?void 0:a.map(((e,t)=>i.createElement("span",{className:qt,key:t},i.createElement(Vt.Z,{className:jt},e)))))),buttons:[{text:s("Nevermind"),onClick:t,buttonStyle:zt.X.Confirm},{text:s("Cancel subscription"),onClick:n,buttonStyle:zt.X.Cancel}],footer:i.createElement("div",{className:Kt},s("Your subscription will still be active until the end of your current billing period. Cancellation will be effective on %1$s.",l))}))};var Jt=n(69),Yt=n(60275),Xt=n(70970),$t=n(76623);const en={items:"wFg_m",item:"tOYA1",button:"uV7We",toggle:"LyzRP",cancelButton:"iiHzj"};const tn=e=>{var t=e.blogName,n=e.subscription,a=(0,p.bp)(),o=a._c,r=a._t,s=a.apiFetch,l=a.getUserInfo,c=a.wwwBaseUrl,u=n.canCancel,m=n.canRepurchase,g=n.isManagedByTumblrpay,v=n.memberPerks,b=(0,dt.h)().openConversationWindow,f=(0,Yt.V)().toggleToast,E=(0,i.useState)(!1),C=T()(E,2),y=C[0],w=C[1],k=(0,i.useState)(!1),P=T()(k,2),S=P[0],x=P[1],N=function(){var e=Dt()(_t().mark((function e(){var n,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:n=e.sent,a=(0,Xt.Z)(n.blogs),b({selectedBlogName:null==a?void 0:a.name,otherParticipantName:t});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=()=>{x(!0),(0,$t.Z)(s,t,Xe.zF.Month,window.location.host).fetch((e=>{var t=e.response;window.location.assign(t.url)})).catch((()=>{x(!1),f(r("Something went wrong. Please try again."),Jt.p.Error)}))},M=(0,i.useCallback)((()=>{(0,A.ZP)(s).unsubscribeToBlogMembership(t).fetch((()=>{w(!1),window.location.reload()})).catch((()=>{w(!1),f(r("Something went wrong. Please try again."),Jt.p.Error)}))}),[t,r,f,s]),B=()=>w(!y);return i.createElement("div",{className:en.popover},i.createElement(at.Z,{width:250,height:"auto",usePortals:!0,position:st.I2.BottomEnd,component:i.createElement("div",{className:en.items},i.createElement(lt.Z,{className:en.item,linkTo:(0,I.nh)({blogName:t})},i.createElement(d.ZP,{comment:"Button linking to the user's creator profile"},"View Profile")),i.createElement(lt.Z,{className:en.item,isWrappingButton:!0},i.createElement(G.Z,{wrapperClassName:"".concat(en.button," ").concat(en.messageButton),onClick:N},i.createElement(d.ZP,{comment:"Opens a messaging window to start a conversation with blog owner"},"Message"))),i.createElement(lt.Z,{className:en.item,linkTo:"".concat(c,"/support"),alwaysExternalLink:!0},i.createElement(d.ZP,null,"Contact support")),u&&g&&i.createElement(lt.Z,{className:en.item,isWrappingButton:!0},i.createElement(G.Z,{wrapperClassName:"".concat(en.button," ").concat(en.cancelButton),onClick:B},i.createElement(d.ZP,null,"Cancel subscription"))),m&&g&&i.createElement(lt.Z,{className:en.item,isWrappingButton:!0,isDisabled:S},i.createElement(G.Z,{wrapperClassName:"".concat(en.button),onClick:R},i.createElement(d.ZP,null,"Renew subscription"))))},i.createElement(G.Z,{wrapperClassName:en.toggle,label:o("Opens a menu containing a list of actions to perform on a subscription","Subscription actions")},i.createElement(tt.b,{fill:h().paletteGray65}))),y&&i.createElement("div",{className:en.cancellationContainer},i.createElement(Qt,{memberPerks:v,subscription:n,onDismiss:B,onCancelClick:M,blogName:t})))},nn="lwm3X",an="YK1By",on="Ndj6c",rn="Ju3ao",sn="yQEkv",ln="Tk6kK",cn="CgUNj",dn="KCnB5",un="bs37e",pn="WIcuN";const mn=e=>{var t=e.subscriptionInfo,n=t.avatar,a=t.blogName,o=t.subscription,r=o.status,s=(0,p.bp)()._t,l=(0,it.VU)(o),c=(0,it.o$)(o,"endTime"),u=(0,it.o$)(o,"nextBillingTime");return i.createElement("div",{className:nn},i.createElement("div",{className:an},i.createElement($e.Z,{className:on,avatarShape:ot.o.Square,imageResponse:n,dimension:Z.subscriptionAvatarSize}),i.createElement("span",{className:rn},a)),r!==Xe.Ti.PendingCancel&&i.createElement("span",{className:(0,Q.Z)([ln,sn])},l),i.createElement("span",{className:(0,Q.Z)({[sn]:!0,[dn]:r!==Xe.Ti.PendingCancel,[cn]:r===Xe.Ti.PendingCancel})},r===Xe.Ti.PendingCancel?i.createElement(d.ZP,{comment:"cancellation effective date",params:{date:c}},"Cancellation effective [date]"):u),i.createElement("div",{className:un},i.createElement(tn,{subscription:o,blogName:a})),r===Xe.Ti.PendingCancel&&i.createElement(Lt.Z,{wrapperClassName:pn,theme:Lt.o.Info,title:s("Your Post+ subscription has been cancelled"),message:i.createElement(d.ZP,{comment:"Cancellation message",params:{blogname:a,date:c},components:{bold:i.createElement("strong",null)}},"This subscription will still be active until the end of your current billing period. Enjoy exclusive +Posts and perks from [blogname] until [bold][date][/bold].")}))},hn="MMaPu",gn="E8t7S",vn="vkWQP",bn="PYsHz",fn="JplSy",En="GdfMv",Cn="bKR7d";const yn=e=>{var t,n=e.subscriptionInfo,a=n.avatar,o=n.blogName,r=n.subscription,s=r.status,l=(0,it.o$)(r,"endTime");switch(s){case Xe.Ti.Cancelled:t=i.createElement(d.ZP,{comment:"cancelled on date",params:{date:l}},"Cancelled [date]");break;case Xe.Ti.OnHold:t=i.createElement(d.ZP,{comment:"on-hold effective date",params:{date:l}},"On-Hold since [date]");break;default:t=i.createElement(d.ZP,{comment:"expired on date",params:{date:l}},"Expired [date]")}return i.createElement("div",{className:hn},i.createElement("div",{className:gn},i.createElement($e.Z,{className:vn,avatarShape:ot.o.Square,imageResponse:a,dimension:Z.subscriptionAvatarSize}),i.createElement("span",{className:bn},o)),i.createElement("span",{className:fn},t),i.createElement("div",{className:Cn},i.createElement(tn,{subscription:r,blogName:o})),s===Xe.Ti.OnHold&&i.createElement(Lt.Z,{wrapperClassName:En,theme:Lt.o.Info,message:i.createElement(d.ZP,null,"This subscription is on hold due to a payment issue. Please check your payment information.")}))};const wn=e=>{var t=e.timelineObject,n=t.subscription.status;return n===Xe.Ti.Active||n===Xe.Ti.Pending||n===Xe.Ti.PendingCancel?i.createElement(mn,{subscriptionInfo:t}):i.createElement(yn,{subscriptionInfo:t})};var kn,Pn=n(22909),Sn=n(61719),Tn=n(7979),xn=n(66438),Nn=n(46197);!function(e){e.Image="image",e.Video="video"}(kn||(kn={}));var In=n(57431),Rn=n.n(In);const Mn="njwip",An="Z4Uny",Bn="kyVuf",Zn="Cewkz",Ln="xACoA",On="hM19_",Dn="erLM8",Fn="RPM5v",_n="nVX2y",Hn="sOfX8";var Un=["ad.doubleclick.net"];class zn extends i.Component{constructor(){super(...arguments),o()(this,"provideEventDetails",Nn.L),o()(this,"getVideoCrossOrigin",(e=>{var t=e?new URL(e).hostname:"";if(!(Un.indexOf(t)>-1))return"anonymous"})),o()(this,"renderVideoTakeover",(e=>{var t=this.props.timelineObject,n=t.text,a=t.sponsoredDayVideoDisableAutoLooping,o=t.sponsoredDayVideoDisableSound,r=e.height,s=e.width,l=e.url,c={height:r,width:s,url:l};return i.createElement(i.Fragment,null,this.renderCTALinkContent(i.createElement("div",{className:Zn,style:{paddingBottom:"".concat(r/s*100,"%")}},i.createElement("div",{className:(0,Q.Z)([Ln,w.CS])},i.createElement(Tn.Z,{media:c,minHeight:r/s*100,hasNoMaxUndockedHeight:!0,isVideoSponsoredDay:!0,disableAutolooping:a,soundDisabled:o,useViewabilityTracker:!0,timelineObject:t,playerStyle:{borderRadius:Rn().borderRadiusForSmallElements},videoElementProps:{crossOrigin:this.getVideoCrossOrigin(l)}}))),this.logClickOnBanner(u.JE.VideoClickThrough)),this.renderCTALinkContent(i.createElement("div",{className:Dn},n),this.logClickOnButton,On),this.renderSponsoredIndicator())})),o()(this,"renderImageTakeover",(e=>{var t=this.props.timelineObject,n=t.text,a=t.displayType,o=!n||0===n.trim().length,r=i.createElement(i.Fragment,null,i.createElement(Pn.Z,{imageResponse:e,sizes:"(max-width: ".concat(L().phoneResponsiveMaxBreakpoint,"px) 100vw, ").concat(L().postWidth,"px"),className:(0,Q.Z)({[_n]:!0,[Hn]:o})}),!o&&i.createElement("span",{className:Bn},n," ",i.createElement(le.iL,{size:{width:12,height:12}})));return i.createElement(i.Fragment,null,i.createElement("div",{className:(0,Q.Z)([Mn,w.CS]),style:{paddingBottom:"40%"}},this.renderCTALinkContent(r,this.logClickOnBanner(u.JE.PhotoClickThrough),An),this.renderSponsoredIndicator()),a!==xn.y.None&&i.createElement(w.ZP,{timelineObject:this.props.timelineObject}))})),o()(this,"renderCTALinkContent",((e,t,n)=>{var a=this.props.timelineObject,o=a.sponsoredDayClickthrough,r=a.blog,s={children:e,onClick:t,className:n};return o&&r?i.createElement(et.Z,z()({blogName:r.name,blog:r,showBlogCard:!1},s)):i.createElement("a",z()({href:this.getDestinationLink(),target:"_blank",rel:"noopener"},s))})),o()(this,"renderSponsoredIndicator",(()=>{var e=this.props.timelineObject,t=e.displayType,n=e.sponsoredBadgeUrl;return t===xn.y.Sponsored&&i.createElement("div",{className:Fn},i.createElement(Sn.Z,{link:n,color:h().white}))})),o()(this,"logClickOnBanner",(e=>()=>{this.logClick(u.JE.Click),this.logClick(e)})),o()(this,"logClickOnButton",(()=>{this.logClick(u.JE.Click),this.logClick(u.JE.CTAButton)})),o()(this,"logClick",(e=>{var t=this.props,n=t.timelineObject;(0,t.appContext.logEvent)({eventName:e,eventDetails:pe()({placement_id:n.placementId},this.provideEventDetails(n,!0))})})),o()(this,"getDestinationLink",(()=>{var e,t;return null===(e=this.props.timelineObject.links)||void 0===e||null===(t=e.destination)||void 0===t?void 0:t.href}))}render(){var e=this.props.timelineObject.assets;if(!e||!this.getDestinationLink())return null;var t=e.reduce(((e,t)=>{switch(t.type){case kn.Video:e.videoAsset=t;break;case kn.Image:e.imageAssets.push(t)}return e}),{imageAssets:[]}),n=t.videoAsset,a=t.imageAssets;return n?this.renderVideoTakeover(n):!!a.length&&this.renderImageTakeover(a)}}var Vn=(0,J.X9)(zn,{appContext:!0,adContext:!0});const Wn=(0,q.s)(Vn),Gn="HphhS";const qn=e=>{var t=e.timelineObject.text;return i.createElement("div",{className:Gn},t)};var jn=n(40310),Kn=n(95132),Qn=n(17304),Jn=n(22320),Yn=n(93678),Xn=()=>3;class $n extends i.Component{constructor(){super(...arguments),o()(this,"state",{hasErrored:!1}),o()(this,"assignRef",(e=>this.ref=e)),o()(this,"getPresentationStyle",(e=>{var t=this.props,n=t.presentationStyle,a=t.displayMode;return n||(a===K.mt.Masonry?Jn.Z.masonry:e===Qn.ZP.Desktop?Jn.Z.desktop:Jn.Z.mobile)})),o()(this,"toggleExpanded",(()=>{this.props.toggleExpandedInGrid&&this.props.toggleExpandedInGrid(this.props.timelineObject,Xn())}))}shouldComponentUpdate(e,t){return!s()(e,this.props)||t.hasErrored!==this.state.hasErrored}componentDidCatch(e){this.setState({hasErrored:!0});var t=this.props.timelineObject,n=t.id,a=t.objectType,o="[TimelineObject error: object type ".concat(a," with ID ").concat(n,"] ").concat(e.message);window.dispatchEvent(new ErrorEvent("error",{error:e,message:o}))}render(){if(this.state.hasErrored)return null;var e=this.props,t=e.timelineObject,n=e.displayMode;if((0,K.xT)(t)&&t.isNsfw&&!t.blog.isMember)return null;switch(n){case K.mt.Grid:return this.renderInGrid();case K.mt.List:default:return this.renderInList()}}renderInList(e){var t=this.props,n=t.timelineObject,a=t.className;if(n.isExpandedInGrid&&!e)return null;var o=(0,K.xT)(n)||(0,K.ET)(n)?(0,Q.Z)({[Yn.Z.sortDragDropTarget]:n.queuedState===Fe.SH.Queued,[Yn.Z.listTimelineObject]:!0,[Yn.Z.animateOut]:n.animateOut,[Yn.Z.masonryTimelineObject]:this.props.displayMode===K.mt.Masonry}):(0,K.g5)(n)?(0,Q.Z)({[Yn.Z.listTimelineObject]:!0,[Yn.Z.animateOut]:n.animateOut}):(0,K.Ry)(n)?(0,Q.Z)([Yn.Z.listTimelineObject,Yn.Z.paywallTimelineObject]):Yn.Z.listTimelineObject,r=this.renderObjectInList();return r&&i.createElement("div",{ref:this.assignRef,className:(0,Q.Z)([o,a]),tabIndex:-1,"data-id":(0,K.xT)(n)?n.id:void 0},i.createElement("div",{className:Yn.Z.listTimelineObjectInner,tabIndex:-1},r))}renderObjectInList(){var e=this.props,t=e.timelineObject,n=e.displayMode,a=e.isInboxTimeline,o=e.appContext.features;return t.displayType===xn.y.Sponsored&&(t.adInstanceCreationTime=Date.now()),(0,K.xT)(t)&&!(0,K.uz)(t)?i.createElement(jn.ZP,null,(e=>{var n=e.device;return i.createElement(Ue.Z,{isInInboxTimeline:a,presentationStyle:this.getPresentationStyle(n),timelineObject:t})})):(0,K.ET)(t)?i.createElement(Re.Z,{timelineObject:t,displayMode:n}):(0,K.iZ)(t)?i.createElement(Le,{timelineObject:t}):(0,K.uN)(t)?i.createElement(qn,{timelineObject:t}):(0,K.pN)(t)?i.createElement(Wn,{timelineObject:t}):(0,K.g5)(t)?i.createElement(ie,{timelineObject:t}):(0,K.kZ)(t)?i.createElement(Ie,{timelineObject:t}):(0,K.LW)(t)?i.createElement(Zt,{timelineObject:t}):(0,K.$n)(t)?i.createElement(wn,{timelineObject:t}):((0,K.A6)(t)||(0,K.uz)(t))&&o.redpopMoneyballAds?i.createElement(jn.ZP,null,(e=>{var n=e.device;return i.createElement(i.Fragment,null,i.createElement(P.ZP,{isInstream:!0,timelineObject:t,supplyProviderId:De.E.DASHBOARD},(e=>{var t=e.ad,a=e.supplyOpportunityInstanceId,o=e.location,r=e.streamPosition;return i.createElement("div",{className:(0,Q.Z)([Yn.Z.listTimelineObject,w.CS])},i.createElement(He,{currentAd:t,supplyOpportunityInstanceId:a,location:o,streamPosition:r,presentationStyle:this.getPresentationStyle(n)}))})),(0,K.uz)(t)&&i.createElement(w.ZP,{timelineObject:t}))})):(0,K.FP)(t)?i.createElement(de,{timelineObject:t}):(0,K.lR)(t)?i.createElement(k.ZP,{ad:t,supplyOpportunityInstanceId:t.supplyOpportunityInstanceId}):(0,K.nB)(t)?i.createElement(Ce,{timelineObject:t}):(0,K.wQ)(t)?i.createElement(_,{timelineObject:t}):(0,K.dp)(t)?i.createElement(y,{timelineObject:t}):(0,K.CA)(t)?i.createElement(H.Z,{timelineObject:t}):(0,K.RE)(t)?i.createElement(Ye,null):("production"===Kn.Z.Development&&console.warn('Unsupported timeline object type "'.concat(t.objectType,'" with ID ').concat(t.id)),null)}renderInGrid(){var e=this.props,t=e.timelineObject,n=e.appContext._t,a="calc(".concat(100/Xn(),"% - 2px)");return(0,K.xT)(t)?t.isExpandedInGrid?i.createElement("div",{className:Yn.Z.expandedGridObjectContainer},this.renderInList(!0)):i.createElement("div",{className:Yn.Z.gridTimelineObject,ref:this.assignRef,style:{width:a}},i.createElement(ze.Z,{tabIndex:-1,timelineObject:t,className:Yn.Z.postInGrid}),i.createElement("button",{className:Yn.Z.gridObjectExpandCover,"aria-label":n("Expand"),onClick:this.toggleExpanded},i.createElement("div",{className:Yn.Z.gridObjectExpandCoverInner,tabIndex:-1},i.createElement("div",{className:(0,Q.Z)({[Yn.Z.expandedCover]:!0,[Yn.Z.expandedCoverIsExpanded]:t.hasExpandedVersionBelowIt})})))):null}}o()($n,"defaultProps",{displayMode:K.mt.List});const ea=(0,p.tM)($n)},28364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(18485),c=n(73427),d=n(45342),u=n(54518),p=n(14e3),m=n(72137),h=n(22654),g=n(76870),v=n(54640),b=n(66950),f=n(4003),E=n(67357),C=n(61241),y=n(51742),w=n(80813),k=n(10819),P=n(94966),S=n.n(P),T=n(43893),x=n.n(T),N=n(88456),I=n(2540);const R="uc89x",M="fuAea";function A(e){var t=(0,I.bp)()._t,n=e.blog,a=n.name,o=n.url,r=e=>t(e?"Following":"Follow"),s=(0,i.useState)(!!n.followed),l=x()(s,2),c=l[0],d=l[1];return n.canBeFollowed?i.createElement(N.Z,{following:c,blogName:a,blogUrl:o,className:R,wrapperClassName:M,isPeeprHeader:!0,onFollow:(e,t)=>{d(t)}},r):null}const B="_X19c",Z="txEJf",L="_5p5FC",O="xuN5Q",D="ZtkzZ",F="K0Rj5",_="w6XLs",H="BQhXD",U="nEems";var z=e=>{var t=e.find((e=>{var t=e.type,n=e.trail,a=e.content;return(0,f.o)({type:t,trail:n,content:a,prioritizeImageBlocks:!0}).type===E.Z}));return t||null};const V=e=>{var t=e.blog,n=e.posts,a=t.theme,o=void 0===a?{}:a,r=t.secondsSinceLastActivity,s=void 0===r?999999:r,l=t.avatar,c=o.avatarShape,d=void 0===c?C.o.Circle:c;if(!n)return null;var u=z(n);if(!u)return null;var p=(0,y.Z)({[L]:!0,[_]:!0,[F]:d===C.o.Circle,[D]:d!==C.o.Circle});return i.createElement("div",{className:B,style:(0,w.ZP)(t)},i.createElement("div",{className:Z},i.createElement("div",{className:p},i.createElement(v.Z,{avatarShape:d,imageResponse:l,dimension:P.miniBlogCardAvatarSize,isOnline:(0,k.k)(s),bigStatusIndicator:!0})),i.createElement("div",{className:O},i.createElement(b.ZP,{blog:t,isBlogCardHeader:!0,hideFollowButton:!0,hideHeaderImage:!0}))),i.createElement("div",{className:H},i.createElement(f.Z,{timelineObject:u,prioritizeImageBlocks:!0,openInPeepr:!0,blurImageBackground:!0})),i.createElement("div",{className:U},i.createElement(A,{blog:t})))};var W=n(84050),G=n(49835),q=n(3575),j=n(3161),K=n(52385),Q=n(36643),J=n(16439);const Y={desktopContainer:"B15CE",blogCarousel:"H14Pr",title:"uJiXu",blogCardWrapper:"I6Y3s",postCardWrapper:"pqNoe"};class X extends i.Component{constructor(){super(...arguments),s()(this,"renderVertical",(()=>i.createElement("div",{className:Y.desktopContainer},this.renderTitle(),i.createElement(W.ZP,{title:this.getTitle(),rowTheme:this.props.rowTheme||d.CK.Dark,getInitialContent:this.getInitialBlogsContent,getContentFromResponse:this.getContentFromResponse,dismissAllLabel:this.props.appContext._t("Show more blogs")})))),s()(this,"renderHorizontal",(()=>{var e=S().timelineMasonryPostWidth+S().timelineMasonryPostSpacing;return i.createElement(G.U$,null,(t=>{var n=t.width;return i.createElement(i.Fragment,null,this.renderTitle(),i.createElement(u.Z,{className:Y.blogCarousel,visibleWidth:n,itemWidth:e},i.createElement(m.Z.Consumer,null,this.renderHorizontalCarouselContent)))}))})),s()(this,"renderHorizontalCarouselContent",(e=>{var t,n,a=e.scrollContainerRef;return i.createElement(g.ZP,{getInitialPage:this.getInitialContent,getObjectsFromResponse:this.getBlogsFromResponse,getNextLink:this.getBlogsNextLink,direction:j.cU.Right,scrollContainer:a.current,loader:i.createElement("div",{className:Y.blogCarouselLoader},i.createElement(h.Z,{centerOrientation:h.Q.HorizontalAndVertical}))},null!==(t=this.props.appContext)&&void 0!==t&&null!==(n=t.features)&&void 0!==n&&n.postCentricBlogCarousel?this.renderHorizontalPaginatorChildrenPostCentric:this.renderHorizontalPaginatorChildren)})),s()(this,"renderHorizontalPaginatorChildrenPostCentric",(e=>{var t=e.objects;return i.createElement(i.Fragment,null,t.map(((e,t)=>z(e.posts)?i.createElement(p.Z,{index:t,key:"".concat(e.name,"-").concat(t)},i.createElement("div",{className:Y.postCardWrapper},i.createElement(V,{blog:(0,q.WA)(e),posts:e.posts}))):null)))})),s()(this,"renderHorizontalPaginatorChildren",(e=>{var t=e.objects;return i.createElement(i.Fragment,null,t.map(((e,t)=>i.createElement(p.Z,{index:t,key:"".concat(e.name,"-").concat(t)},i.createElement("div",{className:Y.blogCardWrapper},i.createElement(c.Z,{blogName:e.name,blog:(0,q.WA)(e),posts:e.posts}))))))})),s()(this,"renderTitle",(()=>{var e=this.getTitle();return e&&i.createElement("div",{className:Y.title},e)})),s()(this,"getTitle",(()=>{var e,t;return(null===(e=this.props.timelineObject)||void 0===e||null===(t=e.display)||void 0===t?void 0:t.title)||""})),s()(this,"getInitialContent",(()=>{var e=this.props.timelineObject.elements;return{objects:this.transformCarouselElementsToBlogs(e),nextLink:this.getBlogsNextLink({response:{timeline:this.props.timelineObject}})}})),s()(this,"getInitialBlogsContent",(()=>{var e=this.props.timelineObject.elements;return{blogs:this.transformCarouselElementsToBlogs(e),nextLink:this.getBlogsNextLink({response:{timeline:this.props.timelineObject}})}})),s()(this,"getContentFromResponse",(e=>({blogs:this.getBlogsFromResponse(e),nextLink:this.getBlogsNextLink(e)}))),s()(this,"getBlogsNextLink",(e=>{var t,n,a=null===(t=e.response.timeline)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.next;return null!=a&&a.href?o()(o()({},a),{},{href:(0,l.Z)(null==a?void 0:a.href,(0,J.n9)(Q.$b))}):a})),s()(this,"getBlogsFromResponse",(e=>{var t,n=e.response;return this.transformCarouselElementsToBlogs(null===(t=n.timeline)||void 0===t?void 0:t.elements)})),s()(this,"transformCarouselElementsToBlogs",(e=>e.reduce(((e,t)=>{var n=t.resources,a=t.display;if(n){var r=e=>e;null!=a&&a.reason&&(r=e=>o()(o()({},e),{},{recommendationReason:a.reason})),e.push(...n.map(r))}return e}),[])))}render(){return this.props.displayMode===K.mt.List?this.renderHorizontal():this.renderVertical()}}const $=(0,I.HJ)(X)},7310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(95132),c=n(52385),d=n(2540),u=n(94966),p=n(28364),m=n(57067),h=n(58665),g=n.n(h),v=n(54518),b=n(14e3),f=n(72137),E=n(1172),C=n(22654),y=n(76870),w=n(49835),k=n(78315),P=n(3161),S=n(62513);const T="BYDbJ",x="w3kAG",N="SEBxd",I="GRKki",R="VV6Pq",M="TZT5G";class A extends i.Component{constructor(){super(...arguments),s()(this,"getInitialContent",(()=>{var e=this.props.timelineObject,t=e.elements,n=e.links;return{objects:t,nextLink:null==n?void 0:n.next}})),s()(this,"getVideoHubsFromResponse",(e=>e.response.timeline.elements)),s()(this,"getNextLink",(e=>{var t,n,a=e.response;return null==a||null===(t=a.timeline)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.next}))}render(){return i.createElement(w.U$,null,(e=>{var t=e.width;return i.createElement(v.Z,{visibleWidth:t,className:T,itemWidth:u.videoHubCardCarouselItemWidth},i.createElement(f.Z.Consumer,null,(e=>{var t=e.scrollContainerRef;return i.createElement(y.ZP,{getObjectsFromResponse:this.getVideoHubsFromResponse,getInitialPage:this.getInitialContent,direction:P.cU.Right,getNextLink:this.getNextLink,scrollContainer:t.current,loader:i.createElement("div",{className:x},i.createElement(C.Z,{centerOrientation:C.Q.HorizontalAndVertical}))},(e=>e.objects.map(((e,t)=>i.createElement(B,{key:e.hubName,index:t,videoHub:e,onClick:g()})))))})))}))}}function B(e){var t,n,a,o=e.index,r=e.videoHub,s=e.onClick,l=(null===(t=r.media)||void 0===t||null===(n=t[0].poster)||void 0===n?void 0:n.url)||(null===(a=r.media)||void 0===a?void 0:a[0].url);return i.createElement(b.Z,{index:o,key:r.hubName},i.createElement("div",{className:N},i.createElement(E.Z,{to:(0,k.hc)({hubName:r.hubName}),onClick:s},i.createElement("div",{className:I,style:{backgroundImage:"linear-gradient(360deg, ".concat(S.transparentBlack85,' 0%, transparent 50%), url("').concat(l,'")'),borderColor:r.borderColor,filter:"drop-shadow(2px 2px 0px ".concat(r.borderColor,")")}},i.createElement("div",{className:R},r.hubName),i.createElement("div",{className:M},r.tags.map((e=>"#".concat(e))).join(" "))))))}const Z=A;class L extends i.Component{constructor(){super(...arguments),s()(this,"logWarningInConsole",(()=>{var e=this.props.timelineObject;return e&&"production"===l.Z.Development&&(0===e.elements.length?console.warn("Unsupported unknown carousel timeline object type with ID ".concat(e.id)):console.warn('Unsupported carousel timeline object type "'.concat(e.elements[0].objectType,'" with ID ').concat(e.id))),null}))}render(){var e=this.props.timelineObject;return(0,c.eO)(e)?i.createElement(p.Z,o()({},this.props,{timelineObject:e})):(0,c.$w)(e)?i.createElement(m.Z,o()({},this.props,{timelineObject:e,itemWidth:u.tagChicletCarouselItemWith+u.carouselItemSpacing,loaderClass:"carouselLoaderChiclet"})):(0,c.H0)(e)?i.createElement(m.Z,o()({},this.props,{timelineObject:e,itemWidth:u.tagCardCarouselItemWidth+u.carouselItemSpacing,loaderClass:"carouselLoaderTagCard"})):(0,c.h5)(e)?i.createElement(Z,o()({},this.props,{timelineObject:e})):(this.logWarningInConsole(),null)}}const O=(0,d.HJ)(L)},57067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var a=n(92969),o=n.n(a),r=n(58665),s=n.n(r),i=n(95004),l=n(54518),c=n(14e3),d=n(72137),u=n(22654),p=n(76870),m=n(18602),h=n(93622),g=n(47807),v=n(2978),b=n(2540),f=n(94966),E=n.n(f),C=n(34534);const y="quD2R",w="jOrvN",k="XtlxR",P="pAmwO",S="FvvEQ";class T extends i.Component{constructor(){super(...arguments),o()(this,"renderChicletContent",((e,t)=>{var n=e.objectData.backgroundImage,a=this.props,o=a.tagName,r=a.appContext._c;return n?i.createElement("div",{className:P,key:t},i.createElement(m.Q3,{imageResponse:[{url:n,width:E().tagCardImageWidth,height:E().tagCardImageWidth*E().tagCardImageSizeRatio}],isSquare:!1,altText:r("Alt text for a tag's image. Placeholder is the untranslated tag text.","#%1$s",o),sizes:"".concat(2*E().tagCardImageWidth,"px")})):null})),o()(this,"logUserClickedOnTagCard",(()=>this.props.appContext.logEvent({eventName:v.JE.ClickedOnTagCard,eventDetails:{tag:this.props.tagName}})))}render(){var e=this.props,t=e.tagName,n=e.posts,a=e.backgroundColor,o=e.borderColor,r=(0,C.ps)(a);return i.createElement("div",{className:y,style:{backgroundColor:a,borderColor:o}},i.createElement(g.Z,{tagName:t,onClick:this.logUserClickedOnTagCard},i.createElement("div",{className:w,style:{color:r}},i.createElement("span",null,"#",t)),i.createElement("div",{className:k},n.slice(0,2).map(this.renderChicletContent))),i.createElement(h.Z,{tag:t,isFollowed:!1,pageName:v.$O.TAGGED,className:S,extraStyles:{backgroundColor:r,color:a}}))}}const x=(0,b.HJ)(T);var N=n(49835),I=n(3161),R=n(52385);const M="Oii0L",A="NWfPW",B="aJgDC",Z="NZ8ux",L="LnVVz";class O extends i.Component{constructor(){super(...arguments),o()(this,"getInitialContent",(()=>{var e=this.props.timelineObject,t=e.elements,n=e.links;return{objects:t,nextLink:null==n?void 0:n.next}})),o()(this,"getTagsFromResponse",(e=>e.response.timeline.elements)),o()(this,"getNextLink",(e=>{var t,n,a=e.response;return null==a||null===(t=a.timeline)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.next}))}render(){return i.createElement(N.U$,null,(e=>{var t=e.width;return i.createElement(l.Z,{visibleWidth:t,className:M,itemWidth:this.props.itemWidth},i.createElement(d.Z.Consumer,null,(e=>{var t=e.scrollContainerRef;return i.createElement(p.ZP,{getObjectsFromResponse:this.getTagsFromResponse,getInitialPage:this.getInitialContent,direction:I.cU.Right,getNextLink:this.getNextLink,scrollContainer:t.current,loader:i.createElement("div",{className:this.props.loaderClass},i.createElement(u.Z,{centerOrientation:u.Q.HorizontalAndVertical}))},(e=>e.objects.map(((e,t)=>{switch(e.objectType){case R.RP.FollowedTag:return i.createElement(D,{key:e.tagName,index:t,tag:e,onClick:s()});case R.RP.Tag:return i.createElement(F,{key:t,index:t,tag:e})}}))))})))}))}}function D(e){var t,n,a=e.index,o=e.tag,r=e.onClick;return i.createElement(c.Z,{index:a,key:o.tagName},i.createElement("div",{className:Z},i.createElement(g.Z,{tagName:o.tagName,className:A,onClick:r,toOverride:null===(t=o.links)||void 0===t||null===(n=t.tap)||void 0===n?void 0:n.href},i.createElement("div",{className:B,"data-testid":"chiclet-wrapper",style:o.backgroundImage?{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("'.concat(o.backgroundImage,'")'),backgroundSize:"cover",backgroundPosition:"center"}:o.backgroundColor?{backgroundColor:o.backgroundColor}:void 0},i.createElement("span",null,o.tagName)))))}function F(e){var t=e.index,n=e.tag;return i.createElement("div",{className:L},i.createElement(c.Z,{index:t},i.createElement(x,n)))}const _=O},44772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var a=n(85313),o=n.n(a),r=n(95004),s=n(66438),i=n(2978),l=n(469),c=n(2540),d=n(76230),u=n(82450),p=n(62513),m=n.n(p);const h="LrOId",g="SpkZj",v="O6DQu";const b=function(e){var t=e.ctaText,n=e.backgroundColor,a=void 0===n?m().paletteAccent:n,p=e.borderColor,b=void 0===p?m().paletteAccent:p,f=e.color,E=void 0===f?m().paletteWhite:f,C=e.clickUrl,y=e.placementId,w=(0,c.bp)(),k=w.logEvent,P=w.features.tspUiUpdate,S=(0,d.uu)().post,T=(0,l.b)(),x=T.hydraConfigInstanceId,N=T.adPlacementConfiguration;return r.createElement("div",{className:P?h:v,style:{backgroundColor:a,color:E,borderColor:b}},r.createElement("a",{className:g,style:{color:E},href:C,rel:"nofollow noreferrer noopener",target:"_blank",onClick:()=>{k({eventName:i.JE.CTAButton,eventDetails:o()({placement_id:y},(0,u.U)({hydraConfigInstanceId:x,adPlacementConfiguration:N,timelineObject:S}))}),k({eventName:i.JE.Click,eventDetails:o()({placement_id:y},(0,u.U)({hydraConfigInstanceId:x,adPlacementConfiguration:N,timelineObject:S}))})}},t||s.J.LearnMore))}},43206:(e,t,n)=>{"use strict";n.d(t,{Q7:()=>k,hA:()=>y,ZP:()=>P,WU:()=>C,v$:()=>v});var a=n(85313),o=n.n(a),r=n(95004),s=n(57597),i=n(95132),l=n(76155),c=n(469),d=n(2540),u=n(76230),p=n(96392),m=n(82450),h=new RegExp("(?:\\p{RI}\\p{RI}|\\p{Emoji}(?:\\p{Emoji_Modifier}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(?:\\u{200D}\\p{Emoji}(?:\\p{Emoji_Modifier}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*)|[\\u{1f900}-\\u{1f9ff}\\u{2600}-\\u{26ff}\\u{2700}-\\u{27bf}]","gu"),g=n(41289),v=e=>e<101?g.Z.shortQuote:e<151?g.Z.mediumQuote:e<251?g.Z.longQuote:g.Z.veryLongQuote,b=e=>{var t,n=e.title,a=e.url,o=(0,d.bp)().logEvent,s=(0,u.uu)(),i=(0,c.b)(),l=i.hydraConfigInstanceId,h=i.adPlacementConfiguration,g=s!==u.Nw,v=g?null==s||null===(t=s.post)||void 0===t?void 0:t.placementId:void 0,b=g?(0,m.U)({adPlacementConfiguration:h,hydraConfigInstanceId:l,timelineObject:s.post}):{},f=(0,r.useCallback)((()=>(0,p.B)(o,v)),[o,v,b]);return r.createElement("a",{href:a,target:"_blank",rel:"noopener",onClick:f},n)},f=(e,t,n)=>{switch(e.type){case l.TV.Bold:return r.createElement("strong",{key:n},t);case l.TV.Color:return r.createElement("span",{key:n,style:{color:e.hex}},t);case l.TV.Italic:return r.createElement("em",{key:n},t);case l.TV.Link:return r.createElement(b,{key:n,title:t,url:e.url});case l.TV.Mention:return r.createElement(s.Z,{key:n,blogName:e.blog.name,href:e.blog.url,blog:e.blog},r.createElement("span",{className:g.Z.mention},t));case l.TV.Small:return r.createElement("small",{key:n},t);case l.TV.Strikethrough:return r.createElement("s",{key:n},t);default:return"production"===i.Z.Development&&console.warn("Unknown inline text formatting type: ".concat(e.type)),t}},E=(e,t,n)=>[...e].slice(t,n).join("");function C(e,t){var n=e.join,a=e.mark,r=e.seed,s=t.formatting,i=t.text;if(!s||!s.length)return i;var l=r,c=(e=>e.sort(((e,t)=>Math.sign(e.start-t.start)||Math.sign(e.end-t.end))))(s),d=[];c.forEach((e=>{d.push(o()(o()({},e),{},{index:e.start,isEnd:!1})),d.push(o()(o()({},e),{},{index:e.end,isEnd:!0}))})),d.sort(((e,t)=>e.index-t.index));var u=[];return d.forEach(((e,t)=>{if(0===t&&0!==e.index&&(l=n(l,E(i,0,e.index))),d.length-1!==t){var o=d[t+1],r=E(i,e.index,o.index),s=r;if(e.index!==o.index||e.isEnd){if(t>0){var c=d[t-1];e.index===c.index&&e.isEnd&&(u=u.filter((t=>!(t.index===e.start&&e.index===t.end))))}if(!e.isEnd)return u.push(e),u.forEach(((t,n)=>{var i="".concat(e.index," ").concat(o.index," ").concat(t.type," ").concat(r," ").concat(n);s=a(t,s,i)})),void(l=n(l,s));u=u.filter(((t,n)=>{if(t.type===e.type&&e.index===t.end)return!1;if(e.index!==o.index){var i="".concat(e.index," ").concat(o.index," ").concat(t.type," ").concat(r," ").concat(n);s=a(t,s,i)}return!0})),l=n(l,s)}else u.push(e)}else l=n(l,E(i,e.index))})),l}function y(e){return e.map((e=>{var t=e.type,n=e.position,a=e.attributes;return{type:t,start:n[0],end:n[1],url:a.url}}))}var w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=Array.isArray(t[0])?t[0]:[t[0]],o=1;o<t.length;o++)Array.isArray(t[o])?a.push(...t[o]):a.push(t[o]);return a},k=(e,t)=>C({join:w,mark:f,seed:[]},{formatting:t,text:e});const P=e=>{var t=e.block,n=e.variant,a=((e,t,n)=>{var a=e.subtype,o=e.text,s="".concat(o," ").concat(a||""),i=t===l.LY.Full?g.Z.textBlock:"".concat(g.Z.textBlock," ").concat(g.Z.textBlockMicro),c=e=>r.createElement("div",{key:s,className:i},r.cloneElement(e,{},n));switch(a){case l.lr.Chat:return c(r.createElement("span",{className:g.Z.chat}));case l.lr.Heading1:return c(r.createElement("h1",null));case l.lr.Heading2:return c(r.createElement("h2",null));case l.lr.Indented:return r.createElement("blockquote",{key:s,className:"".concat(i," ").concat(g.Z.indented)},n);case l.lr.OrderedListItem:case l.lr.UnorderedListItem:return r.createElement("li",{key:s,className:i},n);case l.lr.Quirky:return c(r.createElement("span",{className:g.Z.quirky}));case l.lr.Quote:return c(r.createElement("span",{className:"".concat(v(o.length)," ").concat(g.Z.quote)}));default:return c(r.createElement("p",null))}})(t,void 0===n?l.LY.Full:n,k(t.text,t.formatting));return(e=>{h.lastIndex=0;for(var t,n=0,a=0;null!==(t=h.exec(e));){if(t.index!==n)return!1;if(++a>3)return!1;n=h.lastIndex}return n===e.length&&a>0&&a<=3})(t.text)?r.createElement("span",{className:g.Z.bigEmoji},a):a}},89261:(e,t,n)=>{"use strict";n.d(t,{ej:()=>ue,ZP:()=>re,$E:()=>le});var a=n(85313),o=n.n(a),r=n(72505),s=n.n(r),i=n(55332),l=n.n(i),c=n(95004),d=n(57597),u=n(58856),p=n(68042),m=n(95132),h=n(76155),g=n(54640),v=n(64018);const b="XZFs6",f="WIYYp",E="wvu3V",C="pM6pK",y="IxFyd",w="SBa73",k="ZCpAa";const P=function(e){var t=e.blog,n=e.isAsking,a=e.components,o=c.createElement("span",{className:C},t?t.name:c.createElement(v.ZP,null,"Anonymous")),r=n?c.createElement(v.ZP,{components:{blog:o}},"[blog/] asked:"):c.createElement(v.ZP,{components:{blog:o}},"[blog/] answered:"),s=t?c.createElement(d.Z,{blogName:t.name,href:t.url,blog:t},r):r;return c.createElement("div",{className:b},c.createElement("div",{className:f},c.createElement("div",{className:E},s),c.createElement("div",{className:y},a),c.createElement("div",{className:w})),c.createElement("div",{className:k},c.createElement(g.Z,{isAnonymous:!t,imageResponse:null==t?void 0:t.avatar,name:null==t?void 0:t.name,url:null==t?void 0:t.url,dimension:40})))};var S=n(92969),T=n.n(S),x=n(81059),N=n(2540);const I="ZqZ6N",R="lYffY";class M extends c.Component{constructor(){super(...arguments),T()(this,"state",{expanded:!1}),T()(this,"expand",(()=>{this.setState({expanded:!0})}))}render(){if(this.state.expanded)return this.props.components;var e=(0,this.props.appContext._t)("Keep reading");return c.createElement("div",{className:I},c.createElement(x.Z,{onClick:this.expand,className:R,label:e},e))}}const A=(0,N.HJ)(M);var B=n(58665),Z=n.n(B),L=n(17908),O=n.n(L),D=n(21964),F=n(62513),_=n.n(F);const H="vtkd5",U="N9n3m",z="nXX23",V="uEVCb",W="Cetez",G="jkMFs";const q=function(e){var t=e.answered,n=e.choices,a=e.component,o=e.handleChoiceClick,r=e.isSelected,s=e.isPollAnswer,i=e.totalVotes,l=(0,N.bp)()._t;if(s){var d;if(!t)return c.createElement(x.Z,{label:l("Poll Choice"),onClick:o,wrapperClassName:z},c.createElement("div",{className:H},a));var u=(null===(d=Q(a.props.blockIndex,n))||void 0===d?void 0:d.voteCount)||0,p=Math.round(u/i*100);return c.createElement("div",{className:H},c.createElement("progress",{className:V,max:i,value:u}),c.createElement("div",{className:U},a,r&&c.createElement("div",{className:G},c.createElement(D.Z,{size:{width:14,height:14},fill:_().paletteBlack})),c.createElement("div",{className:W},p,"%")))}return c.createElement(c.Fragment,null,a)};var j=n(36643);function K(e,t){return(0,h.U0)(t)&&t.choices.find((t=>{var n=t.blocks.find((t=>t===e));return n||0===n}))}function Q(e,t){return t.find((t=>{var n=t.blocks.find((t=>t===e));return!!n||0===n}))||null}class J extends c.Component{constructor(){var e;super(...arguments),T()(this,"state",{answered:(e=this.props.layout,!!e.selected.length),selected:this.props.layout.selected,totalVotes:this.props.layout.choices.reduce(((e,t)=>e+t.voteCount),0),choices:this.props.layout.choices}),T()(this,"apiHelper",(0,j.ZP)(this.props.appContext.apiFetch))}componentDidUpdate(e){var t={};O()(this.props.layout.selected,e.layout.selected)||(t.selected=this.props.layout.selected),O()(e.layout.choices,this.props.layout.choices)||(t.choices=this.props.layout.choices),Object.keys(t).length&&this.setState(o()({},t))}render(){var e=this.props,t=e.components,n=e.layout;return c.createElement(c.Fragment,null,t.map(((e,t)=>{var a=Q(e.props.blockIndex,this.state.choices);return c.createElement(q,{key:t,answered:this.state.answered,choices:this.state.choices,component:e,handleChoiceClick:a?this.handleChoiceClick(a.choiceId):Z(),isSelected:!!a&&this.state.selected.indexOf(a.choiceId)>-1,totalVotes:this.state.totalVotes,isPollAnswer:!!K(e.props.blockIndex,n)})})))}handleChoiceClick(e){return()=>this.votePoll([e])}votePoll(e){return this.apiHelper.votePoll(this.props.layout.pollId,e).fetch((e=>{var t=e.response;this.setState({answered:!0,selected:t.selected,totalVotes:t.choices.reduce(((e,t)=>e+t.voteCount),0),choices:t.choices})}))}}const Y=(0,N.HJ)(J);var X=n(52699),$=(e,t)=>{var n=(0,p.i)(e,t);return c.createElement(p.Z,{key:n,block:e,blockIndex:t})};const ee=function(e){var t,n,a=e.layout,o=e.components;(0,h.af)(a)?t=c.createElement(P,{blog:null===(n=a.attribution)||void 0===n?void 0:n.blog,isAsking:!0,components:o}):(0,h.U0)(a)?t=c.createElement(Y,{components:o,layout:a}):(0,h.Rf)(a)?t=c.createElement(P,{blog:a.attribution.blog,isAsking:!1,components:o}):(0,h.le)(a)?t=c.createElement(X.ZP,{layout:a,components:o}):(0,h.eQ)(a)?t=c.createElement(A,{components:o}):((0,h.m9)(a)||(0,h.PV)(a))&&(t=c.createElement(c.Fragment,null,o));return t||("production"===m.Z.Development&&console.warn('Unsupported layout type "'.concat(a.type,'" in post')),null)};var te=n(469),ne=n(76230),ae=n(82450);const oe=function(e){var t=e.blocks.map((e=>o()({},e))),n=[],a=t.reduce(((e,t)=>{if((0,h.dz)(t)&&(0,h.pZ)(t)){var a=e.length-1;if(a>=0){var o=e[a];if((0,h.cd)(o)&&o.elements[0].subtype===t.subtype)return n.push({type:h.kH.None}),o.elements=o.elements.concat(t),e}var r={type:t.subtype===h.lr.OrderedListItem?h.kH.OrderedList:h.kH.UnorderedList,elements:[t]},s=[...n];return n=[],[...e,...s,r]}var i=[...n];return n=[],[...e,...i,t]}),[]);return a.push(...n),a};const re=function(e){var t=e.blocks,n=e.layouts,a=e.postingBlog,r=e.isOriginalPost,s=e.adm,i=e.placementId,l=e.isEdit,p=(0,ne.uu)(),m=p.post,g=p.presentationStyle,v=p===ne.Nw,b=(0,te.b)(),f=b.hydraConfigInstanceId,E=b.adPlacementConfiguration,C=function(e){if(!e)return[];return e.filter(h.Lk)}(n),y=function(e){for(var t=e.layouts,n=e.numberOfBlocks,a=e.isOriginalPost,r=e.postingBlog,s=[],i=0;i<n;i+=1)s.push(i);var l=[];if(!t.length){var c={type:h.ms.Rows,rows:s.map((e=>[e]))};l.push(c)}return t.forEach((e=>{if(l.push(e),(0,h.af)(e)){var t=s.slice(e.blocks.length);if(t.length){var n=o()({type:a?h.ms.None:h.ms.Answer,blocks:t},!a&&{attribution:{blog:r,type:"blog"}});l.push(n)}}else if((0,h.PV)(e)){var i=s.slice(e.truncateAfter+1),c={type:h.ms.BelowTheFold,blocks:i};l.push(c)}})),l}({isOriginalPost:r,postingBlog:a,layouts:C,numberOfBlocks:t.length}),w=function(e,t){return e.map((e=>(0,h.LX)(e)?o()(o()({},e),{},{blog:t}):e))}(t,a),k=function(e){if(e.length<=1)return e;var t,n,a,r,s,i,l=[];if(e.forEach((e=>{(0,h.PV)(e)?a=e:(0,h.eQ)(e)?r=e:(0,h.af)(e)?t=e:(0,h.Rf)(e)?n=e:(0,h.le)(e)?s=e:i=e})),a&&r){var c=[];if(t)c=[t];else if(s&&a.truncateAfter>-1){var d=a.blocks.length-1;c=[se(s,d)[0]]}l.push(o()(o()({},a),{},{nestedLayouts:c})),l.push(r)}else{if(!t)return e;if(!s)return e;var u=t.blocks.length-1,p=se(s,u),m=[p[1]];l.push(o()(o()({},t),{},{nestedLayouts:[p[0]]})),l.push(n?o()(o()({},n),{},{type:h.ms.Answer,nestedLayouts:m}):o()(o()({},i),{},{type:h.ms.None,nestedLayouts:m}))}return l}(y),P=ie(k,w);return w.filter(h.RD).length?g.imagePostsOpenInPeepr?c.createElement(d.Z,{blogName:null==a?void 0:a.name,postId:null==m?void 0:m.id,showBlogCard:!1},P):c.createElement(u.ZP,{adm:s,placementId:i,krakenEventDetails:l||v?{}:(0,ae.U)({adPlacementConfiguration:E,hydraConfigInstanceId:f,timelineObject:m})},P):c.createElement(c.Fragment,null,P)};function se(e,t){var n=[{type:h.ms.Rows,display:[]},{type:h.ms.Rows,display:[]}];if((0,h.oF)(e)){var a=e.display;a.forEach(((r,s)=>{var i=r.blocks[r.blocks.length-1];if(t===i){var l=a.slice(0,s+1),c=a.slice(s+1);n=[o()(o()({},e),{},{display:l}),o()(o()({},e),{},{display:c})]}}))}if((0,h.Ps)(e)){var r=e.rows;r.forEach(((a,s)=>{var i=a[a.length-1];if(t===i){var l=r.slice(0,s+1),c=r.slice(s+1);n=[o()(o()({},e),{},{rows:l}),o()(o()({},e),{},{rows:c})]}}))}return n}function ie(e,t){var n=[];return e.forEach((e=>{var a;if(e)if(null!==(a=e.nestedLayouts)&&void 0!==a&&a.length){var o=le(ue(e)),r=[],i=[];e.nestedLayouts.forEach(((e,n)=>{var a=le(ue(e));if(n>0){var o=i[i.length-1];if(o+1!==a[0]){var l=ce(t.slice(o+1,a[0])).map($);r.push(...l);var c=s()(o+1,a[0]);i.push(...c)}}r.push(...ie([e],t)),i.push(...a)}));var l=ce(t.slice(o[0],i[0])).map($),c=ce(t.slice(i[0]+i.length,o[o.length-1]+1)).map($);n.push(de(e,[...l,...r,...c]))}else{var d=le(ue(e,t)),u=ce(t.slice(d[0],d[d.length-1]+1));n.push(de(e,u.map($)))}})),n}function le(e){return e.sort(((e,t)=>e-t))}function ce(e){return e&&oe({blocks:e})||[]}function de(e,t){var n=ue(e).reduce(((e,t)=>e.concat("".concat(t," "))),"".concat(e.type," "));return c.createElement(ee,{key:n,layout:e,components:t})}function ue(e,t){return(0,h.af)(e)||(0,h.Rf)(e)||(0,h.PV)(e)||(0,h.eQ)(e)||(0,h.m9)(e)?e.blocks:(0,h.Ps)(e)?l()(e.rows):(0,h.oF)(e)?l()(e.display.map((e=>e.blocks))):(0,h.U0)(e)&&(null==t?void 0:t.map(((e,t)=>t)))||[]}},96978:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(59319),c=n(68234),d=n(81059),u=n(33881),p=n(40310),m=n(78315),h=n(36643),g=n(51742),v=n(90553),b=n(62513),f=n.n(b);class E extends i.Component{constructor(){super(...arguments),s()(this,"apiHelper",(0,h.ZP)(this.props.appContext.apiFetch)),s()(this,"setLegacyFormCloseHandler",(()=>{var e=this.props.modalRouteContext.addOnCloseModalRouteHandler;this.removeOnModalCloseListener=e(this.onLegacyFormClose)})),s()(this,"setFormCloseHandler",(()=>{var e=this.props.modalRouteContext.addOnCloseModalRouteHandler;this.removeOnModalCloseListener=e(this.onFormClose)})),s()(this,"refreshPostInTimeline",(()=>{var e=this.props,t=e.timelineContext,n=e.editablePost,a=n.id,o=n.blog;return this.apiHelper.getPosts({postId:a,blogIdentifier:o.name}).fetch((e=>{var n;null==t||null===(n=t.onEditTimelineObject)||void 0===n||n.call(t,e.response.posts[0])}))})),s()(this,"onFormClose",(e=>{var t,n=e.isModalSuccess;return null===(t=this.removeOnModalCloseListener)||void 0===t||t.call(this),n?this.refreshPostInTimeline():Promise.resolve()})),s()(this,"onLegacyFormClose",(e=>{var t,n,a=e.isModalSuccess,o=e.legacyPostFormState,r=this.props,s=r.timelineContext,i=r.editablePost,l=i.state,c=i.id;if(null===(t=this.removeOnModalCloseListener)||void 0===t||t.call(this),a&&o&&o===l)return this.refreshPostInTimeline();a&&o&&o!==l&&(null==s||null===(n=s.onRemoveTimelineObject)||void 0===n||n.call(s,{id:c}));return Promise.resolve()}))}componentWillUnmount(){var e;null===(e=this.removeOnModalCloseListener)||void 0===e||e.call(this)}render(){return i.createElement(p.ZP,null,(e=>{var t=e.isMobile;return this.getButton(t)}))}getButton(e){var t,n=this.props,a=n.editablePost,r=n.shouldAlwaysOpenInLegacy,s=n.appContext,d=s.features,u=d.redpopDesktopEditorBetaToggle,p=d.redpopPostFormMobileEdit,h=s._t,v=n.className,b=n.isTextButton;return!r&&(!e&&u||e&&p)?i.createElement(l.Link,{onClick:this.setFormCloseHandler,to:(0,m.yj)({blogName:a.blog.name,postId:null===(t=a.id)||void 0===t?void 0:t.toString()},(0,c.Z)({editablePost:a})),"aria-label":h("Edit"),className:(0,g.Z)(o()({},!!v&&{[v]:!0}))},b?h("Edit"):this.getIcon()):e?this.getLegacyAnchor():this.getLegacyIframeButton()}getIcon(){return i.createElement(u.Z,{size:{width:21,height:21},fill:f().paletteGray65})}getLegacyIframeButton(){var e,t=this.props.editablePost,n=this.props.appContext._t;return i.createElement(l.Link,{to:(0,m.yj)({blogName:t.blog.name,postId:null===(e=t.id)||void 0===e?void 0:e.toString()})},i.createElement(d.Z,{onClick:this.setLegacyFormCloseHandler,label:n("Edit")},this.getIcon()))}getLegacyAnchor(){var e=this.props.appContext,t=e._t,n=e.wwwBaseUrl,a=encodeURIComponent("".concat(n,"/dashboard?restore=1"));return i.createElement("a",{href:"".concat(n,"/edit/").concat(this.props.editablePost.id,"?redirect_to=").concat(a,"&avoid_redirect=1"),role:"button",tabIndex:-1},i.createElement(d.Z,{label:t("Edit")},this.getIcon()))}}s()(E,"defaultProps",{shouldAlwaysOpenInLegacy:!0});const C=(0,v.X9)(E,{appContext:!0,timelineContext:!0,modalRouteContext:!0})},2698:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(86057),l=n.n(i),c=n(95004),d=n(81059),u=n(10314),p=n(80630),m=n(62513),h=n.n(m),g=(0,p.qv)(c.createElement("svg",{role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},c.createElement("path",{d:"M12.6173 1.07612C12.991 0.921338 13.4211 1.00689 13.7071 1.29289L22.7071 10.2929C23.0832 10.669 23.0991 11.2736 22.7433 11.669L13.7433 21.669C13.4663 21.9767 13.0283 22.082 12.6417 21.9336C12.2552 21.7853 12 21.414 12 21V16H11.5C7.31775 16 3.92896 18.2486 2.95256 21.3044C2.80256 21.7738 2.33292 22.064 1.84598 21.9881C1.35904 21.9122 1 21.4928 1 21V18.5C1 12.3162 5.88069 7.27245 12 7.01067V2C12 1.59554 12.2436 1.2309 12.6173 1.07612ZM14 4.41421V8C14 8.55228 13.5523 9 13 9H12.5C7.64534 9 3.64117 12.6414 3.06988 17.3419C5.09636 15.2366 8.18218 14 11.5 14H13C13.5523 14 14 14.4477 14 15V18.394L20.622 11.0362L14 4.41421Z"})));g.defaultProps={size:{width:24,height:24},fill:m.white};const v=g;var b=n(51742),f=n(2540);const E="yDfZA";var C=["color","forceUseAirplane","disabled","wrapperClassName"];const y=e=>{var t=e.color,n=void 0===t?h().paletteGray65:t,a=e.forceUseAirplane,r=void 0!==a&&a,i=e.disabled,p=e.wrapperClassName,m=l()(e,C),g=(0,f.bp)(),y=g._t,w=g.features,k=i?h().paletteGray40:n,P=w.shareButtonSwap&&!r?c.createElement(v,{size:{width:24,height:24},fill:k}):c.createElement(u.Z,{size:{width:21,height:21},fill:k});return c.createElement(d.Z,o()({},m,{disabled:i,label:y("Share"),wrapperClassName:(0,b.Z)(s()({[E]:!!i},!!p&&{[p]:!0}))}),P)}},22130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(95004),o=n(64018),r=n(76155);const s="If3QZ";const i=function(e){var t=e.attribution;if((0,r.yw)(t)){var n=t.url,i=t.blog.name;return a.createElement("div",{className:s},a.createElement("a",{href:n,target:"_blank",rel:"noopener"},a.createElement(o.ZP,{params:{blogName:i},components:{strong:a.createElement("strong",null)}},"GIF by [strong][blogName][/strong]")))}return null}},89551:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>W,XK:()=>V});var a=n(85313),o=n.n(a),r=n(95004),s=n(36851),i=n(76155),l=n(51742),c=n(24937),d=n(95394),u=n.n(d),p=n(92969),m=n.n(p),h=n(64049),g=n(62930),v=n(13700),b=n(22909),f=n(40310),E=n(2540),C=n(62513),y=n.n(C),w=n(94966),k=n.n(w);const P={nativePlayer:"VpTnv",progress:"iFok_",withImage:"GR0kA",seeking:"bgpDC",wrapper:"vP7cO",playPause:"zwgHD",trackInfo:"ZVJh0",trackTitle:"Lshd2",trackArtist:"LKThX",trackAlbum:"OKWej",albumImage:"Zz9Fz"};class S extends r.Component{constructor(){super(...arguments),m()(this,"state",{isPlaying:!1,seekingBarWidth:0,isDragging:!1}),m()(this,"onTimeUpdate",(()=>{if(this.progress&&this.audioEl){var e=this.progress.clientWidth,t=this.audioEl.duration,n=this.audioEl.currentTime,a=Math.round(n/t*e);this.setState({seekingBarWidth:a})}})),m()(this,"onEnded",(()=>{this.setState({isPlaying:!1,seekingBarWidth:0}),this.audioEl&&(this.audioEl.currentTime=0)})),m()(this,"handlePlayButtonClick",(()=>this.setState((e=>({isPlaying:!e.isPlaying}))))),m()(this,"onTouchStart",(e=>{this.state.isPlaying&&this.touchHandler(e)})),m()(this,"onTouchEnd",(()=>{this.handleTouchEndMouseUp()})),m()(this,"onProgressClick",(e=>{this.mouseHandler(e)})),m()(this,"onMouseMove",(e=>{this.state.isDragging&&this.mouseHandler(e)})),m()(this,"onMouseDown",(()=>{this.setState({isDragging:!0,isPlaying:!1})})),m()(this,"onMouseUp",(()=>{this.handleTouchEndMouseUp()})),m()(this,"handleTouchEndMouseUp",(()=>{this.setState({isDragging:!1,isPlaying:!0})})),m()(this,"touchHandler",(e=>{var t=e.changedTouches[0].clientX,n=e.currentTarget;this.updateSeekBarPositionWithEvent(t,n)})),m()(this,"mouseHandler",(e=>{var t=e.clientX,n=e.currentTarget;this.updateSeekBarPositionWithEvent(t,n)})),m()(this,"updateSeekBarPositionWithEvent",((e,t)=>{var n;if(this.audioEl&&this.progress){var a=e-((null===(n=t.firstElementChild)||void 0===n?void 0:n.getBoundingClientRect().left)||0),o=this.audioEl.duration,r=this.progress.clientWidth,s=o/r*a,i=Math.round(s/o*r);i<=r&&this.setState({seekingBarWidth:i}),this.audioEl.currentTime=s}})),m()(this,"playAudio",(()=>{var e;null===(e=this.audioEl)||void 0===e||e.play()})),m()(this,"stopAudio",(()=>{var e;null===(e=this.audioEl)||void 0===e||e.pause()}))}componentDidUpdate(e,t){"setComponentToAutoDock"in this.context&&this.context.setComponentToAutoDock(this.state.isPlaying),t.isPlaying!==this.state.isPlaying&&(this.state.isPlaying?this.playAudio():this.stopAudio()),e.isDocked&&!this.props.isDocked&&this.setState({isPlaying:!1})}render(){var e=this.props.appContext._t,t="".concat(P.progress," ").concat(this.props.poster?P.withImage:""),n={onTouchStart:this.onTouchStart,onTouchMove:this.touchHandler,onTouchEnd:this.onTouchEnd},a={onClick:this.onProgressClick,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp};return r.createElement("div",{className:P.nativePlayer},r.createElement(f.ZP,null,(o=>{var s,i,l=o.isMobile?n:a;return r.createElement("div",u()({},l,{className:t,ref:e=>this.progress=e,role:"slider","aria-label":e("Audio Player"),"aria-valuemin":0,"aria-valuemax":null===(s=this.audioEl)||void 0===s?void 0:s.duration,"aria-valuenow":null===(i=this.audioEl)||void 0===i?void 0:i.currentTime}),r.createElement("div",{className:P.seeking,ref:e=>this.seeking=e,style:{width:"".concat(this.state.seekingBarWidth,"px")}}))})),r.createElement("div",{className:P.wrapper},r.createElement("div",{className:P.playPause,onClick:this.handlePlayButtonClick,role:"button","aria-label":this.state.isPlaying?e("Pause"):e("Play")},this.state.isPlaying?r.createElement(g.Z,{fill:y().paletteWhite}):r.createElement(v.Z,{fill:y().paletteWhite,withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"})),r.createElement("div",{className:P.trackInfo},this.props.trackInfo.title&&r.createElement("div",{className:P.trackTitle},this.props.trackInfo.title),this.props.trackInfo.artist&&r.createElement("div",{className:P.trackArtist},this.props.trackInfo.artist),this.props.trackInfo.album&&r.createElement("div",{className:P.trackAlbum},this.props.trackInfo.album)),r.createElement("audio",{preload:"auto",style:P,ref:e=>this.audioEl=e,onTimeUpdate:this.onTimeUpdate,onEnded:this.onEnded,title:this.props.trackInfo.title,crossOrigin:"anonymous"},r.createElement("source",{className:"audio-source",src:this.props.src})),this.props.poster?r.createElement("div",{className:P.albumImage},r.createElement(b.Z,{imageResponse:this.props.poster,sizes:"".concat(k().audioPostAlbumCoverWidth,"px")})):null))}}m()(S,"contextType",h.Z);const T=(0,E.HJ)(S),x="BIsI3",N="OHDdK",I="KilfT",R="SDYOz",M="zZeJN",A="t69by",B="Z6JVM",Z="no7Dd",L="sl8DM";var O=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==e.media&&"tumblr"===e.provider&&(n||(0,c.Z)(null===(t=e.media)||void 0===t?void 0:t.url))},D=e=>e.provider===i.nY.Spotify,F=e=>{var t,n;return D(e)&&!!(null!==(t=e.url)&&void 0!==t&&t.includes("/episode/")||null!==(n=e.url)&&void 0!==n&&n.includes("/show/"))},_=e=>e.provider===i.nY.Soundcloud,H=e=>e.provider===i.nY.Bandcamp,U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!O(e,t)&&!!e.embedUrl&&(D(e)||H(e)||_(e))},z=(e,t,n,a)=>{var i,c=e.title,d=e.artist,u=e.album,p=e.poster,m=e.url,h={title:c,artist:d,album:u};if(O(e,n))return((e,t,n,a)=>r.createElement(T,{poster:n,trackInfo:t,src:e.url,isDocked:a}))(e.media,h,p,t);if(U(e,n))return((e,t,n)=>r.createElement(s.Z,{wrapperClassName:(0,l.Z)(o()({[x]:!0},n))},r.createElement("iframe",{title:t,className:Z,src:e,frameBorder:"0"})))(e.embedUrl,c,a);var g=m||(null===(i=e.media)||void 0===i?void 0:i.url);return g?r.createElement("a",{className:L,href:g,target:"_blank",rel:"noopener noreferrer"},g):null},V=e=>!O(e)&&!D(e)&&!U(e);const W=e=>{var t=e.block,n=e.isDocked,a=e.showsMediaCompact,s=void 0!==a&&a,i=e.isEditing,c=void 0!==i&&i,d=((e,t,n)=>({[I]:!!t||n,[N]:D(e),[R]:F(e),[M]:U(e)&&_(e),[A]:U(e)&&H(e)}))(t,n,s);return r.createElement("div",{className:(0,l.Z)(o()({[B]:!0},d))},z(t,n,c,d))}},68042:(e,t,n)=>{"use strict";n.d(t,{i:()=>xe,Z:()=>Ne});var a=n(95004),o=n(43206),r=n(95394),s=n.n(r),i=n(85313),l=n.n(i),c=n(20810),d=n.n(c),u=n(6632),p=n.n(u),m=n(97187),h=n(18602),g=n(33926),v=n(22130),b=n(2978),f=n(76155),E=n(51742),C=n(469),y=n(2540),w=n(76230),k=n(90553);function P(e){try{var t=new URL(e);return"https:"===t.protocol||"http:"===t.protocol}catch(e){return!1}}var S=n(96724),T=n(82450),x=n(99625),N=n(62513),I=n.n(N),R=n(94966);const M="DdFPj",A="jWulj",B="NDQyX",Z="Pr7R3",L="eqBap",O="tGxQL",D="x3zpc";var F=(e,t)=>{if(1===e)return t;var n=t.match(/[0-9]+/g);if(!n)return t;var a=n[0],o=parseInt(a,10),r=Math.round(o*e*100)/100;return t.replace(a,"".concat(r))};const _=(0,k.X9)((function(e){var t,n=e.block,o=e.displayAtOriginalSize,r=void 0===o||o,i=e.postContext,c=n.media,u=n.attribution,k=n.colors,N=n.altText,_=n.caption,H=n.imageScale,U=void 0===H?1:H,z=n.isBlurredImages,V=n.clickthrough,W=i!==w.Nw?i.post.actions:void 0,G=i.presentationStyle,q=G.mobilePostWidth,j=G.desktopPostWidth,K=(0,y.bp)(),Q=K.logEvent,J=K._t,Y=K.features,X=(0,C.b)(),$=X.adPlacementConfiguration,ee=X.hydraConfigInstanceId;if(q){var te=F(U,q);t=["(max-width: ".concat(R.phoneResponsiveMaxBreakpoint,"px)"),te].join(" ")}var ne=F(U,j),ae=d()([t,ne]).join(", "),oe=a.createElement("figure",{className:M},a.createElement(h.Pp,{imageResponse:c,colors:k,altText:N,sizes:ae,isBlurredImages:z})),re=e=>{var t;Q({eventName:e,eventDetails:l()({placement_id:null==i||null===(t=i.post)||void 0===t?void 0:t.placementId},(0,T.U)({adPlacementConfiguration:$,hydraConfigInstanceId:ee,timelineObject:null==i?void 0:i.post}))})},se=()=>{re(b.JE.ClickThrough),re(b.JE.Photo),re(b.JE.PhotoClickThrough)},ie=()=>{re(b.JE.WrittenUrlClickThrough)},le=(0,x.d)(W),ce=(null==V?void 0:V.webUrl)||Y.tspDirectClickThrough&&(null==le?void 0:le.tspSkipLightbox)&&(null==le?void 0:le.urls.web),de=ce?a.createElement("a",s()({className:M,href:ce,target:"_blank",rel:"noopener"},!(null!=V&&V.webUrl)&&{onClick:se}),oe):a.createElement(g.Z,{imageResponse:c,altText:N,caption:_},oe),ue=new S.Z(c),pe=ue.getLargestImage(),me=p()(i,"presentationStyle.showsSmallImagesAtOriginalWidth",!0);if(!u&&pe&&me&&r&&pe.width<R.smallImagePostBreakpoint&&pe.height<2*R.smallImagePostBreakpoint&&(oe=a.createElement("figure",{className:(0,E.Z)([M,A]),style:{width:pe.width}},a.createElement(h.Pp,{imageResponse:ue.getImagesArrayWithoutCroppedImage(),colors:k,altText:N,sizes:"".concat(pe.width,"px"),isBlurredImages:z})),de=ce?a.createElement("a",s()({className:M,href:ce,target:"_blank",rel:"noopener"},!(null!=V&&V.webUrl)&&{onClick:se}),oe):oe),u&&u.url&&P(u.url)){if((0,f.yw)(u))return a.createElement("div",{className:B},de,a.createElement(v.Z,{attribution:u}));var he=u.url;if((0,f.Jr)(u)){var ge=u.displayText;return a.createElement("div",{className:Z},de,a.createElement("a",{"aria-label":J("Attribution"),href:he,target:"_blank",rel:"noopener",className:L,onClick:ie},a.createElement("div",{className:O},ge),a.createElement("div",{className:D},a.createElement(m.iL,{size:{width:14,height:14},fill:I().paletteGray40}))))}var ve=u.urlRedirect,be=P(ve)?ve:"";return a.createElement("div",{className:Z},de,a.createElement("a",{href:be,target:"_blank",rel:"noopener",className:L,onClick:ie},a.createElement("div",{className:O},function(e){return(e||"").replace(/^https?:\/\//i,"")}(he)),a.createElement("div",{className:D},a.createElement(m.iL,{size:{width:14,height:14},fill:I().paletteGray40}))))}return de}),{postContext:!0});var H=n(5669);const U="zR66v";const z=function(e){var t=e.block,n=t.url,o=t.displayUrl,r=t.title,s=t.description,i=t.author,l=t.poster,c=t.siteName;return a.createElement("div",{className:U},a.createElement(H.Z,{urls:{displayUrl:o,redirectUrl:n},info:{title:r,description:s,author:i,poster:l,siteName:c}}))};var V=n(76319),W=n(59319),G=n(4777),q=n(84202),j=n(46048),K=n(34374),Q=n(57284),J=n(29694),Y=n(80813),X=n(34534);const $="aU80z",ee="nW3UY",te="hTKrt",ne="IfJLc",ae="FjdIX",oe="ZaZiD",re="cUWEe",se="pKFYc";const ie=function(e){var t=e.block,n=(0,y.bp)(),o=n.features.paywallConsumption,r=n.isPeeprShowing,s=(0,w.uu)().post,i=s.id,l=s.rebloggedFromId,c=t.title,d=t.text,u=t.blog,p=t.subtype;if(!u)return null;var m=u.subscriptionPlan,h=u.name,g=u.isPaywallOn,v=u.paywallAccess,b=u.theme||{},C=b.titleFont,k=b.titleFontWeight,P=b.linkColor,S=b.backgroundColor,T=(0,X.YK)(S||I().blogBackgroundColor);if(!o)return null;if(p===f.br.Divider)return v===J.bv.Creator?a.createElement(K.Z,null):null;if(p===f.br.Disabled&&v!==J.bv.Disabled)return null;if(!(v===J.bv.Disabled||m&&g))return null;var x=p===f.br.Cta,N=x?(0,V.Z)({mixedString:d.replace(/%s/,"{{blogName /}}"),components:{blogName:a.createElement("strong",null,h)}}):(0,V.Z)({mixedString:d.replace(/%s/,"{{blogName /}}"),components:{blogName:a.createElement(W.Link,{to:(0,G.Gn)(Q.u2,{peeprBlogname:h})},h)}});return a.createElement("div",{className:(0,E.Z)({[$]:!0,[ee]:r,[te]:void 0!==l}),style:(0,Y.ZP)(u)},a.createElement("div",{className:ne},x&&a.createElement(q.Z,{fill:P,size:{width:36,height:36}}),a.createElement("span",{className:ae,style:{fontFamily:"'".concat(C,"'"),fontWeight:"bold"===k?"bold":"normal"}},c)),a.createElement("div",{className:oe,style:{color:T}},N),x&&a.createElement("div",{className:re},a.createElement(j.Z,{className:se,blogName:h,postId:i,plan:m,useBlogColors:!0,context:J.Xh.Post})))};var le=n(92969),ce=n.n(le),de=n(38678),ue=n(81059),pe=n(98568),me=n(25834),he=n(8170),ge=n(64049);const ve="LbyNj",be="WwHLs",fe="bklUO",Ee="WPVvO";class Ce extends a.Component{constructor(){super(...arguments),ce()(this,"state",{shouldAutoDock:!1,mediaSize:{width:0,height:0}}),ce()(this,"reparentableMediaManager",new he.R),ce()(this,"setMediaWrapper",(e=>this.mediaWrapper=e)),ce()(this,"updateMediaSize",(()=>{if(this.mediaWrapper&&!this.currentPostIsDocked()){var e=this.mediaWrapper.offsetWidth,t=this.mediaWrapper.offsetHeight;e===this.state.mediaSize.width&&t===this.state.mediaSize.height||this.setState({mediaSize:{width:e,height:t}})}})),ce()(this,"currentPostIsDocked",(()=>{var e;return this.mediaIsDockable()&&!!this.props.dockableContext.reparentableMediaManager&&this.reparentableMediaManager.id===(null===(e=this.props.dockableContext.reparentableMediaManager)||void 0===e?void 0:e.id)})),ce()(this,"dockMedia",(e=>{this.updateMediaSize(),this.props.dockableContext.dock({isAutoDock:e,dockedTimelineObject:this.getTimelineObject(),dockedMediaBlock:this.props.media.props.block,reparentableMediaManager:this.reparentableMediaManager,canAutoDock:!!this.props.media.props.block.autoDock}),this.reparentableMediaManager.isReparented=!0})),ce()(this,"getTimelineObject",(()=>l()(l()({},this.props.postContext.post),{},{content:[],trail:[]}))),ce()(this,"undockMedia",(()=>{this.props.dockableContext.undock()})),ce()(this,"setComponentToAutoDock",(e=>{this.mediaIsDockable()&&this.state.shouldAutoDock!==e&&this.setState({shouldAutoDock:e})})),ce()(this,"autoDock",(e=>{this.mediaIsDockable()&&this.state.shouldAutoDock&&!e&&this.dockMedia(!0)})),ce()(this,"mediaIsDockable",(()=>this.props.postContext.presentationStyle.showsDockMediaButton)),ce()(this,"onClickDock",(()=>{this.dockMedia(!1)}))}componentDidMount(){this.reparentableMediaManager.id=this.props.dockableContext.getId()}componentWillUnmount(){var e=this.props.dockableContext.undock;this.currentPostIsDocked()&&e()}render(){var e=this.props,t=e.media,n=e.appContext._c,o=this.mediaIsDockable(),r=this.currentPostIsDocked(),s=n('Button label. "Dock" as in for videos that get put in the sidebar and are always visible when you scroll',"Dock post in sidebar"),i=o&&!r&&a.createElement(ue.Z,{label:s,title:s,wrapperClassName:be,onClick:this.onClickDock},a.createElement(pe.vK,{size:{width:15,height:15},fill:I().paletteWhite})),c=n('Button label. "Dock" as in for videos that get put in the sidebar and are always visible when you scroll',"Undock post in sidebar");return a.createElement(ge.Z.Provider,{value:{setComponentToAutoDock:this.setComponentToAutoDock}},a.createElement(de.df,{onChange:this.autoDock,threshold:.5},a.createElement("div",{ref:this.setMediaWrapper,className:ve},this.reparentableMediaManager.render(t.component,this.forceUpdate.bind(this),l()(l()({},t.props),{},{isDocked:r})),a.createElement(me.$,{shouldRenderContent:!r,reparentableContent:this.reparentableMediaManager}),r?(()=>o&&a.createElement(ue.Z,{label:c,title:c,wrapperClassName:fe,className:Ee,onClick:this.undockMedia,wrapperStyle:{paddingBottom:"calc(".concat(this.state.mediaSize.height/this.state.mediaSize.width*100,"% - ").concat(4,"px)")}},a.createElement(pe._C,{fill:I().paletteBlack,size:{width:30,height:30}}),n("Undock a video that is in the sidebar.","Put it back")))():i)))}}const ye=(0,k.X9)(Ce,{appContext:!0,postContext:!0,dockableContext:!0});var we=n(89551);const ke=(0,k.X9)((function(e){var t=e.block,n=e.postContext.presentationStyle.showsMediaCompact;return(0,we.XK)(t)?a.createElement(we.ZP,{block:t,showsMediaCompact:n}):a.createElement(ye,{media:{props:{block:t,showsMediaCompact:n},component:we.ZP}})}),{postContext:!0});var Pe=n(12533);const Se=e=>{var t=e.block,n=e.isEditing;return(0,Pe.SV)(t)||!(0,Pe.tY)(t,n)&&!(0,Pe.P2)(t,n)?a.createElement(Pe.ZP,{block:t}):a.createElement(ye,{media:{props:{block:t},component:Pe.ZP}})},Te="RihjV";function xe(e,t){return"".concat(e.type," ").concat(t)}const Ne=function e(t){var n=t.block,r=t.displayAtOriginalSize;if((0,f.dz)(n))return a.createElement(o.ZP,{block:n});if((0,f.cd)(n)){var s=n.elements.map(((t,n)=>{var o=xe(t,n);return a.createElement(e,{key:o,block:t,blockIndex:n})}));switch(n.type){case f.kH.OrderedList:return a.createElement("ol",{className:Te},s);case f.kH.UnorderedList:return a.createElement("ul",{className:Te},s);default:return a.createElement("div",null)}}return(0,f.RD)(n)?a.createElement(_,{block:n,displayAtOriginalSize:r}):(0,f._P)(n)?a.createElement(ke,{block:n}):(0,f.R0)(n)?a.createElement(z,{block:n}):(0,f.gD)(n)?a.createElement(Se,{block:n}):(0,f.LX)(n)?a.createElement(ie,{block:n}):null}},5669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var a=n(4622),o=n.n(a),r=n(95004),s=n(22909),i=n(469),l=n(2540),c=n(76230),d=n(58445),u=n(96392),p=n(82450),m=n(94966);const h="gXnIr",g="gaUuO",v="Nu6LP",b="Sv170",f="prqGC",E="AO6cP",C="POcHT",y="pqMQN",w="NMiaP",k="PUcxv",P="o9hq8",S="rKhPR",T="nsUJI",x="OCxEI",N="OVGbY";const I=e=>{var t,n=e.urls,a=e.info,I=(0,l.bp)().logEvent,R=(0,c.uu)(),M=(0,i.b)(),A=M.hydraConfigInstanceId,B=M.adPlacementConfiguration,Z=n.redirectUrl,L=n.displayUrl,O=R!==c.Nw?null==R||null===(t=R.post)||void 0===t?void 0:t.placementId:void 0,D=R!==c.Nw?(0,p.U)({adPlacementConfiguration:B,hydraConfigInstanceId:A,timelineObject:R.post}):{},F=o()(a)?function(e){return r.createElement("a",{className:v,href:e,target:"_blank",rel:"noopener"},e)}(Z):function(e,t,n,a,i,l,c){var u=null!=a?a:c&&(0,d.Z)(c)?new URL(c).host:null,p=!o()(n)||!o()(u)||!o()(i),h=!o()(t)||!o()(l),v=!o()(u)||!o()(i),I=!p&&!h,R=[b];p||R.push(w),l&&R.push(C);var M=m.phoneResponsiveMaxBreakpoint,A=["(max-width: ".concat(M,"px) 100vw"),"".concat(m.postWidth-2*m.linkCardHorizontalMargin,"px")].join(", "),B=h||I?r.createElement("div",{className:R.join(" ")},l&&r.createElement(s.Z,{imageResponse:l,sizes:A,className:y}),r.createElement("div",{className:f},r.createElement("span",{className:E},I?c||e:t))):null,Z=[k];h||Z.push(P),l&&Z.push(S);var L=v?r.createElement("div",{className:x},u,u&&i&&r.createElement("span",{className:N},"|"),i):null,O=p?r.createElement("div",{className:Z.join(" ")},n&&r.createElement("div",{className:T}," ",n," "),L):null;return r.createElement("a",{className:g,target:"_blank",href:e},B,O)}(Z,null==a?void 0:a.title,null==a?void 0:a.description,null==a?void 0:a.siteName,null==a?void 0:a.author,null==a?void 0:a.poster,L);return r.createElement("div",{className:h,onClick:O?()=>{(0,u.B)(I,O,D)}:void 0,role:"link"},F)}},12533:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>q,P2:()=>z,SV:()=>U,tY:()=>H});var a=n(95394),o=n.n(a),r=n(95004),s=n(36851),i=n(13700),l=n(69675),c=n(43893),d=n.n(c),u=n(2978),p=n(2540),m=n(21493),h=(0,r.createContext)(null);h.displayName="YouTubeIframeContext";var g,v,b,f=e=>{var t=e.children,n=e.initialSeekTime,a=(0,r.useState)(n),o=d()(a,2),s=o[0],i=o[1];return r.createElement(h.Provider,{value:{seekTime:s,setSeekTime:i}},t)};!function(e){e.StateChanged="stateChanged",e.CurrentTimeChanged="currentTimeChanged"}(g||(g={})),function(e){e.Initializing="initializing",e.Ready="ready",e.Buffering="buffering",e.Unstarted="unstarted",e.Playing="playing",e.AutoPlaying="autoPlaying",e.Paused="paused",e.Ended="ended"}(v||(v={})),function(e){e.Play="play",e.Seek="seek",e.Mute="mute",e.GetCurrentTime="getCurrentTime"}(b||(b={}));var E=e=>{var t=e.src,n=e.videoState,a=e.onVideoStateChange,o=e.onVideoCurrentTimeChange,s=t.split("#").pop(),i=(0,r.useState)(),l=d()(i,2),c=l[0],u=l[1];(0,r.useEffect)((()=>{if(s){var e=m.ag.listen(s,{[g.StateChanged]:e=>{if(e===v.Ready){var t=n(),o=t.source,r=t.origin,s=t.namespace,i=m.bG.bind(null,{source:o,target:r,namespace:s});u((()=>i)),a(e,i)}else a(e)},[g.CurrentTimeChanged]:o}),t=e.handler,n=e.getChannelInfo;return()=>m.ag.unlisten(t)}}),[t,s,a,o]),(e=>{var t=e.videoState,n=e.sendMessageToPlayer;(0,r.useEffect)((()=>{var e,a=()=>{t===v.Playing&&n&&(n(b.GetCurrentTime),e=setTimeout(a,1e3))};return e=setTimeout(a,1e3),()=>clearTimeout(e)}),[t,n])})({videoState:n,sendMessageToPlayer:c})},C=()=>{var e=(0,p.bp)().logEvent,t={[v.Playing]:u.JE.VideoPlay,[v.AutoPlaying]:u.JE.VideoAutoPlay,[v.Paused]:u.JE.VideoStop,[v.Ended]:u.JE.VideoEnd};return n=>{var a=t[n];a&&e({eventName:a,eventDetails:{vendor:"youtube",player_type:"youtube"}})}};const y=(0,r.forwardRef)(((e,t)=>{var n=e.src,a=e.isDocked,s=e.onStateChange,i=(0,r.useState)(v.Initializing),c=d()(i,2),u=c[0],p=c[1],m=(()=>{var e=(0,r.useContext)(h);if(!e)throw new Error("<YouTubeIframe> needs <YouTubeIframeProvider> in order to keep track of the current playback position (to resume playback when docked)");return e})(),g=m.seekTime,f=m.setSeekTime,y=C(),w=(0,r.useCallback)(((e,t)=>{if(!(a&&e===v.Playing&&[v.Buffering,v.Unstarted].includes(u))){var n=a&&e===v.Ready&&g;n&&(null==t||t(b.Seek,{to:g}),null==t||t(b.Play));var o=n?v.AutoPlaying:e;p(o),s&&s(o),y(o)}}),[g,a,u]);return E({src:n,videoState:u,onVideoStateChange:w,onVideoCurrentTimeChange:f}),r.createElement(l.Z,o()({ref:t},e,{allow:a?"autoplay":void 0}))}));var w=n(18602),k=n(49835),P=n(52385),S=n(81617),T=n(51742),x=n(76230),N=n(24937),I=n(62513),R=n.n(I),M=n(94966),A=n.n(M),B=n(7979);const Z="ypwxx",L="Cf37_",O="ONC_J",D="X93pX",F="l7zyP",_="gGIs6";var H=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=void 0!==e.media,o=a&&(n||(0,N.Z)(null===(t=e.media)||void 0===t?void 0:t.url));return o},U=e=>(null==e?void 0:e.provider)===S.G6.Instagram,z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!H(e,t)&&void 0!==e.embedIframe&&void 0!==e.provider},V=e=>{var t=e.url,n=e.poster,a=e.provider,o=(0,p.bp)()._c;return r.createElement("div",{className:F},n&&r.createElement(w.fV,{imageResponse:n,altText:a?o("Accessibility title of a thumbnail for a video on an external site. The placeholder is the name of the external site.","Thumbnail of a video on %1$s",a):o("Accessibility title of a thumbnail for a video on an unknown external site","Thumbnail of a video on an external site")}),r.createElement("div",{className:_},r.createElement("a",{href:t,target:"_blank",rel:"noopener"},r.createElement(i.Z,{fill:R().paletteWhite,withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"}),a?o("Title of a link to open a video on an external site. The placeholder is the name of the external site.","Watch on %1$s",a):null)))},W=e=>{var t,n=e.block,a=n.media,o=n.poster,s=n.filmstrip,i=n.autoDock,l=e.isDocked,c=(0,x.uu)();return r.createElement(B.Z,{media:a,useViewabilityTracker:c!==x.Nw&&((0,P.uz)(null==c?void 0:c.post)||(0,P.WN)(null==c?void 0:c.post)),timelineObject:c!==x.Nw?null==c?void 0:c.post:void 0,poster:o,filmstrip:s,isDocked:l,autoDock:i,showsDockMediaButton:c!==x.Nw?null==c||null===(t=c.presentationStyle)||void 0===t?void 0:t.showsDockMediaButton:void 0})},G=e=>{var t=e.provider,n=e.embedIframe,a=e.isDocked;return r.createElement(k.U$,null,(e=>{var i=e.width,c=n.height/n.width,d=t===S.G6.Youtube,u=Math.min(A().postWidth,i),p=d?{maxWidth:u,height:c*u}:{},m={src:n.url,title:t,allowFullScreen:!0,className:(0,T.Z)({[L]:!0,[O]:!d}),style:p};return d?r.createElement(f,null,r.createElement(s.Z,null,r.createElement(y,o()({},m,{isDocked:a})))):r.createElement(s.Z,{wrapperStyle:{paddingBottom:"".concat(n.height/n.width*100,"%")}},r.createElement(l.Z,m))}))};const q=function(e){var t=e.block,n=e.isDocked,a=e.isEditing,o=t.poster,s=t.provider,i=t.url,l=H(t,a)?r.createElement(W,{block:t,isDocked:n}):z(t,a)?r.createElement(G,{provider:t.provider,embedIframe:t.embedIframe,isDocked:n}):null;if(l){var c=s===S.G6.Youtube,d=!c&&z(t)?{paddingBottom:"".concat(t.embedIframe.height/t.embedIframe.width*100,"%")}:void 0;return r.createElement("div",{className:(0,T.Z)({[Z]:!0,[D]:z(t)&&!c}),style:d},l)}return r.createElement(V,{url:i,poster:o,provider:s})}},7979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Be});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(83707),l=n(95004),c=n(38678),d=n(85787);var u=n(81059),p=n(64049),m=n(62513),h=n.n(m),g=n(80630),v=(0,g.qv)(l.createElement("svg",{viewBox:"2 2 20 22"},l.createElement("path",{fillRule:"evenodd",d:"M5 12c0-.289 1.609-.24 1.609 0a5.39 5.39 0 105.39-5.39c-3.041 0-3.638 1.811-3.404 1.588l1.732 1.535-4.556.504L5.734 5.8l1.373 1.205A6.965 6.965 0 0112 5a7 7 0 11-7 7z"})));v.defaultProps={size:{width:40,height:40},fill:m.white};const b=v;var f,E,C,y,w,k=n(95537),P=n(46197);!function(e){e.Mute="video_mute",e.Unmute="video_unmute",e.Play="video_play",e.Autoplay="video_auto_play",e.Pause="video_pause",e.Autopause="video_auto_stop",e.Loop="video_loop",e.Scrub="video_scrub_end",e.Fullscreen="video_fullscreen"}(f||(f={})),function(e){e.Start="video_start"}(E||(E={})),function(e){e.Quartile25="video_quartile_25",e.Quartile50="video_quartile_50",e.Quartile75="video_quartile_75",e.Quartile100="video_quartile_100"}(C||(C={})),function(e){e.View1Second="video_view_1_second",e.View2Seconds="video_view_2_second",e.View3Seconds="video_view_3_second",e.View10Seconds="video_view_10_second"}(y||(y={})),function(e){e.PositionChange="position_change",e.Reset="reset"}(w||(w={}));var S={[C.Quartile25]:.25,[C.Quartile50]:.5,[C.Quartile75]:.75,[C.Quartile100]:.98},T={[y.View1Second]:1,[y.View2Seconds]:2,[y.View3Seconds]:3,[y.View10Seconds]:10},x=n(90553),N={a:0,c:1,p:50};const I=class{constructor(e,t){s()(this,"beacons",[]),s()(this,"lastMetReqTime",0),s()(this,"totalTimeMeetingReqs",0),this.ruleKey=e,this.reqAudioOn=!!t.a,this.reqContinuous=!!t.c,this.reqDuration=t.d,this.reqPercentInView=t.p||0,this.isDurationCheckpoint=t.isDurationCheckpoint}reset(){this.totalTimeMeetingReqs=0}setBeacons(e){this.beacons=e}fireBeacons(){this.hasFiredBeacons||(this.beacons.forEach((e=>e())),this.isDurationCheckpoint||(this.hasFiredBeacons=!0))}checkRule(e){if(!this.audioCheck(e)||!this.inViewCheck(e))return this.reqContinuous&&(this.lastMetReqTime=null),!1;var t=e.getTimePosition();null===this.lastMetReqTime?this.totalTimeMeetingReqs=0:this.totalTimeMeetingReqs+=t-this.lastMetReqTime;var n=this.durationCheck(t);return this.lastMetReqTime=t,n}audioCheck(e){return!(this.reqAudioOn&&e.isMuted())}inViewCheck(e){return!(this.reqPercentInView>0&&!e.isInView())}durationCheck(e){if(!this.reqDuration)return!0;if(this.reqContinuous)return this.totalTimeMeetingReqs>=this.reqDuration;var t=e===this.reqDuration,n=this.lastMetReqTime===this.reqDuration,a=t&&!n,o=e>this.reqDuration,r=Number(this.lastMetReqTime)<this.reqDuration,s=e-Number(this.lastMetReqTime)<1;return a||o&&r&&s}};const R=class{constructor(e,t){if(s()(this,"setRulesFromDuration",(e=>{var t=Object.keys(T).map((e=>{var t=new I(e,o()(o()({},N),{},{d:T[e]}));return t.beacons=[()=>this.beaconDefinition(e)],t}));Number.isNaN(e)||(t=t.concat(Object.keys(S).map((t=>{var n=new I(t,{d:S[t]*e,isDurationCheckpoint:!0});return n.beacons=[()=>this.beaconDefinition(t)],n})))),this.rules=t})),!e)throw new Error("RuleEngine cannot be instantiated without beaconDefinition! Check the placement id of the viewability tracker.");this.beaconDefinition=e,this.setRulesFromDuration(t)}updateMaxDuration(e){this.setRulesFromDuration(e)}checkRules(e){this.rules.forEach((t=>t.checkRule(e)&&t.fireBeacons()))}resetContinuousRules(){this.resetRules((e=>!!e.reqContinuous))}resetAudioOnContinuousRules(){this.resetRules((e=>!!e.reqContinuous&&e.reqAudioOn))}resetRules(e){this.rules.forEach((t=>e(t)&&t.reset()))}};var M="webkitbeginfullscreen";const A=class{constructor(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s()(this,"isFullscreen",!1),s()(this,"isAutoplay",(()=>this.videoEl.autoplay)),s()(this,"isMuted",(()=>this.videoEl.muted)),s()(this,"getTimePosition",(()=>this.videoEl.currentTime)),s()(this,"getMaxDuration",(()=>Number.isNaN(this.videoEl.duration)?null:this.videoEl.duration)),s()(this,"handleMute",(()=>this.stateChangeFn(f.Mute))),s()(this,"handleUnmute",(()=>this.stateChangeFn(f.Unmute))),s()(this,"handleLoop",(()=>this.stateChangeFn(f.Loop))),s()(this,"handleScrub",(()=>this.stateChangeFn(f.Scrub))),s()(this,"handleFullscreen",(()=>this.stateChangeFn(f.Fullscreen))),s()(this,"handlePause",(()=>this.stateChangeFn(this.isAutoplay()?f.Autopause:f.Pause))),s()(this,"handlePlay",(()=>this.stateChangeFn(this.isAutoplay()?f.Autoplay:f.Play))),s()(this,"handleTimeUpdate",(()=>this.stateChangeFn(w.PositionChange))),this.videoEl=e,this.stateChangeFn=t,this.isInView=n,this.options=a,this.lastKnownIsMuted=this.videoEl.muted,this.addEventListeners()}addEventListeners(){this.videoEl.addEventListener("timeupdate",(()=>this.handleTimeUpdate())),this.videoEl.addEventListener("play",(()=>this.handlePlay())),this.videoEl.addEventListener("pause",(()=>this.handlePause())),this.videoEl.addEventListener("ended",(()=>{this.nextSeekedIsLoop=!0,this.options.doesVideoLoop&&this.handleLoop()})),this.videoEl.addEventListener("seeked",(()=>{this.nextSeekedIsLoop&&0===Math.floor(this.videoEl.currentTime)?this.nextSeekedIsLoop=!1:this.handleScrub()})),["fullscreenchange","webkitfullscreenchange",M].forEach((e=>{this.videoEl.addEventListener(e,(()=>{e!==M&&this.isFullscreen?this.isFullscreen=!1:(this.isFullscreen=!0,this.handleFullscreen())}))})),this.videoEl.addEventListener("volumechange",(()=>{var e=!this.lastKnownIsMuted&&this.isMuted(),t=this.lastKnownIsMuted&&!this.isMuted();this.lastKnownIsMuted=this.isMuted(),e?this.handleMute():t&&this.handleUnmute()}))}};class B extends l.Component{constructor(){super(...arguments),s()(this,"lastEventTime",0),s()(this,"totalPlayTime",0),s()(this,"totalUniquePlayedSeconds",new Set),s()(this,"provideEventDetails",P.L),s()(this,"updateTotalPlayTime",(()=>{var e=this.videoContext.getTimePosition(),t=this.videoContext.getMaxDuration();t&&this.totalUniquePlayedSeconds.size<Math.ceil(t)&&this.totalUniquePlayedSeconds.add(Math.floor(e));var n=e-this.lastEventTime;this.lastEventTime=e,n>0&&n<1&&(this.totalPlayTime+=n)})),s()(this,"sendAnalyticsEvent",((e,t)=>{var n=this.props,a=n.videoRef,r=n.timelineObject;if(a){var s=a.currentTime,i=a.duration;this.props.appContext.logEvent({eventName:e,eventDetails:o()(o()({},this.provideEventDetails(r,!0)),{},{is_ad:!0,placement_id:r.placementId,video:{current_position:s,total_length:i,timestamp:Date.now(),total_play_length:this.totalPlayTime,total_unique_play_length:this.totalUniquePlayedSeconds.size}})},{sendPayloadImmediately:t})}})),s()(this,"getBeaconDefinitions",(()=>{if(this.props.timelineObject.placementId&&""!==this.props.timelineObject.placementId)return this.sendAnalyticsEvent})),s()(this,"sendUnloadEvent",(()=>{var e,t;!this.props.videoRef||null!==(e=this.props.videoRef)&&void 0!==e&&e.paused||(null===(t=this.getBeaconDefinitions())||void 0===t||t(f.Autopause,!0))})),s()(this,"updateRulesEngineDuration",(()=>{this.props.videoRef&&this.rulesEngine.updateMaxDuration(this.props.videoRef.duration)}))}componentDidUpdate(e){!e.videoRef&&this.props.videoRef&&this.setVideoContextAndRulesEngine(this.props.videoRef)}componentDidMount(){this.props.videoRef&&this.setVideoContextAndRulesEngine(this.props.videoRef)}componentWillUnmount(){var e;null===(e=this.props.videoRef)||void 0===e||e.removeEventListener("loadedmetadata",this.updateRulesEngineDuration),window.removeEventListener("beforeunload",this.sendUnloadEvent)}render(){return null}stateChanged(e){var t;switch(e){case f.Mute:case f.Unmute:case f.Loop:case f.Scrub:case f.Fullscreen:this.fireBeacon(e);break;case f.Play:case f.Autoplay:this.hasStarted||(this.hasStarted=!0,this.fireBeacon(E.Start)),this.fireBeacon(e);break;case f.Pause:case f.Autopause:this.rulesEngine.resetContinuousRules(),this.fireBeacon(e);break;case w.Reset:this.rulesEngine.resetRules((()=>!0));break;case w.PositionChange:null!==(t=this.props.videoRef)&&void 0!==t&&t.paused||this.updateTotalPlayTime(),this.rulesEngine.checkRules(this.videoContext);break;default:this.rulesEngine.checkRules(this.videoContext)}}fireBeacon(e){var t;null===(t=this.getBeaconDefinitions())||void 0===t||t(e)}setVideoContextAndRulesEngine(e){var t=this.props,n=t.isInView,a=t.videoContextOptions;this.videoContext=new A(e,(e=>this.stateChanged(e)),n,a);var o=this.getBeaconDefinitions();if(!o)throw new TypeError("Placement ID must be available");this.rulesEngine=new R(o,e.duration),e.addEventListener("loadedmetadata",this.updateRulesEngineDuration),window.addEventListener("beforeunload",this.sendUnloadEvent)}}const Z=(0,x.X9)(B,{appContext:!0,adContext:!0});var L=n(49835),O=n(66438),D=n(81617),F=n(51742);var _=n(96724),H=n(94966),U=n.n(H),z=(0,g.qv)(l.createElement("svg",{viewBox:"0 0 24 24"},l.createElement("path",{d:"M17.793 8.906a.515.515 0 01-.364-.879l4.27-4.27a1.03 1.03 0 10-1.457-1.455l-4.269 4.27a.515.515 0 01-.879-.365V3.758a1.03 1.03 0 00-2.06 0v6.178c0 .568.462 1.03 1.03 1.03h6.178a1.03 1.03 0 100-2.06h-2.449z"}),l.createElement("path",{d:"M8.906 17.793a.515.515 0 00-.879-.364l-4.27 4.27a1.03 1.03 0 11-1.455-1.457l4.269-4.27a.515.515 0 00-.364-.878h-2.45a1.03 1.03 0 010-2.06h6.179c.568 0 1.03.462 1.03 1.03v6.178a1.03 1.03 0 11-2.06 0v-2.45z"})));z.defaultProps={size:{width:24,height:24},fill:m.white};const V=z;var W=(0,g.qv)(l.createElement("svg",{viewBox:"0 0 24 24"},l.createElement("path",{d:"M17.242 4.06c.458 0 .688.554.364.878l-4.27 4.27a1.03 1.03 0 101.456 1.456l4.27-4.27a.515.515 0 01.879.364v2.45a1.03 1.03 0 002.059 0V3.03A1.03 1.03 0 0020.97 2h-6.178a1.03 1.03 0 100 2.06h2.45z"}),l.createElement("path",{d:"M4.06 17.242c0 .459.554.688.878.364l4.27-4.27a1.03 1.03 0 111.456 1.457l-4.27 4.269a.515.515 0 00.364.879h2.45a1.03 1.03 0 010 2.059H3.03A1.03 1.03 0 012 20.97v-6.177a1.03 1.03 0 112.06 0v2.449z"})));W.defaultProps={size:{width:24,height:24},fill:m.white};const G=W;var q=(0,g.qv)(l.createElement("svg",{viewBox:"0 0 20 15"},l.createElement("path",{d:"M18.5 0H1.6C.7 0 0 .7 0 1.5v12.1c0 .8.7 1.4 1.6 1.4h16.9c.9 0 1.6-.6 1.6-1.5v-12C20 .7 19.3 0 18.5 0zM9.2 11H7.6V8h-3v3H3V4h1.6v2.7h2.9V4h1.6c.1 0 .1 7 .1 7zm7.6-2.1c-.1.4-.3.8-.6 1.1-.3.3-.6.6-1 .7-.4.2-.9.3-1.5.3h-3.1V4h3.1c.5 0 .9.1 1.3.2s.8.4 1 .6c.3.3.5.6.7 1.1.2.5.3 1 .3 1.6 0 .5-.1.9-.2 1.4zm-1.8-3c-.2-.2-.4-.4-.6-.5-.3-.1-.6-.2-1-.2h-1.1v4.4h1.4c.2 0 .5 0 .7-.1.2-.1.4-.2.6-.4.2-.2.3-.4.4-.7.1-.3.2-.6.2-1s0-.7-.1-1c-.3 0-.4-.3-.5-.5z"})));q.defaultProps={size:{width:24,height:24},fill:m.white};const j=q;var K=n(62930),Q=(0,g.qv)(l.createElement("svg",{viewBox:"0 0 24 24"},l.createElement("mask",{id:"a",width:"13",height:"17",x:"2",y:"3",fill:"#000",maskUnits:"userSpaceOnUse"},l.createElement("path",{fill:"#fff",d:"M2 3h13v17H2z"}),l.createElement("path",{d:"M8.261 15.06a1 1 0 00-.583-.188H5a1 1 0 01-1-1V10.12a1 1 0 011-1h2.678a1 1 0 00.584-.188l3.946-2.837A.5.5 0 0113 6.5v10.991a.5.5 0 01-.792.406L8.261 15.06z"})),l.createElement("path",{d:"M12.208 6.095l1.168 1.624-1.168-1.624zm0 11.803l1.168-1.624-1.168 1.624zM8.262 8.932L7.094 7.308l1.168 1.624zm0 6.128l-1.168 1.624L8.26 15.06zm-.584-2.188H5v4h2.678v-4zm-2.678 0a1 1 0 011 1H2a3 3 0 003 3v-4zm1 1V10.12H2v3.752h4zm0-3.752a1 1 0 01-1 1v-4a3 3 0 00-3 3h4zm-1 1h2.678v-4H5v4zm4.43-.564l3.946-2.837L11.04 4.47 7.094 7.308l2.335 3.248zm3.946-2.837C12.383 8.432 11 7.723 11 6.5h4c0-2.037-2.306-3.219-3.96-2.03l2.336 3.248zM11 6.5v10.991h4V6.501h-4zm0 10.991c0-1.222 1.383-1.931 2.376-1.218l-2.335 3.248c1.653 1.189 3.959.007 3.959-2.03h-4zm2.376-1.218l-3.947-2.838-2.335 3.248 3.947 2.838 2.335-3.248zM7.678 11.12a3 3 0 001.751-.564L7.094 7.308a1 1 0 01.584-.188v4zm0 5.752a1 1 0 01-.584-.188l2.335-3.248a3 3 0 00-1.751-.564v4z",mask:"url(#a)"}),l.createElement("path",{d:"M22.77 9.23a.784.784 0 00-1.108 0l-1.108 1.108a.784.784 0 01-1.108 0L18.338 9.23a.784.784 0 00-1.108 1.108l1.108 1.108a.784.784 0 010 1.108l-1.108 1.108a.784.784 0 001.108 1.108l1.108-1.108a.784.784 0 011.108 0l1.108 1.108a.784.784 0 001.108-1.108l-1.108-1.108a.784.784 0 010-1.108l1.108-1.108a.784.784 0 000-1.108z"})));Q.defaultProps={size:{width:24,height:24},fill:m.white};const J=Q;var Y=(0,g.qv)(l.createElement("svg",{viewBox:"0 0 24 24"},l.createElement("path",{d:"M16.564 9.44c-.288.472-.107 1.083.17 1.561a1.998 1.998 0 01-.001 1.998c-.276.478-.457 1.09-.169 1.56.288.472.916.627 1.302.231A3.986 3.986 0 0019 12c0-1.085-.432-2.07-1.134-2.79-.386-.396-1.014-.241-1.302.23zm2.37 7.09c-.417.362-.572.972-.284 1.443.288.472.91.625 1.34.28A7.985 7.985 0 0023 12a7.985 7.985 0 00-3.01-6.253c-.43-.345-1.052-.192-1.34.28-.288.47-.133 1.08.284 1.443A5.986 5.986 0 0121 12c0 1.809-.8 3.43-2.066 4.53z"}),l.createElement("mask",{id:"a",width:"13",height:"17",x:"2",y:"3",fill:"#000",maskUnits:"userSpaceOnUse"},l.createElement("path",{fill:"#fff",d:"M2 3h13v17H2z"}),l.createElement("path",{d:"M8.261 15.06a1 1 0 00-.583-.188H5a1 1 0 01-1-1V10.12a1 1 0 011-1h2.678a1 1 0 00.584-.188l3.946-2.837A.5.5 0 0113 6.5v10.991a.5.5 0 01-.792.406L8.261 15.06z"})),l.createElement("path",{d:"M12.208 6.095l1.168 1.624-1.168-1.624zm0 11.803l1.168-1.624-1.168 1.624zM8.262 8.932L7.094 7.308l1.168 1.624zm0 6.128l-1.168 1.624L8.26 15.06zm-.584-2.188H5v4h2.678v-4zm-2.678 0a1 1 0 011 1H2a3 3 0 003 3v-4zm1 1V10.12H2v3.752h4zm0-3.752a1 1 0 01-1 1v-4a3 3 0 00-3 3h4zm-1 1h2.678v-4H5v4zm4.43-.564l3.946-2.837L11.04 4.47 7.094 7.308l2.335 3.248zm3.946-2.837C12.383 8.432 11 7.723 11 6.5h4c0-2.037-2.306-3.219-3.96-2.03l2.336 3.248zM11 6.5v10.991h4V6.501h-4zm0 10.991c0-1.222 1.383-1.931 2.376-1.218l-2.335 3.248c1.653 1.189 3.959.007 3.959-2.03h-4zm2.376-1.218l-3.947-2.838-2.335 3.248 3.947 2.838 2.335-3.248zM7.678 11.12a3 3 0 001.751-.564L7.094 7.308a1 1 0 01.584-.188v4zm0 5.752a1 1 0 01-.584-.188l2.335-3.248a3 3 0 00-1.751-.564v4z",mask:"url(#a)"})));Y.defaultProps={size:{width:24,height:24},fill:m.white};const X=Y;var $=(0,g.qv)(l.createElement("svg",{viewBox:"0 0 24 24"},l.createElement("path",{d:"M20.508 11.126a1.022 1.022 0 010 1.748L7.257 20.788C6.258 21.384 5 20.653 5 19.478V4.522c0-1.176 1.258-1.907 2.257-1.31l13.25 7.913z"})));$.defaultProps={size:{width:24,height:24},fill:m.white};const ee=$;var te=n(2540);const ne="V3aM5",ae="NUgGE",oe="ES7KG",re="NqMAD",se="kmLdA",ie="qW8gI",le="g82Fd",ce="oaGjt",de="YBpn6",ue="m4j3o",pe="FdHaH",me="IUn0z",he="cP4TA";const ge=l.forwardRef(((e,t)=>{var n=e.filmstrip,a=e.onClickToggleFullScreen,o=e.onClickPlay,r=e.onClickPause,s=e.onClickVolume,i=e.onClickHd,c=e.isHdAvailable,d=e.isFullScreen,p=e.isHd,m=e.isMuted,g=e.isPlaying,v=e.isInitialOverlay,b=e.time,f=e.handlePosition,E=e.handleHoverPosition,C=e.onMouseMoveSeekbarWrapper,y=e.onMouseLeaveSeekbarWrapper,w=e.onMouseDownSeekbarWrapper,k=e.onMouseUpSeekbarWrapper,P=e.onClickSeekHandleHover,S=e.buffered,T=e.seekHover,x=e.frameTime,N=e.thumbnailStyles,I=e.useLimitedControls,R=e.soundDisabled,M=e.showMuteControlOnly,A=(0,te.bp)()._c,B=I&&{height:40,width:40},Z=!R&&l.createElement(u.Z,{className:he,onClick:s,label:A("Video controls","Mute sound"),"aria-pressed":m},m?l.createElement(J,{size:B}):l.createElement(X,{size:B})),L={display:v?"none":void 0};return I||M?l.createElement("div",{className:(0,F.Z)([ne,ae]),style:L},Z):l.createElement("div",{className:ne,style:L},g?l.createElement(u.Z,{className:he,onClick:r,label:A("Video controls","Pause")},l.createElement(K.Z,null)):l.createElement(u.Z,{className:he,onClick:o,label:A("Video controls","Play")},l.createElement(ee,null)),l.createElement("div",{className:oe,onMouseMove:C,onMouseLeave:y,onMouseDown:w,onMouseUp:k,role:"progressbar"},l.createElement("div",{className:re,ref:t},l.createElement("div",{className:ie,style:{width:"".concat(S,"%")}}),l.createElement("div",{className:se,style:{width:f}}),l.createElement("div",{className:"".concat(le," ").concat(T?de:""),style:{left:f}}),l.createElement("div",{className:(0,F.Z)({[ce]:!0,[de]:T}),style:T?{visibility:"visible",left:"".concat(E,"px")}:void 0,onClick:P,role:"button"},n&&l.createElement("div",{className:ue,style:N},l.createElement("div",{className:pe},x))))),l.createElement("div",{className:me}," ",b||"--:--"," "),c&&l.createElement(u.Z,{className:he,onClick:i,label:A("Video controls","Toggle high definition")},l.createElement(j,{fill:p?h().paletteWhite:h().transparentWhite65})),l.createElement(u.Z,{className:he,onClick:a,label:A("Video controls","Toggle full screen")},d?l.createElement(V,{"data-testid":"collapse-icon",size:{width:22,height:22}}):l.createElement(G,{"data-testid":"fullscreen-icon",size:{width:22,height:22}})),Z)}));var ve=n(13700),be=n(22654);const fe="kEaLk",Ee="C4lo4",Ce="EfjkQ",ye="eB3NB";const we=function(e){var t=e.isPlaying,n=e.showPoof,a=e.isLoading,o=e.isInitialOverlay,r=e.onAnimationEndPoof;return l.createElement("div",{className:"".concat(fe," ").concat(t?ye:"")},o&&l.createElement(ve.Z,{withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"}),n&&l.createElement("div",{className:Ce,onAnimationEnd:r},t?l.createElement(ve.Z,{withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"}):l.createElement(K.Z,{size:{width:24,height:24}})),a&&l.createElement("div",{className:Ee},l.createElement(be.Z,{small:!0})))},ke="gDuxW",Pe="yz4vl",Se="oce3Y",Te="RYYxJ",xe="iTJ8p",Ne="ykHbW",Ie="sm7Xn",Re="qILrx";var Me;!function(e){e[e.AdStopped=0]="AdStopped",e[e.AdVideoStart=1]="AdVideoStart",e[e.AdVideoFirstQuartile=2]="AdVideoFirstQuartile",e[e.AdVideoMidpoint=3]="AdVideoMidpoint",e[e.AdVideoThirdQuartile=4]="AdVideoThirdQuartile",e[e.AdVideoComplete=5]="AdVideoComplete",e[e.AdPaused=6]="AdPaused",e[e.AdPlaying=7]="AdPlaying",e[e.AdVolumeChange=8]="AdVolumeChange"}(Me||(Me={}));class Ae extends l.Component{constructor(){super(...arguments),s()(this,"state",{playing:!1,autoplay:!1,isMuted:!!this.props.isMuted,showControls:!0,time:"",isHd:!1,isHdAvailable:!1,seekHover:!1,handleHoverPosition:0,handlePosition:"0%",showHdIcon:!1,loading:!1,showPoof:!1,isInitialOverlay:!0,buffered:0,frameTime:"",thumbnailCount:10,filmstripOffset:0,hasPausedSource:null,isSeeking:!1,isFullScreen:!1,videoEl:null,isVideoIntersecting:!1,hasVideoIntersected:!1,hasClickedVideoOrMuteControl:!1,showMuteControlOnly:!0}),s()(this,"fscreen",i.Z),s()(this,"seekBar",l.createRef()),s()(this,"videoContainerRef",l.createRef()),s()(this,"getVideoElementProps",(e=>{var t=this.props,n=t.media,a=t.poster,r=t.isVideoSponsoredDay,s=t.appContext._t,i=t.minHeight,l=void 0===i?250:i,c=t.videoElementProps,d=void 0===c?{}:c,u=this.state,p=u.playing,m=u.autoplay,h=u.isMuted,g=u.isFullScreen;return o()(o()({muted:h,autoPlay:m,style:{minHeight:n.height?Math.min(n.height,l):l},role:"button",crossOrigin:"anonymous",playsInline:!0,ref:this.setVideoEl,onEnded:this.onEnded,onTouchEnd:this.onTouchEnd,poster:a&&new _.Z(a).getOriginalSourceClosestToWidth(Math.min(e,U().postWidth)).url},this.shouldShowCustomControls()?{role:"button","aria-label":s(p?"Pause":"Play"),onClick:this.onVideoClick,onLoadedData:this.getVideoDurationInMinSec,onWaiting:this.onVideoWaiting,onCanPlayThrough:this.hideLoading,onPlaying:this.hideLoading,onSeeking:this.hideLoading,onSeeked:this.hideLoading,onVolumeChange:g?this.onVolumeChangeFullScreen:void 0,onTimeUpdate:this.onTimeUpdateVideo,onProgress:this.onProgressVideo}:{controls:!r,controlsList:"nodownload"}),d)})),s()(this,"renderVideoControls",(()=>{var e=this.props,t=e.filmstrip,n=e.soundDisabled,a=e.isVideoSponsoredDay,o=e.appContext._t,r=this.state,s=r.isHd,i=r.time,c=r.playing,p=r.isMuted,m=r.isInitialOverlay,g=r.isHdAvailable,v=r.isFullScreen,f=r.handlePosition,E=r.handleHoverPosition,C=r.buffered,y=r.seekHover,w=r.frameTime,k=r.isVideoFinished,P=r.videoEl,S=r.showMuteControlOnly;return l.createElement(l.Fragment,null,l.createElement(ge,{onClickToggleFullScreen:this.onClickToggleFullScreen,onClickPlay:this.onClickPlay,onClickPause:this.onClickPause,onClickVolume:this.onClickVolume,onClickHd:this.onClickHd,isFullScreen:v,isHdAvailable:g,isHd:s,isMuted:p,isPlaying:c,time:i,isInitialOverlay:m,handlePosition:f,handleHoverPosition:E,buffered:C,seekHover:y,frameTime:w,onMouseMoveSeekbarWrapper:this.onMouseMoveSeekbarWrapper,onMouseLeaveSeekbarWrapper:this.onMouseLeaveSeekbarWrapper,onMouseDownSeekbarWrapper:this.onMouseDownSeekbarWrapper,onMouseUpSeekbarWrapper:this.onMouseUpSeekbarWrapper,onClickSeekHandleHover:this.onClickSeekHandleHover,filmstrip:t,thumbnailStyles:this.getThumbnailStyles(),useLimitedControls:a||void 0,soundDisabled:n,showMuteControlOnly:S,ref:this.seekBar}),a&&l.createElement(d.ZP,{in:k&&(null==P?void 0:P.duration)===(null==P?void 0:P.currentTime),timeout:200,mountOnEnter:!0,unmountOnExit:!0},(e=>l.createElement("div",{className:(0,F.Z)({[Ne]:!0,[Ie]:[d.d0,d.Ix,d.Wj].includes(e)}),style:{transition:"opacity ".concat(200,"ms")}},l.createElement(u.Z,{label:o("Replay video"),wrapperClassName:Re,onClick:this.onReplayVideoClick},l.createElement(b,{size:{height:65,width:65},fill:h().white}))))))})),s()(this,"shouldShowCustomControls",(()=>this.props.isVideoSponsoredDay||!matchMedia("(hover: none)").matches)),s()(this,"setVideoEl",(e=>this.setState({videoEl:e}))),s()(this,"playVideo",(()=>{var e;return null===(e=this.state.videoEl)||void 0===e?void 0:e.play().catch((()=>this.setState({playing:!1})))})),s()(this,"pauseVideo",(()=>{var e;return null===(e=this.state.videoEl)||void 0===e?void 0:e.pause()})),s()(this,"onClickPause",(()=>this.onUXTriggerPause(D.Fj.User,!1))),s()(this,"onClickPlay",(()=>this.onUXTriggerPlay(!1))),s()(this,"onUXTriggerPause",((e,t)=>this.setState({hasPausedSource:e,autoplay:t,playing:!1}))),s()(this,"onUXTriggerPlay",(e=>this.setState({autoplay:e,playing:!0,hasPausedSource:null}))),s()(this,"onClickVolume",(e=>{e.preventDefault(),e.stopPropagation(),this.setState((e=>{var t=e.isMuted,n=e.videoEl;return t&&n&&!n.volume&&(n.volume=1),{isMuted:!t,hasClickedVideoOrMuteControl:!0}}))})),s()(this,"onVolumeChangeFullScreen",(e=>this.setState({isMuted:e.currentTarget.muted||!e.currentTarget.volume}))),s()(this,"onMouseEnterVideo",(()=>this.setState({showControls:!0,showMuteControlOnly:!1}))),s()(this,"onMouseLeaveVideo",(()=>this.setState((e=>({showControls:!e.hasClickedVideoOrMuteControl,showMuteControlOnly:!e.hasClickedVideoOrMuteControl}))))),s()(this,"onAnimationEndPoof",(()=>this.setState({showPoof:!1}))),s()(this,"onEnded",(()=>{this.setState({isVideoFinished:!0}),this.props.disableAutolooping||this.resetVideoPosition(!0)})),s()(this,"onTouchEnd",(()=>this.setState({autoplay:!1}))),s()(this,"onClickHd",(()=>this.setState((e=>({isHd:!e.isHd}))))),s()(this,"onVideoClick",(()=>!this.props.isVideoSponsoredDay&&this.setState((e=>({playing:!e.playing,autoplay:!1,showPoof:!0,isInitialOverlay:!1,hasPausedSource:e.playing?D.Fj.User:null,hasClickedVideoOrMuteControl:!0}))))),s()(this,"onVideoWaiting",(()=>this.setState({loading:!0}))),s()(this,"hideLoading",(()=>this.setState({loading:!1}))),s()(this,"getVideoDurationInMinSec",(()=>this.state.videoEl&&this.setState({time:this.formatVideoTime(this.state.videoEl.duration)}))),s()(this,"formatVideoTime",(e=>{var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n<10?"0".concat(n):n)})),s()(this,"isVideoInView",(()=>this.state.isVideoIntersecting)),s()(this,"setPlaybackPosition",(e=>{var t=this.state.videoEl,n=((null==t?void 0:t.duration)||0)*e;this.setState((e=>({handlePosition:"".concat(e.handleHoverPosition,"px")}))),t&&(t.currentTime=n)})),s()(this,"onMouseMoveSeekbarWrapper",(e=>{var t,n;this.setState({seekHover:!0});var a=this.state,o=a.isSeeking,r=a.videoEl,s=a.thumbnailCount,i=(null===(t=e.currentTarget.firstElementChild)||void 0===t?void 0:t.getBoundingClientRect().width)||0,l=Math.abs(Math.round(e.clientX-((null===(n=e.currentTarget.firstElementChild)||void 0===n?void 0:n.getBoundingClientRect().left)||0)));if(!(l<0||l>i)){var c=l/i,d=100*c,u=Math.floor(c*((null==r?void 0:r.duration)||0)),p=100/(s-1),m=Math.floor(d/s)*p;this.setState({handleHoverPosition:l,filmstripOffset:m}),this.updateFrameTime(u),o&&this.setPlaybackPosition(c)}})),s()(this,"updateFrameTime",(e=>this.setState({frameTime:this.formatVideoTime(e)}))),s()(this,"onMouseDownSeekbarWrapper",(()=>this.setState({isSeeking:!0}))),s()(this,"onMouseUpSeekbarWrapper",(()=>this.setState({isSeeking:!1}))),s()(this,"onMouseLeaveSeekbarWrapper",(()=>this.setState({seekHover:!1,isSeeking:!1}))),s()(this,"onClickSeekHandleHover",(e=>{var t,n,a=e.clientX-((null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.getBoundingClientRect().left)||0),o=null===(n=this.seekBar.current)||void 0===n?void 0:n.getBoundingClientRect().width;if(o){var r=a/o;this.setPlaybackPosition(r)}})),s()(this,"getThumbnailStyles",(()=>{var e=this.props.filmstrip,t=this.state,n=t.thumbnailCount,a=t.filmstripOffset;if(!e)return{};var o=e.height,r=e.width,s=e.url,i=.35*r/n,l=.35*o;return{top:-(l+10),left:-i/2+5,width:"".concat(i,"px"),height:"".concat(l,"px"),backgroundImage:"url(".concat(s,")"),backgroundSize:"".concat(i*n,"px ").concat(l,"px"),backgroundPosition:"".concat(a,"% 0%")}})),s()(this,"onTimeUpdateVideo",(()=>{var e=this.state,t=e.showControls,n=e.videoEl;if(t&&n){var a=n.duration,o=n.currentTime,r=o/a*100;this.setState({handlePosition:"".concat(r,"%"),time:this.formatVideoTime(a-o)})}})),s()(this,"onProgressVideo",(()=>{var e=this.state.videoEl;if(e){var t=e.duration,n=e.buffered,a=e.currentTime;if(t>0)for(var o=0;o<n.length;o+=1)if(n.start(n.length-1-o)<=a){var r=n.end(n.length-1-o);this.setState({buffered:r/t*100});break}}})),s()(this,"onClickToggleFullScreen",(()=>{var e,t;!this.state.isFullScreen&&null!==(e=this.videoContainerRef)&&void 0!==e&&e.current?(this.setViewportResizeRender(L.BI.Disable),this.fscreen.requestFullscreen(null===(t=this.videoContainerRef)||void 0===t?void 0:t.current),this.setState({isFullScreen:!0},(()=>{this.fscreen.addEventListener("fullscreenchange",this.onFullScreenExit)}))):this.fscreen.exitFullscreen()})),s()(this,"onFullScreenExit",(()=>{this.fscreen.fullscreenElement||this.setState({isFullScreen:!1},(()=>{this.setViewportResizeRender(L.BI.Enable),this.fscreen.removeEventListener("fullscreenchange",this.onFullScreenExit)}))})),s()(this,"onReplayVideoClick",(e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),this.resetVideoPosition(!1)})),s()(this,"resetVideoPosition",(e=>this.setState({autoplay:e,handlePosition:"0%",isVideoFinished:!1,playing:!0},(()=>{this.state.videoEl&&(this.state.videoEl.currentTime=0,this.playVideo())})))),s()(this,"getMediaType",(()=>{var e=this.props.media;return e.type===D.w3.Mov?void 0:e.type})),s()(this,"handleIntersectionChange",(e=>{this.setState((t=>{var n=t.playing,a=t.hasPausedSource,o=t.isVideoFinished,r=t.autoplay,s=t.hasVideoIntersected||e,i=this.shouldAutoDock(s)?n:e&&!a&&!o;return{playing:i,autoplay:n!==i||r,isInitialOverlay:!1,isVideoIntersecting:e,hasVideoIntersected:s}}))})),s()(this,"onVisibilityChange",(()=>{var e=this.state,t=e.playing,n=e.hasPausedSource;"visible"===document.visibilityState?t||n!==D.Fj.DocumentVisibility||this.onUXTriggerPlay(!0):t&&this.onUXTriggerPause(D.Fj.DocumentVisibility,!0)}))}shouldAutoDock(e){var t=this.state,n=t.playing,a=t.isMuted,o=this.props,r=o.showsDockMediaButton,s=o.autoDock,i=o.dockableContext.isMediaDocked;return!!r&&n&&(!a||!!s&&e&&!i)}dispatchMoatVideoEvent(e){var t,n,a,o;(null===(t=this.props)||void 0===t||null===(n=t.timelineObject)||void 0===n?void 0:n.displayType)!==O.y.None&&(null===(a=this.moatApiReferenceInstance)||void 0===a||null===(o=a.dispatchEvent)||void 0===o||o.call(a,{type:Me[e],adVolume:0}))}initMoatApiReference(){var e,t,n,a,o;if((null===(e=this.props)||void 0===e||null===(t=e.timelineObject)||void 0===t?void 0:t.displayType)!==O.y.None||null!==(n=this.state)&&void 0!==n&&n.videoEl){var r=null===(a=this.props)||void 0===a?void 0:a.timelineObject,s={level1:(null==r?void 0:r.advertiserId)||"",level2:(null==r?void 0:r.campaignId)||"",level3:(null==r?void 0:r.adGroupId)||"",level4:(null==r?void 0:r.creativeId)||""};this.moatApiReferenceInstance=function(e,t,n,a,o,r){var s,i,l=document.createElement("script"),c=[],d={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:n,url:o},dispatchEvent:function(e){d.sendEvent?(c&&(c.push(e),e=c,c=!1),d.sendEvent(e)):c&&c.push(e)},clientCallback:r};t="_moatApi"+Math.floor(1e8*Math.random());try{i=(s=e.ownerDocument).defaultView||s.parentWindow}catch(e){s=document,i=window}return i[t]=d,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://z.moatads.com/"+a+"/moatvideo.js#"+t,d}(this.videoContainerRef.current,s,null===(o=this.state.videoEl)||void 0===o?void 0:o.duration,k.Um)}}componentDidMount(){window.addEventListener("visibilitychange",this.onVisibilityChange),this.numGlassContextOnMount=this.props.numGlassOpenContext.numGlassOpen}componentWillUnmount(){window.removeEventListener("visibilitychange",this.onVisibilityChange)}componentDidUpdate(e,t){var n,a=this.state,o=a.playing,r=a.hasPausedSource,s=a.hasVideoIntersected,i=this.props,l=i.isDocked,c=i.numGlassOpenContext.numGlassOpen;"setComponentToAutoDock"in this.context&&this.context.setComponentToAutoDock(this.shouldAutoDock(s)),o&&this.numGlassContextOnMount<c?this.onUXTriggerPause(D.Fj.Glass,!0):!o&&r===D.Fj.Glass&&this.numGlassContextOnMount>=c&&this.onUXTriggerPlay(!0),t.playing!==o&&(o?(this.playVideo(),this.dispatchMoatVideoEvent(Me.AdVideoStart)):this.pauseVideo()),this.state.playing&&("100%"===this.state.handlePosition&&this.dispatchMoatVideoEvent(Me.AdVideoComplete),parseFloat(this.state.handlePosition)>=25&&parseFloat(t.handlePosition)<25&&this.dispatchMoatVideoEvent(Me.AdVideoFirstQuartile),parseFloat(this.state.handlePosition)>=50&&parseFloat(t.handlePosition)<50&&this.dispatchMoatVideoEvent(Me.AdVideoMidpoint),parseFloat(this.state.handlePosition)>=75&&parseFloat(t.handlePosition)<75&&this.dispatchMoatVideoEvent(Me.AdVideoThirdQuartile),"0%"===this.state.handlePosition&&"100%"===t.handlePosition&&this.dispatchMoatVideoEvent(Me.AdVideoStart)),void 0===(null==t||null===(n=t.videoEl)||void 0===n?void 0:n.duration)&&this.state.videoEl&&this.state.videoEl.duration&&this.initMoatApiReference(),e.isDocked&&!l&&this.onClickPause()}render(){var e=this.props,t=e.media,n=e.isDocked,a=e.hasNoMaxUndockedHeight,o=e.isVideoSponsoredDay,r=e.playerStyle,s=e.timelineObject,i=e.useViewabilityTracker,d=e.appContext._t,u=this.state,p=u.playing,m=u.showPoof,h=u.loading,g=u.isInitialOverlay,v=u.showControls,b=u.videoEl,f=u.isFullScreen;return l.createElement(L.ZP,null,(e=>{var u=e.width,E=e.setViewportResizeRender,C=(0,F.Z)({[ke]:!0,[Se]:a,[xe]:n,[Te]:f});return this.setViewportResizeRender=E,l.createElement(c.df,{onChange:this.handleIntersectionChange,threshold:.5,className:C,role:"application","aria-label":d("Video Player"),style:r},l.createElement("div",{ref:this.videoContainerRef,onMouseEnter:this.onMouseEnterVideo,onMouseLeave:this.onMouseLeaveVideo,className:Pe},l.createElement("video",this.getVideoElementProps(u),l.createElement("source",{src:t.url,type:this.getMediaType()})),this.shouldShowCustomControls()&&l.createElement(l.Fragment,null,l.createElement(we,{isPlaying:p,showPoof:m,isLoading:h,isInitialOverlay:g,onAnimationEndPoof:this.onAnimationEndPoof}),(o||v)&&this.renderVideoControls())),i&&s&&l.createElement(Z,{videoRef:b,isInView:this.isVideoInView,timelineObject:s,videoContextOptions:{doesVideoLoop:!this.props.disableAutolooping,trackPauseAsAutoStop:o}}))}))}}s()(Ae,"contextType",p.Z),s()(Ae,"defaultProps",{isMuted:!0});const Be=(0,x.X9)(Ae,{appContext:!0,numGlassOpenContext:!0,dockableContext:!0})},45403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>xs});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(29774),d=n(95004),u=n(54640),p=n(57597),m=n(81059),h=n(2540);const g="LaNUG",v="uR3i7";class b extends d.Component{constructor(){super(...arguments),l()(this,"state",{clientHeight:void 0,isExpanded:!1}),l()(this,"holderRef",d.createRef()),l()(this,"expand",(e=>{var t,n;e.stopPropagation(),null===(t=(n=this.props).onExpand)||void 0===t||t.call(n),this.setState({isExpanded:!0})}))}componentDidMount(){var e;this.setState({clientHeight:null===(e=this.holderRef.current)||void 0===e?void 0:e.clientHeight})}render(){var e=this.state,t=e.clientHeight,n=e.isExpanded,a=this.props,o=a.maxHeight,r=a.children,s=a.expandButtonClassName,i=void 0===s?v:s,l=!n&&(void 0===t||t>o+50),c=l&&void 0!==t,u={maxHeight:l?o:void 0},p=(0,a.appContext._t)("Expand");return d.createElement("div",{className:g,style:u},d.createElement("div",{ref:this.holderRef},r),c&&d.createElement(m.Z,{wrapperClassName:i,onClick:this.expand,label:p},p))}}const f=(0,h.HJ)(b);var E=n(80630),C=n(62513),y=n.n(C),w=(0,E.qv)(d.createElement("svg",{viewBox:"0 0 24 24"},d.createElement("path",{d:"M10.498 18l-3.705-3.704 1.415-1.415 2.294 2.295 5.293-5.293 1.415 1.415L10.498 18zM21 6v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1V2h2v2h8V2h2v2h1a2 2 0 0 1 2 2zm-2 2H5v11h14V8z"})));w.defaultProps={size:{width:18,height:18},fill:C.paletteTransparentWhite65};const k=w;var P=(0,E.qv)(d.createElement("svg",{viewBox:"0 0 24 24"},d.createElement("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm3.8 13.4L13 11.667V7h-2v5.333l3.2 4.266 1.6-1.2z"})));P.defaultProps={size:{width:18,height:18},fill:C.paletteTransparentWhite65};const S=P;var T=n(89143),x=n(45849),N=n.n(x),I=n(43073),R=n(40310),M=n(36643),A=n(90553),B=n(98568);const Z=function(e){var t=e.onClick,n=(0,h.bp)()._t;return d.createElement(m.Z,{label:n("Move down"),onClick:t},d.createElement(B.br,{size:{width:21,height:21},fill:y().paletteGray65}))};var L=n(92003);const O=function(e){var t=e.onClick,n=(0,h.bp)()._t;return d.createElement(m.Z,{label:n("Move to bottom"),onClick:t},d.createElement(L.E,{size:{width:21,height:21},fill:y().paletteGray65}))};const D=function(e){var t=e.onClick,n=(0,h.bp)()._t;return d.createElement(m.Z,{label:n("Move to top"),onClick:t},d.createElement(L.I,{size:{width:21,height:21},fill:y().paletteGray65}))};const F=function(e){var t=e.onClick,n=(0,h.bp)()._t;return d.createElement(m.Z,{label:n("Move up"),onClick:t},d.createElement(B.Ii,{size:{width:21,height:21},fill:y().paletteGray65}))},_="squP2",H="gc3fY",U="fDUq4";class z extends d.Component{constructor(){super(...arguments),l()(this,"allPosts",[]),l()(this,"queuedPosts",[]),l()(this,"apiHelper",(0,M.ZP)(this.props.appContext.apiFetch)),l()(this,"moveUp",(()=>{var e=this.props.id,t=N()(this.queuedPosts,(t=>e===t))-1,n=N()(this.allPosts,(e=>this.queuedPosts[t]===e));return this.queueReorder(this.allPosts[n-1]||0,t)})),l()(this,"moveDown",(()=>{var e=this.props.id,t=N()(this.queuedPosts,(t=>e===t))+1,n=N()(this.allPosts,(e=>this.queuedPosts[t]===e));return this.queueReorder(this.allPosts[n-1],t)})),l()(this,"moveToTop",(()=>this.queueReorder(0,0))),l()(this,"moveToBottom",(()=>this.queueReorder(this.allPosts[this.allPosts.length-1],this.queuedPosts.length-1))),l()(this,"queueReorder",((e,t)=>{var n=this.props,a=n.id,o=n.blogName,r=n.timelineContext;return this.apiHelper.queueReorder(o,a,e).fetch((()=>null==r?void 0:r.onQueueReorder(a,t)))}))}render(){return d.createElement(R.ZP,null,(e=>{var t=e.isMobile;return d.createElement("div",{className:_},this.getControls(t))}))}getControls(e){var t=this.props.id;return d.createElement(I.Jj.Consumer,null,(n=>{var a=n.allPosts,o=n.queuedPosts;this.allPosts=a,this.queuedPosts=o;var r=this.queuedPosts.length,s=N()(this.queuedPosts,(e=>t===e)),i=[];return e&&s>0&&i.push(d.createElement("div",{className:H,key:"moveUp"},d.createElement(F,{onClick:this.moveUp}))),e&&s!==r-1&&i.push(d.createElement("div",{className:H,key:"moveDown"},d.createElement(Z,{onClick:this.moveDown}))),s>0&&i.push(d.createElement("div",{className:H,key:"moveToTop"},d.createElement(D,{onClick:this.moveToTop}))),e&&s!==r-1&&i.push(d.createElement("div",{className:H,key:"moveToBottom"},d.createElement(O,{onClick:this.moveToBottom}))),d.createElement("div",{className:U},i)}))}}const V=(0,A.X9)(z,{appContext:!0,timelineContext:!0});var W=n(44772),G=n(66758),q=d.lazy((()=>Promise.all([n.e(3158),n.e(29)]).then(n.bind(n,40029))));const j=e=>{var t,n=e.ctaOptions,a=e.placementId;return null!=n&&n.text&&null!=n&&null!==(t=n.urls)&&void 0!==t&&t.web?d.createElement("div",{className:G.Z.ctaSectionContainer},d.createElement(d.Suspense,{fallback:d.createElement("span",null)},d.createElement(q,{ctaOptions:n,placementId:a})),d.createElement("span",null,d.createElement(W.Z,{ctaText:n.text,clickUrl:n.urls.web,color:n.buttonTextColor||C.paletteBlack,backgroundColor:n.buttonBackgroundColor||C.paletteWhite,borderColor:n.buttonBorderColor||n.buttonBackgroundColor||C.paletteGray25,placementId:a}))):null};var K=n(27884),Q=n.n(K),J=n(19195),Y=n.n(J),X=n(4777),$=n(85787),ee=n(22123),te=n(31107),ne=e=>{var t=e.background,n=e.fill,a=e.size,o=a.width,r=a.height;return d.createElement("svg",{width:o,height:r,fill:"none",viewBox:"0 0 22 22"},d.createElement("rect",{width:o,height:r,fill:C.paletteWhite,rx:"11"}),d.createElement("path",{fill:n,d:"M2 11a9 9 0 1118 0 9 9 0 01-18 0z"}),d.createElement("path",{fill:t,d:"M11.098 8.078C11.723 7.384 12.515 7 13.329 7c.567 0 1.118.194 1.596.559 1.383 1.061 1.297 2.942.5 4.25-1.08 1.767-3.279 3.59-3.708 3.937a1.15 1.15 0 01-.718.254 1.15 1.15 0 01-.719-.254c-.43-.348-2.628-2.17-3.707-3.938-.798-1.304-.879-3.184.508-4.25A2.607 2.607 0 018.675 7c.808 0 1.598.383 2.226 1.078.03.033.061.07.098.113.035-.044.069-.081.098-.113z"}))};ne.defaultProps={background:C.paletteWhite,fill:C.paletteRed,size:{width:22,height:22}};const ae=ne;var oe=e=>{var t=e.background,n=e.fill,a=e.size,o=a.width,r=a.height;return d.createElement("svg",{width:o,height:r,viewBox:"0 0 22 22"},d.createElement("rect",{width:o,height:r,fill:C.paletteWhite,rx:"11"}),d.createElement("path",{fill:n,d:"M2 11a9 9 0 1118 0 9 9 0 01-18 0z"}),d.createElement("path",{fill:t,d:"M16.25 11.5a.75.75 0 00-1.5 0v1a1.25 1.25 0 01-1.25 1.25H9.25V12.5a.75.75 0 00-1.28-.53l-2 2a.747.747 0 00.002 1.063L7.97 17.03a.75.75 0 001.28-.53v-1.25h4.25a2.75 2.75 0 002.75-2.75v-1z"}),d.createElement("path",{fill:t,d:"M5.75 10.5a.75.75 0 001.5 0v-1A1.25 1.25 0 018.5 8.25h4.25V9.5a.75.75 0 001.28.53l2-2a.747.747 0 00-.002-1.063L14.03 4.97a.75.75 0 00-1.28.53v1.25H8.5A2.75 2.75 0 005.75 9.5v1z"}))};oe.defaultProps={background:C.paletteWhite,fill:C.paletteGreen,size:{width:22,height:22}};const re=oe;var se=e=>{var t=e.background,n=e.fill,a=e.size,o=a.width,r=a.height;return d.createElement("svg",{width:o,height:r,viewBox:"0 0 22 22"},d.createElement("rect",{width:o,height:r,fill:C.paletteWhite,rx:"11"}),d.createElement("path",{fill:n,d:"M2 11a9 9 0 1118 0 9 9 0 01-18 0z"}),d.createElement("path",{fill:t,d:"M11.112 6a4.89 4.89 0 00-4.888 4.88c0 .688.147 1.367.428 1.994-.105.372-.248.886-.392 1.456l-.243.955a.575.575 0 00.71.695l.95-.26 1.432-.39A4.89 4.89 0 0016 10.88 4.889 4.889 0 0011.112 6z"}))};se.defaultProps={background:C.paletteWhite,fill:C.paletteBlue,size:{width:22,height:22}};const ie=se;var le=n(22654),ce=n(88910),de=n(87234),ue=n(43893),pe=n.n(ue),me=n(38678),he=n(85706),ge=e=>{var t=e.size,n=t.width,a=t.height,o=e.stroke;return d.createElement("svg",{fill:"none",width:n,height:a,viewBox:"0 0 24 24"},d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.56 2.9A7 7 0 0119 9v4m-5.27 8a2 2 0 01-3.46 0M17 17H2a3 3 0 003-3V9a7 7 0 01.78-3.22L17 17z"}),d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1l22 22"}))};ge.defaultProps={size:{width:24,height:24},stroke:C.paletteBlack};const ve=ge;var be=e=>{var t=e.size,n=t.width,a=t.height,o=e.fill;return d.createElement("svg",{width:n,height:a,fill:"none",viewBox:"0 0 22 22"},d.createElement("path",{fill:o,d:"M21 16H1a3 3 0 003-3V8a7 7 0 0114 0v5a3 3 0 003 3zm-8.27 4a2 2 0 01-3.46 0"}),d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12.73 20a2 2 0 01-3.46 0M21 16H1a3 3 0 003-3V8a7 7 0 0114 0v5a3 3 0 003 3z"}))};be.defaultProps={size:{width:24,height:24},fill:C.paletteBlack};const fe=be;var Ee=n(2978),Ce=n(35905),ye=n(51742),we=n(76230),ke=(0,d.createContext)(void 0);ke.displayName="ReplyContext";var Pe=n(74073),Se=n(3450),Te=n(35988),xe=(0,E.$)({filledIcon:(0,E.qv)(d.createElement("svg",{role:"img",viewBox:"0 0 17 17"},d.createElement("path",{d:"M8.7 0C4.1 0 .4 3.7.4 8.3c0 1.2.3 2.3.7 3.4-.2.6-.4 1.5-.7 2.5L0 15.8c-.2.7.5 1.4 1.2 1.2l1.6-.4c1.2-.3 2-.5 2.4-.7 1.1.5 2.2.7 3.4.7 4.6 0 8.3-3.7 8.3-8.3S13.3 0 8.7 0"}))),emptyIcon:(0,E.qv)(d.createElement("svg",{role:"img",viewBox:"0 0 17 17"},d.createElement("path",{d:"M8.7 0C4.1 0 .4 3.7.4 8.3c0 1.2.2 2.3.7 3.4-.2.6-.4 1.5-.7 2.5L0 15.8c-.2.7.5 1.4 1.2 1.2l1.6-.4 2.4-.7c1.1.5 2.2.7 3.4.7 4.6 0 8.3-3.7 8.3-8.3C17 3.7 13.3 0 8.7 0zM15 8.3c0 3.5-2.8 6.3-6.4 6.3-1.2 0-2.3-.3-3.2-.9l-3.2.9.9-3.2c-.5-.9-.9-2-.9-3.2.1-3.4 3-6.2 6.5-6.2S15 4.8 15 8.3z"})))});xe.defaultProps={filled:!1,size:{width:17,height:17},filledIconFillColor:C.white,emptyIconFillColor:C.gray40};const Ne=xe;var Ie=n(70532),Re=n(21964);const Me="o4H6C",Ae="IQS1M",Be="oE9j4",Ze="Ohe4v",Le="jOW7m",Oe="ram4w",De="lAM6N";var Fe=e=>{var t=e.value,n=e.label,a=e.isActive,o=void 0!==a&&a,r=e.onSelect,s=(0,R.v$)().isMobile,i=s?24:16;return d.createElement(m.Z,{wrapperClassName:(0,ye.Z)({[Le]:!0,[Ae]:s}),className:Oe,label:n,role:"option",onClick:()=>r(t)},d.createElement("span",null,n),o&&d.createElement(Re.Z,{size:{width:i,height:i},fill:y().paletteGray65}))};const _e=e=>{var t=e.value,n=e.title,a=e.options,o=e.isOpen,r=void 0!==o&&o,s=e.onChangeIsOpen,i=e.onChange,l=(0,R.v$)().isMobile,c=a.find((e=>e.value===t)),u=()=>s(!r),p=e=>{s(!1),i(e)},m=d.createElement(d.Fragment,null,a.map((e=>{var n=e.label,a=e.value;return d.createElement(Fe,{key:a,value:a,label:n,isActive:t===a,onSelect:p})}))),h=d.createElement("button",{onClick:u,className:Be},d.createElement("span",null,(null==c?void 0:c.label)||n),d.createElement(Ie.nT,{size:{width:14,height:14},fill:y().paletteGray65})),g=d.createElement("div",{role:"listbox","data-testid":"mobile-selector"},h,r&&d.createElement(ee.Z,{onGlassClick:u},d.createElement("div",{className:(0,ye.Z)({[Me]:!0,[Ae]:l})},d.createElement("div",{className:De},n),d.createElement("div",{className:Ze},m)))),v=d.createElement("div",{role:"listbox","data-testid":"desktop-selector"},d.createElement(de.ZP,{isOpen:r,toggle:u,width:240,height:"auto",maxHeight:300,component:m},h));return d.createElement(d.Fragment,null,l?g:v)},He="poThh",Ue="RmVjB",ze="ykm3O",Ve="HW9fu",We="lRHNZ",Ge="F_5SW",qe="_vT58",je="ztxCq",Ke="gXeqb",Qe="zEryr";var Je="reblogFilterMode",Ye=e=>{var t=e.mode,n=e.className,a=e.activeModes,o=e.onClick,r=e.children,s=e.title,i=a.includes(t);return d.createElement("button",{className:(0,ye.Z)({[n]:!0,[ze]:!0,[Ge]:i}),onClick:()=>o(a[0]),role:"tab",title:s},r)},Xe=e=>{var t=e.mode,n=e.onChange,a=e.replyCount,o=void 0===a?0:a,r=e.reblogCount,s=void 0===r?0:r,i=e.likeCount,l=void 0===i?0:i,c=(0,h.bp)(),u=c._t,p=c._getLocaleNumberString,m={width:18,height:18},g=(0,Pe.Z)(),v=e=>{switch(e){case Ce.L.Replies:g(Ee.JE.PostActivityTabSelectReplies);break;case Ce.L.ReblogsWithComments:g(Ee.JE.PostActivityTabSelectReblogs);break;case Ce.L.Likes:g(Ee.JE.PostActivityTabSelectLikes)}n(e)};return d.createElement(d.Fragment,null,d.createElement(Ye,{className:We,mode:t,activeModes:[Ce.L.Replies],onClick:v,title:u("Replies")},d.createElement(Ne,{size:m}),d.createElement("span",{title:u("Number of replies"),className:Ve},p(o))),d.createElement(Ye,{className:qe,mode:t,activeModes:[Ce.L.ReblogsWithComments,Ce.L.ReblogsWithContentComments,Ce.L.Reblogs],onClick:e=>{var t=localStorage.getItem(Je),n=(e=>[Ce.L.ReblogsWithComments,Ce.L.ReblogsWithContentComments,Ce.L.Reblogs].includes(e))(t)?t:e;v(n)},title:u("Reblogs")},d.createElement(Te.Z,{size:m}),d.createElement("span",{title:u("Number of reblogs"),className:Ve},p(s))),d.createElement(Ye,{className:je,mode:t,activeModes:[Ce.L.Likes],onClick:v,title:u("Likes")},d.createElement(Se.Z,{size:m}),d.createElement("span",{title:u("Number of likes"),className:Ve},p(l))))};const $e=e=>{var t=e.likeCount,n=e.popoverLayout,a=e.mode,o=e.onChangeMode,r=e.onChangeSortDirection,s=e.reblogCount,i=e.replyCount,l=e.sortDirection,c=e.isSelectorOpen,u=e.onChangeIsSelectorOpen,p=(0,h.bp)()._t,m=(0,Pe.Z)(),g=null;switch(a){case Ce.L.Replies:g=d.createElement(_e,{key:"repliesSelector",value:l,title:p("Sort by"),options:[{label:p("Oldest first"),value:xa},{label:p("Newest first"),value:Na}],isOpen:c,onChangeIsOpen:u,onChange:e=>{m(Ee.JE.PostActivityReplySortDirectionChange,{sort_type:e}),null==r||r(e),localStorage.setItem(Ta,e)}});break;case Ce.L.ReblogsWithComments:case Ce.L.ReblogsWithContentComments:case Ce.L.Reblogs:g=d.createElement(_e,{key:"reblogsSelector",value:a,title:p("Filter by"),options:[{label:p("Comments and tags"),value:Ce.L.ReblogsWithComments},{label:p("Comments only"),value:Ce.L.ReblogsWithContentComments},{label:p("Other reblogs"),value:Ce.L.Reblogs}],isOpen:c,onChangeIsOpen:u,onChange:e=>{switch(e){case Ce.L.ReblogsWithComments:m(Ee.JE.PostActivityReblogFilterSelectWithComments);break;case Ce.L.ReblogsWithContentComments:m(Ee.JE.PostActivityReblogFilterSelectWithContentComments);break;case Ce.L.Reblogs:m(Ee.JE.PostActivityReblogFilterSelectOther)}null==o||o(e),localStorage.setItem(Je,e)}})}return d.createElement("div",{className:(0,ye.Z)({[He]:!0,[Qe]:n})},d.createElement("div",{className:Ue},d.createElement(Xe,{mode:a,onChange:o,replyCount:i,reblogCount:s,likeCount:t})),g&&d.createElement("div",{className:Ke},g))};var et=e=>{var t=e.size,n=t.width,a=t.height,o=e.stroke;return d.createElement("svg",{fill:"none",width:n,height:a,viewBox:"0 0 56 50"},d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M28.52 6.75C31.86 3.044 36.088 1 40.42 1c3.027 0 5.966 1.032 8.512 2.979 7.374 5.664 6.92 15.69 2.667 22.666-5.757 9.427-17.485 19.147-19.776 21A6.13 6.13 0 0127.994 49a6.133 6.133 0 01-3.831-1.355c-2.294-1.853-14.022-11.573-19.776-21C.136 19.685-.296 9.66 7.099 3.98 9.637 2.032 12.573 1 15.599 1c4.31 0 8.526 2.043 11.873 5.75.157.175.325.373.523.6.186-.233.365-.43.525-.6z"}))};et.defaultProps={size:{width:24,height:24},stroke:C.paletteBlack};const tt=et;var nt=e=>{var t=e.size,n=t.width,a=t.height,o=e.stroke;return d.createElement("svg",{fill:"none",width:n,height:a,viewBox:"0 0 50 62"},d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M38.333 1.667L49 12.333 38.333 23"}),d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 28.333V23a10.667 10.667 0 0110.667-10.667H49"}),d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.667 60.333L1 49.667 11.667 39"}),d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M49 33.667V39a10.667 10.667 0 01-10.667 10.667H1"}))};nt.defaultProps={size:{width:24,height:24},stroke:C.paletteBlack};const at=nt;var ot=e=>{var t=e.size,n=t.width,a=t.height,o=e.stroke;return d.createElement("svg",{fill:"none",width:n,height:a,viewBox:"0 0 50 50"},d.createElement("path",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M49 23.667c.01 3.52-.813 6.991-2.4 10.133a22.667 22.667 0 01-20.267 12.533c-3.52.01-6.991-.813-10.133-2.4L1 49l5.067-15.2a22.347 22.347 0 01-2.4-10.133A22.667 22.667 0 0116.2 3.4 22.346 22.346 0 0126.333 1h1.334A22.613 22.613 0 0149 22.333v1.334z"}))};ot.defaultProps={size:{width:24,height:24},stroke:C.paletteBlack};const rt=ot,st={root:"f8GV2",button:"MlOHN",message:"rGJRV"};const it=e=>{var t,n,a,o=e.mode,r=e.onChangeMode,s=e.canReply,i=e.canReblog,l=e.hasReplies,c=e.hasReblogs,u=e.hasLikes,p=e.hasTransientReplies,g=e.onTryAnotherFilter,v=(0,h.bp)()._t,b={size:{width:48,height:48},stroke:C.paletteGray65},f=e=>{var t=e.label,n=e.toTab;return d.createElement(m.Z,{label:t,onClick:e=>{e.stopPropagation(),null==r||r(n)},className:st.button},t)},E=d.createElement(f,{label:v("Check out the Replies"),toTab:Ce.L.Replies}),y=d.createElement(f,{label:v("Check out the Reblogs"),toTab:Ce.L.ReblogsWithComments}),w=d.createElement(f,{label:v("Check out the Likes"),toTab:Ce.L.Likes});switch(o){case Ce.L.Replies:if(p)return null;t=d.createElement(rt,b),l||(c?a=y:u&&(a=w),n=v(s?void 0!==a?"Be the first to Reply! Or...":"Be the first to Reply!":"Replies are turned off for this post."));break;case Ce.L.Reblogs:case Ce.L.ReblogsWithComments:case Ce.L.ReblogsWithContentComments:t=d.createElement(at,b),c?(n=v("No reblogs with this filter yet."),a=g?d.createElement(m.Z,{label:v("Try another filter?"),onClick:e=>{e.stopPropagation(),g()},className:st.button},v("Try another filter?")):null):(u?a=w:l&&(a=E),n=v(i?void 0!==a?"Be the first to Reblog! Or...":"Be the first to Reblog!":"Reblogs are turned off for this post."));break;case Ce.L.Likes:t=d.createElement(tt,b),u||(l?a=E:c&&(a=y),n=v(void 0!==a?"Give the first Like! Or...":"Give the first Like!"))}return d.createElement("div",{className:st.root},d.createElement("div",{className:st.icon},t),d.createElement("span",{className:st.message},n),a)};var lt=n(76870),ct=n(36371),dt=n(92156),ut=n(12542),pt=n(94966),mt=n.n(pt),ht=n(79793),gt=n(51641),vt=n(70970);const bt=()=>{var e=(0,h.bp)().getUserInfo,t=(0,gt.useQuery)("user-info",(()=>e())),n=t.isLoading,a=t.isError,o=t.data;return n||a||!o?null:(0,vt.Z)(o.blogs)||o.blogs[0]},ft="UwAQg",Et="ZKQHp",Ct="bsYWi",yt="S7gtL",wt="cBqlo";const kt=e=>{var t=e.note,n=t.avatar,a=t.avatarShape,o=t.blogName,r=t.blogUrl,s=t.blogTitle,i=t.followed,l=t.type,c=e.avatarDimension,m=void 0===c?32:c,g=(0,h.bp)()._t,v=(0,d.useState)(i),b=pe()(v,2),f=b[0],E=b[1],C=(0,Pe.Z)(),y=bt();return d.createElement("div",{className:ft,"aria-label":g("Like")},d.createElement("div",{className:Et},d.createElement(u.Z,{avatarShape:a,imageResponse:n,name:o,url:r,dimension:m})),d.createElement("div",{className:Ct},d.createElement("div",{className:yt},d.createElement(p.Z,{blogName:o,krakenEventName:Ee.JE.PostActivityNoteClickBlogName,krakenEventDetails:{type:l}},o),d.createElement("span",{className:wt},s)),(null==y?void 0:y.name)!==o&&d.createElement(ht.Z,{blogName:o,blogUrl:r,following:f,onFollow:(e,t)=>{C(Ee.JE.PostActivityNoteClickFollow,{type:Ce.w.Like,action:t?"followed":"unfollowed"}),E(t)},showUnfollowText:!0})))};var Pt=n(36456),St=n(2794),Tt=n(89261),xt=n(50951),Nt=(0,E.qv)(d.createElement("svg",{viewBox:"18 13 12 21"},d.createElement("path",{fillRule:"evenodd",d:"M26.252 27.266l-2.078 7.592c-.052.19-.296.19-.348 0l-2.078-7.592h4.504zM29.512 14c.268 0 .488.241.488.536v1.746a.554.554 0 01-.255.47l-1.698 1.193v4.009l1.787 1.257-.034.006c.128.107.2.264.199.43v1.744c0 .296-.22.537-.488.537H18.488c-.268 0-.488-.241-.488-.537v-1.743a.555.555 0 01.255-.47l1.698-1.195v-4.008l-1.787-1.258.034-.006a.554.554 0 01-.199-.43v-1.745c0-.295.22-.536.488-.536h11.023z"})));Nt.defaultProps={size:{width:24,height:24},fill:C.white};const It=Nt;var Rt,Mt=n(4596),At=n(95132);!function(e){e.Search="search",e.Pin="pin",e.Hashtag="hashtag"}(Rt||(Rt={}));const Bt="VPQeD",Zt="ESJX7";var Lt={[Rt.Search]:Mt.Z,[Rt.Pin]:It},Ot={width:14,height:14};const Dt=function(e){var t=e.reason,n=t.text,a=t.color,o=t.links,r=t.icon,s=o.recommendationDestination,i=[Bt];if(r===Rt.Hashtag){var l="#"+n;return d.createElement("a",{href:null==s?void 0:s.href,style:{color:a},className:i.join(" ")},l)}var c=r&&Lt[r];"production"===At.Z.Development&&r&&!c&&console.warn('No icon found for recommendation reason icon type "'.concat(r,'"'));var u=c?d.createElement(c,{size:Ot,fill:a}):null;return u&&i.push(Zt),d.createElement("a",{href:null==s?void 0:s.href,style:{color:a},className:i.join(" ")},u,n)};var Ft=n(47807);const _t="hAFp3",Ht="KSDLH",Ut="AXXSZ",zt="nwVPE",Vt="hyG7F",Wt="wERE9",Gt="uXaAK",qt="m6pOC";var jt;!function(e){e[e.Unknown=0]="Unknown",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(jt||(jt={}));class Kt extends d.Component{constructor(){super(...arguments),l()(this,"state",{collapsedState:jt.Unknown}),l()(this,"wrapper",null),l()(this,"showCollapsedUIIfNeeded",(()=>{var e=this.wrapper&&this.wrapper.clientHeight>this.props.collapsedHeight;this.setState((()=>({collapsedState:e?jt.Collapsed:jt.Expanded})))})),l()(this,"expandTags",(e=>{e.stopPropagation(),this.setState((()=>({collapsedState:jt.Expanded})))}))}componentDidMount(){this.showCollapsedUIIfNeeded()}render(){var e,t,n=this.props,a=n.tags,o=n.collapsedHeight,r=n.recommendationReason,s=n.isPaywallShown,i=n.postChromeStyles,l=n.isSupporting,c=this.state.collapsedState,u=this.props.appContext,p=u._t,m=u.features;switch(c){case jt.Unknown:e=!0,t=!1;break;case jt.Expanded:e=!1,t=!1;break;case jt.Collapsed:e=!0,t=!0}if("production"===At.Z.Development&&o!==mt().wrappedTagsDesktopHeight&&o!==mt().wrappedTagsMobileHeight&&console.warn("Please use dimensions.wrappedTagsDesktopHeight or dimensions.wrappedTagsMobileHeight as the values for collapsedHeight in this component."),!(a&&a.length||r))return null;var h=m.recommendationReasonTopTeaser&&(null==r?void 0:r.icon)===Rt.Hashtag,g=null;return r&&!h?g=d.createElement("span",{className:Ut},d.createElement(Dt,{reason:r})):l&&(g=d.createElement("span",{className:"".concat(Ut," ").concat(Vt)},d.createElement(xt.Z,{color:y().paletteGreen,size:12}))),d.createElement("div",{className:(0,ye.Z)({[_t]:!0,[Gt]:e,[Wt]:s}),style:i},d.createElement("div",{ref:e=>this.wrapper=e},g,null==a?void 0:a.filter((e=>!e.startsWith("_"))).map((e=>d.createElement(Ft.Z,{key:e,className:Ht,tagName:e}))),t&&d.createElement("a",{className:zt,onClick:this.expandTags,role:"button"},"… ",d.createElement("span",{className:qt},p("See all")))))}}const Qt=(0,A.X9)(Kt,{appContext:!0,adContext:!0});var Jt=n(18307),Yt=n(76155),Xt=n(49725);const $t="24",en="QjaJb",tn="K9Yy8",nn="rNL9q",an="SsGE3",on="x7pPP",rn="mRxeE",sn="sQ1gJ",ln="GWtN5",cn="wzi_S",dn="fAVmw",un="DEZmC",pn="DW58W",mn="QVqyR",hn="iC68K",gn="qYZa2",vn="gvA1t";const bn=e=>{var t=(0,h.bp)(),n=t._t,a=t.timestamps,o=t.features.timestampsEverywhere,r=(0,R.v$)().isMobile,s=e.canHideOrDelete,i=void 0!==s&&s,l=e.note,c=e.refreshContent,m=e.blog,g=e.restrictHeight,v=void 0===g||g,b=l.avatar,E=l.avatarShape,C=l.blogName,y=l.blogUrl,w=l.postId,k=l.timestamp,P=l.type,S=(0,d.useState)(!1),T=pe()(S,2),x=T[0],N=T[1],I=(0,d.useState)(!1),M=pe()(I,2),A=M[0],B=M[1],Z=(0,Pe.Z)(),L=l.type===Ce.w.ReblogWithComment||l.type===Ce.w.ReblogWithContentComment;if(x)return null;var O=L?d.createElement("div",{className:(0,ye.Z)({[pn]:!0,[mn]:(0,Yt.RD)(l.content[0]),[hn]:(0,Yt.RD)(l.content[l.content.length-1])}),"aria-label":n("Content")},d.createElement(Tt.ZP,{blocks:l.content,postingBlog:m,isOriginalPost:!0})):null;return d.createElement("div",{"aria-label":n("Reblog"),className:(0,ye.Z)({[en]:!0,[un]:A}),onAnimationEnd:()=>A&&N(!0),"data-testid":"reblog-note-block"},d.createElement("div",{className:tn},d.createElement("div",{className:nn},d.createElement(u.Z,{avatarShape:E,imageResponse:b,name:C,url:y,dimension:+$t,badge:Pt.Z.ofType(Ce.w.Reblog)})),d.createElement("div",{className:an},d.createElement("div",{className:on},d.createElement(p.Z,{className:rn,blogName:C,postId:w,krakenEventName:Ee.JE.PostActivityNoteClickBlogName,krakenEventDetails:{type:P},ellipsisOverflow:!0},C),d.createElement("div",{className:sn},l.reblogParentBlogName&&d.createElement(d.Fragment,null,d.createElement("div",{className:ln},d.createElement(Te.Z,{size:{width:14,height:14},isCompact:!0}))," ",d.createElement(p.Z,{blogName:l.reblogParentBlogName,href:"https://".concat(l.reblogParentBlogName,".tumblr.com"),showBlogCard:!1},l.reblogParentBlogName)))),o&&a&&k&&d.createElement(Jt.Z,{className:cn,date:"".concat(1e3*k)})),d.createElement("div",{className:dn},L&&d.createElement(St.Z,{blogName:C,canHideOrDeleteNotes:i,note:l,postTumblelogName:e.blog.name,refreshContent:c,removeNote:()=>B(!0)}))),L&&d.createElement(d.Fragment,null,v?d.createElement(f,{maxHeight:400,expandButtonClassName:gn,onExpand:()=>{Z(Ee.JE.PostActivityNoteClickExpand,{type:P})}},O):O,d.createElement(Qt,{tags:l.tags,collapsedHeight:r?pt.wrappedTagsMobileHeight:pt.wrappedTagsDesktopHeight,postChromeStyles:{paddingLeft:0,paddingRight:0,marginTop:0===l.content.length?pt.postActivityTagsMargin:0,marginBottom:pt.postActivityTagsMargin}}),w&&d.createElement("footer",{className:vn},d.createElement(Xt.Z,{postId:w,blogName:C,noteType:l.type}),d.createElement(p.Z,{blogName:C,postId:w,showBlogCard:!1},n("View post")))))};var fn=n(40774),En=(0,E.qv)(d.createElement("svg",{role:"img"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 7C12.5 10.0376 10.0376 12.5 7 12.5C3.96243 12.5 1.5 10.0376 1.5 7C1.5 3.96243 3.96243 1.5 7 1.5C10.0376 1.5 12.5 3.96243 12.5 7ZM14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7ZM6.2 3.8C6.2 3.35817 6.55817 3 7 3C7.30284 3 7.56637 3.16827 7.70221 3.41641C7.80829 3.61019 7.97909 3.8 8.2 3.8H8.60001C9.04184 3.8 9.40001 4.15817 9.40001 4.6C9.40001 5.04183 9.04184 5.4 8.60001 5.4L6.6 5.4C6.37909 5.4 6.2 5.57909 6.2 5.8C6.2 6.02091 6.37909 6.2 6.6 6.2H7.36L7.4 6.20039C8.48611 6.2217 9.36 7.1088 9.36 8.2C9.36 9.1371 8.71551 9.92367 7.8456 10.1406C7.81861 10.1474 7.8 10.1722 7.8 10.2C7.8 10.6418 7.44183 11 7 11C6.69716 11 6.43363 10.8317 6.29779 10.5836C6.19171 10.3898 6.02091 10.2 5.8 10.2H5.40001C4.95818 10.2 4.60001 9.84183 4.60001 9.4C4.60001 8.95817 4.95818 8.6 5.40001 8.6H7.36C7.58091 8.6 7.76 8.42091 7.76 8.2C7.76 7.97909 7.58091 7.8 7.36 7.8H6.6C5.49543 7.8 4.6 6.90457 4.6 5.8C4.6 4.84631 5.26751 4.04853 6.16081 3.84838C6.18352 3.84329 6.2 3.82328 6.2 3.8Z"})));En.defaultProps={size:{width:14,height:14},fill:C.paletteOrange};const Cn=En;var yn=e=>{var t=e.size,n=e.stroke;return d.createElement("svg",o()({},t,{fill:"none",viewBox:"0 0 14 14"}),d.createElement("path",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M7 1.167l1.803 3.651 4.03.59-2.916 2.84.688 4.014L7 10.366l-3.605 1.896.689-4.014-2.917-2.84 4.03-.59L7 1.167z"}))};yn.defaultProps={stroke:C.white,size:{width:14,height:14}};const wn=yn;var kn=n(21308);const Pn={root:"MI6Q7",meatballsMenu:"Oy37M",header:"Rnjfn",avatar:"rbSdL",container:"As9E4",isFollowed:"O4Lmr",isOriginalPoster:"zEhTP",isTip:"bvvDn",originalPoster:"Qq2qn",summary:"nmyXw",blogLinkWrapper:"UYeiG",blogLink:"tNyYL",content:"BKpXK",timestamp:"SAVhn",animateOut:"Wu5H0",slideLeft:"gkU8W",tipHeader:"JAQNx",tipperLabel:"x9eX8"};const Sn=e=>{var t=(0,we.uu)().post,n=t.id,a=t.blogName,o=(0,ut.i)().onReplyRemoved,r=e.avatarDimension,s=void 0===r?32:r,i=e.note,l=e.blog,c=e.canHideOrDeleteNotes,m=e.refreshContent,g=i.avatar,v=i.avatarShape,b=i.blogName,f=i.canDelete,E=i.content,y=i.isOriginalPoster,w=i.timestamp,k=i.type,P=(0,h.bp)(),S=P._c,T=P._t,x=P.timestamps,N=P.features,I=N.timestampsEverywhere,R=N.tippingConsumption,M=(()=>{var e=(0,d.useContext)(ke);if(void 0===e)throw new Error("ReplyContext must be used within a Provider");return e})(),A=M.setReplyText,B=(0,d.useState)(!1),Z=pe()(B,2),L=Z[0],O=Z[1],D=(0,d.useState)(!1),F=pe()(D,2),_=F[0],H=F[1],U=k===Ce.w.Tip&&R;return L?null:d.createElement("div",{className:(0,ye.Z)({[Pn.root]:!0,[Pn.animateOut]:_}),"aria-label":T("Reply"),onAnimationEnd:()=>_&&O(!0)},d.createElement("div",{className:Pn.avatar},d.createElement(u.Z,{avatarShape:v,imageResponse:g,name:b,url:"/view/".concat(b),dimension:s,className:Pn.noteAvatar})),d.createElement("div",{className:(0,ye.Z)({[Pn.container]:!0,[Pn.isOriginalPoster]:y,[Pn.isTip]:U})},y&&d.createElement("div",{className:Pn.originalPoster,"aria-label":T("Original poster")},d.createElement(wn,{stroke:C.paletteAccent}),d.createElement("span",null,T("Original Poster"))),d.createElement("div",{className:Pn.header},U&&d.createElement("div",{className:Pn.tipHeader},d.createElement(Cn,null),d.createElement("span",{className:Pn.tipperLabel},S("label indicating that this use has made a tip on this post","Tipper"))),d.createElement("div",{className:Pn.blogLinkWrapper,"aria-label":T("Blog name")},d.createElement(p.Z,{blogName:b,className:Pn.blogLink,krakenEventName:Ee.JE.PostActivityNoteClickBlogName,krakenEventDetails:{type:k}},b)),I&&x&&w&&d.createElement(Jt.Z,{className:Pn.timestamp,date:"".concat(1e3*w),dateFormat:kn.qC.AutomaticCompact})),d.createElement("div",{className:Pn.content},d.createElement(Tt.ZP,{blocks:E,postingBlog:l,isOriginalPost:!0}))),d.createElement(St.Z,{canHideOrDeleteNotes:c||f,blogName:b,meatballsClassName:Pn.meatballsMenu,note:i,postTumblelogName:a,refreshContent:m,removeNote:()=>{null==o||o(n),H(!0)},onReplyClick:()=>A("".concat(fn.IN).concat(b).concat(" "))}))};var Tn=e=>e.response.timeline.elements.map((e=>{var t=e.timestamp,n=e.blog,a=n.avatar,o=n.theme,r=n.name,s=e.content,i=e.isOriginalPoster,l=e.canDelete,c=e.type,d=Ce.w.Reply;return c===Ce.w.Tip&&(d=Ce.w.Tip),{avatar:a,avatarShape:o.avatarShape,blogName:r,blogUrl:"/view/".concat(r),canDelete:l,content:s,isOriginalPoster:i,timestamp:t,type:d}})),xn=e=>e.response.notes.map((e=>{var t=e.avatarShape,n=e.avatarUrl,a=e.blogName,o=e.reblogParentBlogName,r=e.timestamp;return{avatar:Object.keys(n).map((e=>({height:Number(e),width:Number(e),url:n[e]}))),avatarShape:t,blogName:a,blogUrl:"/view/".concat(a),reblogParentBlogName:o,timestamp:r,type:Ce.w.Reblog}})),Nn=e=>e.response.timeline.elements.map((e=>{var t=e.timestamp,n=e.blog,a=n.avatar,o=n.theme,r=n.name,s=e.content,i=e.postId,l=e.reblogParentBlogName,c=e.tags;return{avatar:a,avatarShape:o.avatarShape,blogName:r,blogUrl:"/view/".concat(r),postId:i,content:s,reblogParentBlogName:l,tags:c,timestamp:t,type:Ce.w.ReblogWithComment}})),In=e=>e.response.timeline.elements.map((e=>{var t=e.timestamp,n=e.blog,a=n.avatar,o=n.theme,r=n.name,s=e.content,i=e.postId,l=e.reblogParentBlogName,c=e.tags;return{avatar:a,avatarShape:o.avatarShape,blogName:r,blogUrl:"/view/".concat(r),postId:i,content:s,reblogParentBlogName:l,tags:c,timestamp:t,type:Ce.w.ReblogWithContentComment}})),Rn=e=>e.response.notes.map((e=>{var t=e.avatarShape,n=e.avatarUrl,a=e.blogName,o=e.blogTitle,r=e.blogUrl,s=e.followed,i=e.timestamp;return{avatar:Object.keys(n).map((e=>({height:Number(e),width:Number(e),url:n[e]}))),avatarShape:t,blogName:a,blogTitle:o,blogUrl:r,followed:s,timestamp:i,type:Ce.w.Like}}));const Mn=e=>{var t,n,a,o=e.mode,r=e.apiFetch,s=e.postBlogUuid,i=e.queryParams;switch(o){case Ce.L.Replies:t=(0,M.ZP)(r).getNotesTimeline,n=Tn,a=e=>{var t,n,a;return null==e||null===(t=e.response)||void 0===t||null===(n=t.timeline)||void 0===n||null===(a=n.links)||void 0===a?void 0:a.next};break;case Ce.L.Reblogs:t=(0,M.ZP)(r).getNotes,n=xn,a=e=>{var t,n;return null==e||null===(t=e.response)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.next};break;case Ce.L.ReblogsWithComments:t=(0,M.ZP)(r).getNotesTimeline,n=Nn,a=e=>{var t,n,a;return null==e||null===(t=e.response)||void 0===t||null===(n=t.timeline)||void 0===n||null===(a=n.links)||void 0===a?void 0:a.next};break;case Ce.L.ReblogsWithContentComments:t=(0,M.ZP)(r).getNotesTimeline,n=In,a=e=>{var t,n,a;return null==e||null===(t=e.response)||void 0===t||null===(n=t.timeline)||void 0===n||null===(a=n.links)||void 0===a?void 0:a.next};break;case Ce.L.Likes:t=(0,M.ZP)(r).getNotes,n=Rn,a=e=>{var t,n;return null==e||null===(t=e.response)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.next}}return{apiRequest:t(s,i),apiResponseHandler:n,apiGetNextLink:a}};var An=e=>e&&e!==document.body?(e=>{var t=e.scrollHeight>e.clientHeight,n=!window.getComputedStyle(e).overflowY.includes("hidden");return t&&n})(e)?e:An(e.parentNode):document.body;const Bn=An;const Zn=e=>{var t=(0,d.useState)({width:0,height:0}),n=pe()(t,2),a=n[0],o=n[1],r=(0,d.useRef)(new ResizeObserver((e=>{var t=e[0].contentRect,n=t.width,a=t.height;o({width:n,height:a})})));return(0,d.useEffect)((()=>{var t=null==e?void 0:e.current,n=null==r?void 0:r.current;return t&&n.observe(t),()=>{t&&n.unobserve(t)}}),[e,r]),a};const Ln=e=>{var t=(0,d.useState)(!1),n=pe()(t,2),a=n[0],o=n[1],r=(0,d.useRef)(null);(0,d.useEffect)((()=>{o(!1)}),[e]);var s=Zn(r).height;return{isCollapsed:!a&&s>400,handleShowMore:()=>o(!0),elementRef:r}},On="rEGcu",Dn="VClPW",Fn="d5zR_",_n="tprzO",Hn="ZvB6S",Un="hfBkK",zn="G2YHl",Vn="wNGSH",Wn="z2TcU",Gn="eE_rR",qn="RgVTP",jn="n7VLa",Kn="xuqFW",Qn="ltf_C",Jn="Jh7uo";var Yn=e=>{var t=e.blog,n=e.canHideOrDeleteNotes,a=void 0!==n&&n,o=e.objects,r=e.onResults,s=e.refresh,i=e.refreshNotes,l=e.transientReplies,c=void 0===l?[]:l,u=e.mode;(0,d.useEffect)((()=>{null==r||r(0===(null==o?void 0:o.length))}),[null==o?void 0:o.length,r]),i.current=s;var p=u!==Ce.L.Replies?o:o.filter((e=>c.every((t=>!((e,t)=>e.timestamp===Math.floor(t.timestamp)&&e.blogName===t.blogName)(t,e))))),m=[...c,...p].reduce(((e,n,o)=>{var r,i="".concat(n.blogName,"-").concat(n.timestamp);switch(n.type){case Ce.w.Tip:case Ce.w.Reply:r=d.createElement(Sn,{blog:t,key:i,note:n,canHideOrDeleteNotes:a,refreshContent:s});break;case Ce.w.Reblog:case Ce.w.ReblogWithComment:case Ce.w.ReblogWithContentComment:r=d.createElement(bn,{blog:t,canHideOrDelete:a,key:i,note:n,refreshContent:s,restrictHeight:o>0});break;case Ce.w.Like:r=d.createElement(kt,{key:i,note:n})}return[...e,r]}),[]);return d.createElement(d.Fragment,null,m)},Xn=e=>{var t=e.onClick,n=(0,h.bp)()._c;return d.createElement("button",{className:Wn,"aria-label":n("Shore more notes for a post","Show more"),onClick:t},n("Shore more notes for a post","Show more"))};const $n=e=>{var t=e.blog,n=e.containerRef,a=e.popoverLayout,r=e.mode,s=e.onPagination,i=e.postId,l=e.refreshNotes,c=e.transientReplies,u=e.showBackToTop,p=e.sortDirection,m=e.canReply,g=e.canReblog,v=e.fixedHeightLayout,b=e.noResultsView,f=e.replyCount,E=void 0===f?0:f,w=e.reblogCount,k=void 0===w?0:w,P=e.likeCount,S=void 0===P?0:P,T=(0,ut.i)().onNotesUpdate,x=(0,h.bp)(),N=x.apiFetch,I=x._c,M=(0,R.v$)().isMobile,A=(0,dt._)().peeprLocation,B=(0,d.useRef)(null),Z=(0,d.useState)(!1),O=pe()(Z,2),D=O[0],F=O[1],_=(0,d.useState)(!0),H=pe()(_,2),U=H[0],z=H[1],V=(0,d.useState)(!1),W=pe()(V,2),G=W[0],q=W[1],j=Ln(r),K=j.handleShowMore,Q=j.isCollapsed,J=j.elementRef,Y=(0,Pe.Z)(),X=e=>{var n=e.objects,a=e.refresh;return d.createElement(Yn,{blog:t,canHideOrDeleteNotes:D,objects:n,refresh:a,refreshNotes:l,transientReplies:c,onResults:z,mode:r})};if(!t.uuid)return null;var $,ee=Mn({mode:r,apiFetch:N,postBlogUuid:t.uuid,queryParams:{mode:r,id:i,sort:p}}),te={endpointApiRequest:ee.apiRequest,getObjectsFromResponse:ee.apiResponseHandler,getNextLink:ee.apiGetNextLink,onPagination:e=>{var t=e.response.response,n=t.canHideOrDeleteNotes,a=t.canSubscribe,o=void 0!==a&&a,r=t.isSubscribed,l=void 0!==r&&r,c=t.hiddenNotes,d=t.totalLikes,u=t.totalReblogs,p=t.totalNotes,m=t.totalReplies;k===u&&S===d&&E===m||null==T||T(i,{totalNotes:p,totalLikes:d,totalReblogs:u,totalReplies:m}),F(n),q(c),null==s||s({canSubscribe:o,isSubscribed:l})},loader:d.createElement("div",{className:(0,ye.Z)({[Gn]:!0,[qn]:!U})},d.createElement(le.Z,{small:!0,centerOrientation:le.Q.HorizontalAndVertical,color:y().paletteGray65})),emptyView:b,scrollContainer:B.current,onFetchNextPage:()=>{Y(Ee.JE.PostActivityFetchMoreNotes,{type:r})}};return $=a||v?d.createElement(lt.ZP,te,X):d.createElement(ct.ZP,o()({},te,{manualPaginatorButtonCss:{containerClassName:jn},nextButton:d.createElement(Xn,null),concatenate:!0}),X),d.createElement("div",{className:(0,ye.Z)({[On]:!0,[Dn]:Q,[Hn]:U&&!(null!=c&&c.length),[Fn]:a,[_n]:!a&&v}),ref:B},[Ce.L.Reblogs,Ce.L.ReblogsWithComments,Ce.L.ReblogsWithContentComments].includes(r)&&!g&&!U&&d.createElement("div",{className:zn},I("Reminder about reblog is disabled when note has history reblogs","Reblogs have been turned off for this post")),r===Ce.L.Replies&&d.createElement(d.Fragment,null,!m&&!U&&d.createElement("div",{className:zn},I("Reminder about reply is disabled when note has history replies","Replies have been turned off for this post")),G&&E<=10&&d.createElement("div",{className:zn},I("Reminder about reply has been filtered that the count on the post can be difference from the number of reply tab","Some replies may have been hidden, blocked, or removed"))),d.createElement("div",{className:Un,ref:J},$),Q&&!a&&!v&&d.createElement("div",{className:Vn},d.createElement(Xn,{onClick:K})),!Q&&!U&&!a&&!v&&d.createElement("div",{className:Kn},d.createElement("button",{className:(0,ye.Z)({[Qn]:!0,[Jn]:u}),title:I("Scroll back to the top of the notes list","Back to the top"),onClick:()=>{if(null!=n&&n.current){var e=A?Bn(n.current):window,t=A?e.scrollTop:e.scrollY,a=n.current.getBoundingClientRect().top,o=(M?pt.mobileHeaderHeight:pt.desktopHeaderHeightPx)+pt.postFooterControlsHeight;e.scrollTo({top:a+t-o})}}},d.createElement(L.I,{fill:C.paletteWhite}))))};var ea=n(19105);const ta=(e,t)=>{var n=(0,h.bp)().apiFetch,a=(0,d.useState)(!1),o=pe()(a,2),r=o[0],s=o[1],i=(0,d.useState)(!1),l=pe()(i,2),c=l[0],u=l[1];return{isSubscribed:r,isSubscribeFetching:c,setIsSubscribed:s,toggleIsSubscribed:a=>{if(a!==r){s(null!=a?a:!r),u(!0);var o="/v2/blog/".concat(t,"/posts/").concat(e,"/subscription"),i=r?"DELETE":"POST";return new ea.x(n,o,{method:i}).fetch().catch((()=>{s(r)})).finally((()=>u(!1)))}}}};var na=n(61241);const aa=e=>{var t=e.mode,n=e.sortDirection,a=(0,d.useState)([]),o=pe()(a,2),r=o[0],s=o[1],i=bt();(0,d.useEffect)((()=>{s([])}),[t,n]);return{transientReplies:r,createTransientReply:(e,t,n)=>{var a;if(i){var o={avatar:i.avatar||[],avatarShape:(null===(a=i.theme)||void 0===a?void 0:a.avatarShape)||na.o.Circle,blogName:i.name,blogUrl:"/view/".concat(i.name),canDelete:!0,content:[{type:Yt.kH.Text,text:e}],isOriginalPoster:!n||i.name===n,timestamp:t,type:Ce.w.Reply};s([o,...r])}}}};var oa=n(15081),ra=n.n(oa),sa=n(35679),ia=n(32882);const la="32",ca="OQjMh",da="Dx_DM",ua="x2Npm",pa="jrduP",ma="mXmh6";var ha=()=>{var e=(0,h.bp)().getUserInfo,t=(0,gt.useQuery)("user-info",(()=>e())),n=t.isLoading,a=t.isSuccess,o=t.data;if(n||!a||!o)return null;var r=(0,vt.Z)(null==o?void 0:o.blogs)||(null==o?void 0:o.blogs[0]),s=r.avatar,i=r.name,l=r.url,c=r.theme;return d.createElement(u.Z,{avatarShape:null==c?void 0:c.avatarShape,imageResponse:s,name:i,url:l,dimension:+la})},ga=(e,t)=>{var n=e.popoverLayout,a=e.onAddReply,o=e.focusOnMount,r=void 0!==o&&o,s=(0,h.bp)()._t,i=(0,we.uu)().post.id,l=(0,d.useState)(""),c=pe()(l,2),u=c[0],p=c[1],g=(0,d.useRef)(null),v=(0,d.useRef)(null),b=(0,d.useRef)(ra()([s("Add to the discussion"),s("Unleash a compliment"),s("Have something to say?"),s("Reply your heart out"),s("Add something wonderful"),s("Send something nice"),s("Your words here"),s("Say your thing")])),f=(0,Pe.Z)(),E=()=>{var e;""!==(null==u?void 0:u.trim())&&(f(Ee.JE.PostActivitySendReply),a(u),null===(e=v.current)||void 0===e||e.clearEditorContent())};return(0,d.useEffect)((()=>{var e;r&&(null===(e=v.current)||void 0===e||e.focus())}),[r]),(0,d.useImperativeHandle)(t,(()=>({setReplyText:e=>{var t,n;null===(t=v.current)||void 0===t||t.addTextAtSelection(e,(0,ia.rx)(null===(n=v.current)||void 0===n?void 0:n.getEditorState()))}}))),d.createElement("div",{className:(0,ye.Z)({[ca]:!0,[ma]:n}),"aria-label":s("Reply field")},d.createElement(ha,null),d.createElement("div",{className:da},d.createElement("div",{className:ua},d.createElement(sa.Z,{ref:v,editorKey:"note".concat(i),maxTextLength:475,maxMentions:5,compositeDecorators:{mentions:!0},placeholder:b.current,onEditorChangeText:e=>{p(e)},submitForm:E,autocompleteContainerRef:g})),d.createElement(m.Z,{"data-testid":"reply-button",wrapperClassName:pa,type:"submit",onClick:E,disabled:!(null!=u&&u.trim()),label:s("Reply")},s("Reply"))))};const va=(0,d.forwardRef)(ga),ba="EnRJg",fa="blSOv",Ea="ER5ZX",Ca="W5tdN",ya="WeDBT",wa="uzB7k",ka="gAoFY",Pa="rRNAa",Sa="ITBWF";var Ta="replySortDirection",xa="asc",Na="desc",Ia=xa;const Ra=e=>{var t=e.blog,n=e.canReply,a=e.canReblog,o=e.id,r=e.likeCount,s=e.popoverLayout,i=e.onClose,l=e.onReplyAdded,c=e.reblogCount,u=e.reblogKey,p=e.replyCount,m=e.shouldUpdateLikeNotes,g=e.totalNoteCount,v=e.focusReplyOnMount,b=localStorage.getItem(Ta)||Ia,f=(0,h.bp)(),E=f.apiFetch,C=f._t,w=f._n,k=f._c,P=(0,we.uu)().post,S=P.placementId,T=(0,d.useState)(Ce.L.Replies),x=pe()(T,2),N=x[0],I=x[1],R=(0,d.useState)(b),A=pe()(R,2),B=A[0],Z=A[1],L=(0,d.useRef)(N),O=(0,d.useRef)(null),D=(0,d.useRef)(),F=(0,d.useRef)(null),_=n&&N===Ce.L.Replies,H=aa({mode:N,sortDirection:B}),U=H.transientReplies,z=H.createTransientReply,V=(0,d.useState)(!1),W=pe()(V,2),G=W[0],q=W[1],j=ta(o,t.name),K=j.isSubscribed,Q=j.isSubscribeFetching,J=j.setIsSubscribed,Y=j.toggleIsSubscribed,X=(0,d.useState)(!1),$=pe()(X,2),ee=$[0],te=$[1],ne=(0,Pe.Z)(),ae=(0,me.YD)(),oe=ae.ref,re=ae.inView;(0,d.useEffect)((()=>{var e;L.current===Ce.L.Likes&&m&&(null===(e=D.current)||void 0===e||e.call(D))}),[m]);var se=e=>{if(e===Ce.L.Replies)Z(b);else Z(Na);I(e),L.current=e},ie=e=>{e.stopPropagation(),K||ne(Ee.JE.PostActivitySubscribe),Y()};return d.createElement("div",{"aria-label":C("Post Activity"),className:(0,ye.Z)({[ba]:!0,[Ca]:s}),ref:O},s&&d.createElement("div",{className:ya},g&&d.createElement("span",{className:wa,"aria-label":C("Total notes")},w("%1$s note","%1$s notes",g)),G&&d.createElement(d.Fragment,null,!K&&d.createElement("button",{className:ka,title:k("User is not subscribed to activity updates for this post","Not subscribed"),onClick:ie,disabled:Q},d.createElement(ve,{size:{width:18,height:18},stroke:Q?y().paletteGray40:y().paletteBlack})),K&&d.createElement("button",{className:Pa,title:k("User is subscribed to activity updates for this post","Subscribed"),onClick:ie,disabled:Q},d.createElement(fe,{size:{width:16,height:16},fill:Q?y().paletteGray40:y().paletteBlack}))),d.createElement("button",{className:Sa,"aria-label":C("Close"),onClick:()=>{null==i||i()}},d.createElement(he.Z,{size:{width:12,height:12},fill:y().paletteBlack}))),d.createElement("div",{ref:oe,className:fa},d.createElement($e,{likeCount:r,popoverLayout:s,mode:N,onChangeMode:se,onChangeSortDirection:Z,reblogCount:c,replyCount:p,sortDirection:B,isSelectorOpen:ee,onChangeIsSelectorOpen:te})),_&&d.createElement("div",{className:Ea},d.createElement(va,{focusOnMount:v,popoverLayout:s,onAddReply:e=>(0,M.ZP)(E).postReply(o,e,u,t.name,S).fetch().then((t=>{var n=t.response.timestamp;z(e,n,P.rebloggedFromName),null==l||l(o)})),ref:F})),d.createElement(ke.Provider,{value:{replyInputRef:F.current,setReplyText:e=>{var t;return null===(t=F.current)||void 0===t?void 0:t.setReplyText(e)}}},d.createElement($n,{fixedHeightLayout:!0,blog:t,containerRef:O,popoverLayout:s,mode:N,onPagination:e=>{var t=e.canSubscribe,n=e.isSubscribed;q(t),J(n)},postId:o,refreshNotes:D,transientReplies:U,showBackToTop:!re,sortDirection:B,canReply:n,canReblog:a,replyCount:p,reblogCount:c,likeCount:r,noResultsView:d.createElement(it,{mode:N,canReply:n,canReblog:a,hasReplies:p>0,hasReblogs:c>0,hasLikes:r>0,hasTransientReplies:U&&U.length>0,onChangeMode:se,onTryAnotherFilter:()=>{te(!0)}})})))};var Ma=n(30531);const Aa=(0,Ma.Z)((()=>n.e(5811).then(n.bind(n,68408))),"AsyncPostActivity");var Ba=n(98992);const Za=(0,Ma.Z)((()=>Promise.all([n.e(3712),n.e(2474)]).then(n.bind(n,76753))),"AsyncSendAPost");var La=n(59319),Oa=n(78315);const Da=e=>{var t=e.editablePost,n=t.blog.name,a=t.id,o=(0,ut.i)().onRemoveTimelineObject,r=(0,h.bp)()._c,s=(0,dt._)().addOnCloseModalRouteHandler,i=(0,d.useRef)(null),l=r("clicking the button will allow the user to reply.","Answer"),c=(0,d.useCallback)((e=>{var t;e&&(null==o||o({id:a})),null===(t=i.current)||void 0===t||t.call(i)}),[o,a]),u=(0,d.useCallback)((()=>{i.current=s((e=>{var t=e.isModalSuccess;return c(!!t)}))}),[]);return d.createElement(La.Link,{to:(0,Oa.yj)({blogName:n,postId:a.toString()})},d.createElement(m.Z,{label:l,onClick:u},l))};var Fa=(0,E.qv)(d.createElement("svg",{viewBox:"0 0 14 17"},d.createElement("path",{d:"M12 5v9c.1.7-.3 1-1 1H3c-.5 0-.9-.3-1-1V5c0-.6-.4-1-1-1-.5 0-1 .4-1 1v9.5C0 16.1 1.4 17 3 17h8c1.8 0 3-.8 3-2.5V5c0-.6-.5-1-1-1-.6 0-1 .5-1 1z"}),d.createElement("path",{d:"M4 12s0 1 1 1 1-1 1-1V5c0-.5-.4-1-1-1-.5 0-1 .5-1 1v7zm4 0s0 1 1 1 1-1 1-1V5c0-.5-.4-1-1-1-.5 0-1 .5-1 1v7zm5-10c.5 0 1-.4 1-1 0-.5-.4-.9-1-1H1C.5.1 0 .5 0 1c0 .6.6 1 1.1 1H13z"})));Fa.defaultProps={size:{width:24,height:24}};const _a=Fa;const Ha=function(e){var t=e.id,n=e.onClick,a=(0,h.bp)()._t;return t?d.createElement(m.Z,{label:a("Delete"),onClick:n},d.createElement(_a,{size:{width:21,height:21},fill:y().paletteGray65})):null};var Ua=n(96978),za=n(26688),Va=n(16238),Wa=(0,E.qv)(d.createElement("svg",{viewBox:"0 0 12.9 20.9"},d.createElement("path",{d:"M11.2 2.5c.1.1.4.4.5.6L9.4 6.6l2.4 3.3-2.4 3.5 3.5 3.8-1.2 3.8c-.6 0-1.2-.2-1.7-.5-1-.8-6.2-5.1-8.8-9.3-1.8-3-2-7.4 1.1-9.8C3.5.4 4.8 0 6.1 0 8 0 9.8.9 11.2 2.5z"})));Wa.defaultProps={size:{width:24,height:24},fill:C.gray40};const Ga=Wa;var qa=(0,E.qv)(d.createElement("svg",{viewBox:"0 0 14.1 20.9"},d.createElement("path",{d:"M8 0C6.2 0 4.3.9 2.9 2.5c-.1.1-.4.4-.5.6L0 6.6l2.4 3.3L0 13.4l3.5 3.8L2.3 21c.6 0 1.2-.2 1.7-.5 1-.8 6.2-5.1 8.8-9.3 1.8-3 2-7.4-1.1-9.8C10.6.4 9.3 0 8 0z"})));qa.defaultProps={size:{width:16,height:24},fill:C.gray40};const ja=qa,Ka="WXF6Z",Qa="y_8_Y",Ja="WQE_S",Ya="zTFrW",Xa="C281d";class $a extends d.Component{constructor(){super(...arguments),l()(this,"state",{isAnimating:!1}),l()(this,"animate",(()=>{this.setState((()=>({isAnimating:!0}))),window.setTimeout((()=>{this.setState({isAnimating:!1})}),750)}))}componentDidUpdate(e){e.liked!==this.props.liked&&this.animate()}render(){var e=this.props.liked;return this.state.isAnimating?e?d.createElement("div",{className:"".concat(Ka," ").concat(Qa)},d.createElement(Se.Z,{filled:!0,size:{height:51,width:57}})):d.createElement("div",{className:"".concat(Ka," ").concat(Ja)},d.createElement("div",{className:Xa},d.createElement(Ga,{size:{height:54,width:54}})),d.createElement("div",{className:Ya},d.createElement(ja,{size:{height:54,width:36}}))):null}}const eo="ztpfZ",to="B1Z5w",no="YCZ8P";const ao=e=>{var t=e.color,n=void 0===t?y().paletteGray65:t,a=(0,h.bp)(),o=a._t,r=a.logEvent,s=a.features,i=a.isLoggedIn,l=a.apiFetch,c=(0,ut.i)().onLike,u=(0,X.k6)().push,p=(0,X.TH)().pathname,g=(0,za.h)(),v=g.openLoginWall,b=g.closeLoginWall,f=(0,we.uu)().post,E=f.canLike,C=f.earnedId,w=f.id,k=f.liked,P=f.placementId,S=f.reblogKey,T=(0,Va.A)(s,p),x=!T&&!E,N=()=>(0,M.ZP)(l).likePost({id:w,liked:k,reblogKey:S,placementId:P,earnedId:C,logEvent:r,onLike:c}).fetch();return d.createElement(m.Z,{className:(0,ye.Z)({[eo]:k,[to]:!0,[no]:x}),label:o(k?"Unlike":"Like"),onClick:()=>{if(!i&&T){var e=()=>{b(),N()};u({search:"?redirect_to=".concat(p)}),v({onLoginSuccess:e,onRegisterSuccess:e})}else N()},disabled:x},d.createElement(Se.Z,{filled:k,size:{width:23,height:21},emptyIconFillColor:x?y().paletteGray40:n}),d.createElement($a,{liked:k}))};class oo extends d.Component{constructor(){super(...arguments),l()(this,"state",{dialogIsShowing:!1}),l()(this,"apiHelper",(0,M.ZP)(this.props.appContext.apiFetch)),l()(this,"confirmPublish",(()=>this.setState({dialogIsShowing:!0}))),l()(this,"cancelConfirmation",(()=>this.setState({dialogIsShowing:!1}))),l()(this,"publishPost",(()=>{var e=this.props,t=e.timelineContext,n=e.postContext.post,a=n.blog.uuid,o=n.id;return a&&this.apiHelper.quickPublishPost(a,o).fetch((()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:o})}))}))}render(){var e=this.props,t=e.appContext._c,n=e.postContext.post.state,a=this.state.dialogIsShowing;if(n===Yt.hA.Published||n===Yt.hA.Private)return null;var o=t("Action button to publish a post, should be verb here","Post");return d.createElement(d.Fragment,null,d.createElement(m.Z,{label:o,onClick:this.confirmPublish},o),a&&this.renderDialog())}renderDialog(){var e=this.props.appContext._t;return d.createElement(ee.Z,{onGlassClick:this.cancelConfirmation},d.createElement(ce.Z,{title:e("Publish this post now?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:ce.X.Neutral},{text:e("OK"),onClick:this.publishPost,buttonStyle:ce.X.Confirm}]}))}}const ro=(0,A.X9)(oo,{appContext:!0,postContext:!0,timelineContext:!0});class so extends d.Component{constructor(){super(...arguments),l()(this,"state",{dialogIsShowing:!1}),l()(this,"apiHelper",(0,M.ZP)(this.props.appContext.apiFetch)),l()(this,"confirmQueue",(()=>this.setState({dialogIsShowing:!0}))),l()(this,"cancelConfirmation",(()=>this.setState({dialogIsShowing:!1}))),l()(this,"queuePost",(()=>{var e=this.props,t=e.timelineContext,n=e.postContext.post,a=n.blog.uuid,o=n.id;return a&&this.apiHelper.queuePost(a,o).fetch((()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:o})}))}))}render(){var e=this.props,t=e.appContext._c,n=e.postContext.post.state,a=this.state.dialogIsShowing;if(n!==Yt.hA.Draft&&n!==Yt.hA.Submission)return null;var o=t("Action button to queue a post, should be verb here","Queue");return d.createElement(d.Fragment,null,d.createElement(m.Z,{label:o,onClick:this.confirmQueue},o),a&&this.renderDialog())}renderDialog(){var e=this.props.appContext._t;return d.createElement(ee.Z,{onGlassClick:this.cancelConfirmation},d.createElement(ce.Z,{title:e("Queue this post for publishing?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:ce.X.Neutral},{text:e("OK"),onClick:this.queuePost,buttonStyle:ce.X.Confirm}]}))}}const io=(0,A.X9)(so,{appContext:!0,postContext:!0,timelineContext:!0});var lo=n(86057),co=n.n(lo),uo=n(91841),po=n(68234),mo=["reblogKey","reblogBlogName","reblogPostId","routeQueryProps"];const ho=e=>{var t=e.reblogKey,n=e.reblogBlogName,a=e.reblogPostId,r=e.routeQueryProps,s=co()(e,mo);return d.createElement(uo.Z,o()({},s,{getPath:()=>{var e=(0,po.Z)(r);return(0,Oa.oh)({reblogKey:t,blogName:n,postId:a.toString()},e)},isAlreadyOnPostFormPath:Oa.LX}))};var go=n(50755),vo=n(60614);const bo="o6JAm",fo="LpPf2",Eo="ALkTz",Co="chDxw";const yo=e=>{var t=e.onClickSelectedBlog,n=e.blogs,a=e.onMouseLeave,o=e.onMouseEnter,r=e.avatarTitle,s=(0,d.useState)(!1),i=pe()(s,2),l=i[0],c=i[1],p=(0,d.useCallback)(((e,n)=>{t(n,e,{bubbleIndex:3}),c(!1)}),[t]);if(1===n.length)return null;var h=n.length>4,g=h?n.slice(0,3):n;return d.createElement("div",{className:(0,ye.Z)([bo,l&&Co]),onMouseLeave:a,onMouseEnter:o},g.map(((e,n)=>d.createElement(m.Z,{wrapperClassName:fo,key:n,onClick:a=>t(a,e,{bubbleIndex:n}),title:null==r?void 0:r(e.name)},d.createElement(u.Z,{imageResponse:e.avatar,avatarShape:na.o.Circle,dimension:50})))),h&&d.createElement("div",{className:fo},d.createElement(go.Z,{blogs:n.slice(3),selectedBlog:n[0],onClickSelectedBlog:p,onToggle:c},(e=>d.createElement(m.Z,{wrapperClassName:Eo,onClick:e},d.createElement(vo.b,{fill:C.paletteNavy}))))))};var wo=n(75369),ko=n(47740);const Po={tooltip:"EZHUS",green:"pmD2_",red:"pMONo"};var So="black",To="green",xo="red",No={[ko.I2.Right]:{left:6,top:-2},[ko.I2.Left]:{left:-6,top:-2},[ko.I2.Top]:{left:0,top:-6},[ko.I2.Bottom]:{left:0,top:4}};const Io=e=>{var t=e.children,n=e.content,a=e.tooltipOffsetModifiers,r=void 0===a?{}:a,i=e.position,l=void 0===i?ko.I2.Right:i,c=e.color,u=void 0===c?So:c,p=e.popoverProps;return(0,R.v$)().isMobile?t:d.createElement(wo.Z,o()({hasArrow:!0,isChromeless:!0,arrowWrapperClassName:Po[u],component:d.createElement("div",{className:(0,ye.Z)([Po.tooltip,Po[u]])},n),position:l,positionBasedOffsetModifiers:s()(s()({},No),r),type:ko.Oj.Hover},p),t)};var Ro=n(64018),Mo=n(52385),Ao=n(88199),Bo=n(60275),Zo=n(83808),Lo=n(29411);const Oo="n8L1c";class Do extends d.Component{constructor(){super(...arguments),l()(this,"state",{isAnimating:!1}),l()(this,"animate",(()=>{this.setState({isAnimating:!0},(()=>setTimeout((()=>this.setState({isAnimating:!1})),800)))}))}render(){return this.state.isAnimating&&d.createElement("div",{className:Oo},d.createElement(Te.Z,{size:{height:21,width:21},fill:this.props.fill}))}}l()(Do,"defaultProps",{fill:y().paletteGreen});const Fo="xorCU",_o="to1xs",Ho="Od7LS";var Uo;!function(e){e[e.Reblogged=0]="Reblogged",e[e.Queued=1]="Queued"}(Uo||(Uo={}));var zo={width:21,height:21},Vo={[$.d0]:{opacity:1},[$.cn]:{opacity:1},[$.Ix]:{opacity:0},[$.Wj]:{opacity:0},[$.$r]:{opacity:0}};const Wo=e=>{var t=e.color,n=void 0===t?y().paletteGray65:t,a=e.disabled,r=e.className,i=(0,h.bp)(),l=i.apiFetch,c=i._t,u=i.features,p=u.redpopFastReblog,m=u.redpopPostFormMobileReblog,g=u.postFooterRedesign,v=i.features,b=i.logEvent,f=i.wwwBaseUrl,E=(0,we.uu)(),C=E.post,w=C.id,k=C.reblogKey,P=C.placementId,S=C.placementId,T=C.earnedId,x=C.earnedId,N=C.blogName,A=C.shouldShowTip,B=E.post,Z=(0,dt._)().addOnCloseModalRouteHandler,L=(0,Bo.V)().toggleToast,O=(0,X.TH)().pathname,D=(0,R.v$)().isMobile,F=(0,I.q5)(),_=F.canFastReblog,H=F.canFastQueue,U=F.canFastReblogDeprecated,z=F.fastRebloggedPosts,V=F.setDefaultFastBlog,W=F.getBlogs,G=(0,ut.i)().onReblogged,q=(0,d.useState)(!1),j=pe()(q,2),K=j[0],Q=j[1],J=d.useState(void 0),Y=pe()(J,2),ee=Y[0],te=Y[1],ne=(0,d.useRef)(null),ae=(0,d.useRef)(null),oe=(0,d.useRef)((0,M.ZP)(l)),re=(0,d.useRef)(!1),se=(0,d.useRef)(!1),ie=(0,d.useRef)();(0,d.useEffect)((()=>()=>{var e;return null===(e=ie.current)||void 0===e?void 0:e.call(ie)}),[]);var le=W(),ce=U||_,de=ce||H,ue=re.current||se.current;de||(se.current=!1,ue=!1);var me=ee===Uo.Reblogged,he=me?y().paletteGreen:y().palettePurple,ge=d.createElement(Te.Z,{size:zo,fill:me||z.includes(w)?y().paletteGreen:ee===Uo.Queued?y().palettePurple:ce?y().paletteBlue:H?y().palettePink:a?y().paletteGray40:n});if(!w||!k)return d.createElement(d.Fragment,null,ge,d.createElement(Do,{ref:ae,fill:he}));var ve=e=>{var t;null!==(t=ne.current)&&void 0!==t&&t.contains(e.relatedTarget)||(re.current=!1,se.current=!1,Q(!K))},be=(e,t,n)=>(null==t||t.preventDefault(),oe.current.postAPost({selectedBlogName:n,placementId:S,logEvent:b,post:s()(s()({},B),{},{date:void 0,tags:void 0,content:[],state:e,parentTumblelogUuid:B.blog.uuid,parentPostId:w,id:""}),reblogType:e===Yt.hA.Published?Ao.k.Fast:void 0}).fetch((()=>{var t;return null===(t=ae.current)||void 0===t||t.animate(),B&&te(e===Yt.hA.Published?Uo.Reblogged:Uo.Queued)}))),fe=e=>{var t,n=e.isModalSuccess;null===(t=ie.current)||void 0===t||t.call(ie),(0,Zo.Ly)(),n&&(Pe&&b({eventName:Ee.JE.ClientReblog,eventDetails:{placement_id:P,earned_id:T,has_tip:!!A}}),void 0===ee&&te(Uo.Reblogged),null==G||G(w))},Ce=(e,t,n)=>{se.current=!1,re.current=!1,Q(!K),V(t),ce?((e,t)=>{be(Yt.hA.Published,e,t)})(e,t.name):((e,t)=>{be(Yt.hA.Queue,e,t)})(e,t.name),b({eventDetails:n,eventName:U?Ee.JE.FastReblogOld:ce?Ee.JE.FastReblog:Ee.JE.FastQueue}),L(ce?d.createElement(Ro.ZP,{params:{blogName:t.name}},"Reblogged to [blogName]"):d.createElement(Ro.ZP,{params:{blogName:t.name}},"Queued to [blogName]"))},ke=e=>Ce(e,le[0]),Pe=(0,Lo.Z)({isMobile:D,features:v,editablePost:B,isReblog:!0}),Se={onMouseEnter:e=>{re.current=!0,de&&Q(!K)},onMouseLeave:U?ve:e=>re.current=!1},xe=c(ce?"Quick Reblog":H?"Quick Queue":"Reblog"),Ne=s()({role:"button"},de?{onClick:ke}:{role:void 0}),Ie="".concat(f).concat(O,"?restore=1"),Re={};if((0,Mo.uz)(B)&&!x){var Me=B.advertiserId,Ae=B.campaignId,Be=B.creativeId,Ze=B.adGroupId,Le=B.adId;Re=s()(s()({},Re),{},{[Mo.PC.AdvertiserId]:Me,[Mo.PC.CampaignId]:Ae,[Mo.PC.CreativeId]:Be,[Mo.PC.AdGroupId]:Ze,[Mo.PC.AdId]:Le})}return d.createElement(d.Fragment,null,p&&!U&&de&&ue&&d.createElement(yo,{onMouseEnter:e=>se.current=!0,onClickSelectedBlog:Ce,onMouseLeave:ve,avatarTitle:e=>c(ce?"Reblog to %1$s":"Queue to %1$s",e),blogs:le}),!D||D&&m?Xr(d.createElement(ho,o()({disabled:a,label:xe,reblogBlogName:N,reblogPostId:w,forwardedRef:ne,reblogKey:k,routeQueryProps:Re,disableNavigation:de,className:(0,ye.Z)(s()(s()({},r&&{[r]:!0}),{},{[Ho]:a})),onClick:de?ke:e=>{(0,Zo.r9)(w,S),null!=e&&e.ctrlKey||null!=e&&e.metaKey||(ie.current=Z(fe))}},Se),ge),!!g,s()({position:ko.I2.Top,content:c(me?"Reblogged":"Reblog")},me&&{color:To})):d.createElement("a",o()({ref:ne,href:"".concat(f,"/reblog/").concat(w,"/").concat(k,"?redirect_to=").concat(encodeURIComponent(Ie),"&avoid_redirect=1"),"aria-label":xe},Se,Ne),ge),d.createElement(Do,{ref:ae,fill:he}),d.createElement($.ZP,{in:U&&ue,unmountOnExit:!0,mountOnEnter:!0,timeout:500},(e=>d.createElement("div",{className:Fo,style:s()(s()({},Vo[e]),{},{transition:"opacity ".concat(500,"ms ease-in-out")})},d.createElement(Ro.ZP,{comment:"'E' and 'Alt' refer to keyboard keys. We're trying to switch keyboard shortcuts from using Alt + Click to fast reblog to instead E + Click",components:{eKey:d.createElement("kbd",{className:_o},"E"),altKey:d.createElement("kbd",{className:_o},"Alt")}},"Psst, we're moving this shortcut to [eKey/]. [altKey/] will be unavailable soon.")))))},Go="tc6fQ";const qo=function(e){var t=e.color,n=void 0===t?y().paletteGray65:t,a=e.onClick,o=e.disabled,r=(0,h.bp)()._t,s=o?y().paletteGray40:n;return d.createElement(m.Z,{label:r("Reply"),onClick:a,disabled:o,className:o&&Go},d.createElement(Ne,{size:{width:21,height:21},emptyIconFillColor:s}))};var jo=n(2698),Ko=(0,E.qv)(d.createElement("svg",{viewBox:"0 0 21 21",role:"img"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6452 8.47327C14.6452 11.8819 11.8819 14.6452 8.47327 14.6452C5.06462 14.6452 2.30137 11.8819 2.30137 8.47327C2.30137 5.06462 5.06462 2.30137 8.47327 2.30137C11.8819 2.30137 14.6452 5.06462 14.6452 8.47327ZM16.9465 8.47327C16.9465 13.1529 13.1529 16.9465 8.47327 16.9465C3.79361 16.9465 0 13.1529 0 8.47327C0 3.79361 3.79361 0 8.47327 0C13.1529 0 16.9465 3.79361 16.9465 8.47327ZM11.4715 18.7999C11.2228 18.7331 10.9679 18.6896 10.7119 18.6759C10.9678 18.6897 11.2226 18.7331 11.4712 18.7999C11.8226 18.8944 12.1868 18.9577 12.5605 18.9866C12.1869 18.9577 11.8228 18.8944 11.4715 18.7999ZM19.1336 8.36047C19.0988 8.31502 19.0515 8.29485 19.0046 8.29479C19.0516 8.29476 19.0991 8.31492 19.1339 8.36047C20.1242 9.6543 20.7126 11.272 20.7126 13.0272C20.7126 17.0171 17.6721 20.2968 13.7817 20.6758C17.6719 20.2967 20.7123 17.017 20.7123 13.0272C20.7123 11.272 20.1239 9.65431 19.1336 8.36047ZM8.47343 18.5417C9.00378 18.5417 9.52438 18.5007 10.0323 18.4218C10.5441 18.3423 11.0605 18.3915 11.5462 18.5221C12.0183 18.6491 12.5148 18.7169 13.0274 18.7169C16.1698 18.7169 18.7171 16.1695 18.7171 13.0272C18.7171 12.5146 18.6493 12.018 18.5224 11.546C18.3918 11.0603 18.3425 10.5439 18.4221 10.032C18.501 9.52413 18.542 9.00354 18.542 8.47318C18.542 8.26064 18.6772 8.0991 18.8428 8.03672C19.0116 7.97318 19.2267 8.00839 19.3624 8.18563C20.3897 9.52789 21.0003 11.2067 21.0003 13.0272C21.0003 17.4305 17.4307 21 13.0274 21C11.2069 21 9.52814 20.3895 8.18587 19.3621C8.00863 19.2265 7.97342 19.0113 8.03697 18.8426C8.09934 18.677 8.26089 18.5417 8.47343 18.5417ZM7.53187 4.70737C7.53187 4.18741 7.95339 3.76589 8.47335 3.76589C8.7923 3.76589 9.07422 3.9245 9.24451 4.16715C9.42705 4.42724 9.67241 4.70737 9.99017 4.70737H10.3563C10.8763 4.70737 11.2978 5.12888 11.2978 5.64884C11.2978 6.1688 10.8763 6.59031 10.3563 6.59031H8.00261C7.74263 6.59031 7.53187 6.80107 7.53187 7.06105C7.53187 7.32103 7.74263 7.53179 8.00261 7.53179H8.89701L8.94409 7.53225C10.2223 7.55732 11.2507 8.6013 11.2507 9.88547C11.2507 10.9883 10.4922 11.914 9.46849 12.1693C9.43672 12.1772 9.41482 12.2064 9.41482 12.2392C9.41482 12.7591 8.99331 13.1806 8.47335 13.1806C8.15439 13.1806 7.87248 13.022 7.70219 12.7794C7.51965 12.5193 7.27428 12.2392 6.95653 12.2392H6.59041C6.07045 12.2392 5.64894 11.8176 5.64894 11.2977C5.64894 10.7777 6.07045 10.3562 6.59041 10.3562H8.89701C9.15699 10.3562 9.36775 10.1455 9.36775 9.88547C9.36775 9.62549 9.15699 9.41474 8.89701 9.41474H8.00261C6.70271 9.41474 5.64893 8.36096 5.64893 7.06105C5.64893 5.93871 6.43448 4.99985 7.48575 4.7643C7.51248 4.75831 7.53187 4.73476 7.53187 4.70737Z"})));Ko.defaultProps={size:{width:21,height:21},fill:C.paletteGray65};const Qo=Ko;const Jo=function(e){var t=e.blogname,n=e.onClick;return d.createElement(m.Z,{label:"Send a tip to ".concat(t),onClick:n},d.createElement(Qo,null))};var Yo=n(38012),Xo=n(91085),$o=n(69675),er=n(6957),tr="com.tumblr.tip.custom",nr=n(7544);const ar="S3oJu",or="c5N5n",rr="iIxf7";const sr=e=>{var t=e.isSelected,n=e.onClickAmount,a=e.tippingAmount,o=(0,h.bp)(),r=o._c,s=o._getPriceInCurrency,i=(0,d.useCallback)((()=>{n(a)}),[n,a]),l=a.sku===tr?r("Label for a button that allows a user to enter a free-form, custom tip amount","Custom"):(0,nr.T4)(a.priceCents,"USD",s);return d.createElement("button",{key:a.sku,onClick:i,className:(0,ye.Z)({[ar]:!0,[or]:t}),role:"tab","aria-selected":t,"aria-labelledby":l},d.createElement("img",{srcSet:"".concat(a.icons[2].url," ").concat(a.icons[2].width,"w, ").concat(a.icons[1].url," ").concat(a.icons[1].width,"w"),sizes:"(min-resolution: 1.3) ".concat(a.icons[2].width,"w, ").concat(a.icons[1].width,"w"),src:a.icons[1].url,style:{width:a.icons[1].width},alt:""}),d.createElement("span",{className:rr,id:l},l))},ir="G6eCM",lr="Li42W",cr="USbmT",dr="VaU0f",ur="Ye4RL",pr="wL4PL",mr="pSFCY";const hr=e=>{var t=e.onSetAmount,n=(0,h.bp)(),a=n._getPriceInCurrency,o=n.apiFetch,r=(0,d.useState)(void 0),s=pe()(r,2),i=s[0],l=s[1],c=(0,d.useState)(!1),u=pe()(c,2),p=u[0],m=u[1],g=(0,d.useState)(""),v=pe()(g,2),b=v[0],f=v[1],E=(0,d.useState)(!1),C=pe()(E,2),w=C[0],k=C[1],P=(0,gt.useQuery)("tipping-amounts",(()=>(0,M.ZP)(o).getTippingAmounts().fetch().then((e=>(t(e.response.tipPricePoints[0].priceCents),e.response.tipPricePoints)))),{staleTime:36e5}),S=(0,d.useCallback)((e=>{var n=e.target.value,a=/[0-9.]/,o=n.split("").map((e=>e.match(a))).join(""),r=100*parseFloat(o);t(r),f("$".concat(o)),k(!0)}),[t]),T=(0,d.useCallback)((()=>{w||f("$")}),[b]),x=(0,d.useCallback)((()=>{k(!1),m(!1),i&&t(i.priceCents)}),[i,t]),N=(0,d.useCallback)((e=>{if(t(e.priceCents),tr===e.sku)return m(!0),void f((0,nr.T4)(e.priceCents,"USD",a));l(e)}),[t]),I=(0,d.useCallback)(((e,t)=>i?e.priceCents===i.priceCents:0===t),[i]);return P.isLoading?d.createElement("div",null,d.createElement(le.Z,null)):P.isSuccess&&P.data?d.createElement("div",{className:ir},p?d.createElement("div",{className:lr},d.createElement("header",{className:cr},"Custom Amount"),d.createElement("input",{className:ur,type:"text",value:b,onChange:S,onFocus:T,title:"Enter a custom amount"}),d.createElement("div",{className:pr},d.createElement("span",{className:mr},"USD")),d.createElement("button",{className:dr,onClick:x,"aria-label":"remove custom amount"},d.createElement(he.Z,{size:{width:10,height:10},fill:y().paletteGray65}))):P.data.map(((e,t)=>d.createElement(sr,{key:e.sku,tippingAmount:e,isSelected:I(e,t),onClickAmount:N})))):null};var gr=n(71358),vr=n(69);const br="_cgy7",fr="kx1rz",Er="MrcPV",Cr="v4bMH",yr="XowdV",wr="oWVDl",kr="dvxux",Pr="BOK98",Sr="uAmIP",Tr="sa00V",xr="sUS_9",Nr="B9e73",Ir="H_wbp",Rr="uVUFJ",Mr="TPxWA",Ar="Uz3gk";var Br=d.createElement("a",{href:"https://tumblr.zendesk.com/hc/articles/4417356885527"});const Zr=e=>{var t=e.blogname,n=e.onClose,a=e.avatar,o=e.postId,r=e.canDoReply,s=(0,h.bp)(),i=s.apiFetch,l=s._c,c=s.logEvent,p=(0,Bo.V)().toggleToast,m=(0,d.useState)(0),g=pe()(m,2),v=g[0],b=g[1],f=(0,d.useState)(""),E=pe()(f,2),C=E[0],w=E[1],k=(0,d.useState)(!1),P=pe()(k,2),S=P[0],T=P[1],x=(0,d.useState)(!1),N=pe()(x,2),I=N[0],R=N[1],A=(0,d.useState)(void 0),Z=pe()(A,2),L=Z[0],O=Z[1],D=(0,d.useState)(!1),F=pe()(D,2),_=F[0],H=F[1],U=(0,d.createRef)();(0,d.useEffect)((()=>(window.addEventListener("message",z),()=>window.removeEventListener("message",z))));var z=e=>{"after-checkout"===e.data&&(c({eventName:Ee.JE.TipPaymentSuccess,eventDetails:{type:"web",anonymous:I,hasMessage:!!C,amount:v}}),n(),p(d.createElement(Ro.ZP,{comment:"Message a user sees after successfully tipping an other user",params:{blogname:t}},"You did that! Thanks for tipping [blogname]! Your generosity will help support them while they create more weird and wonderful content for us to enjoy."),vr.p.Success))},V=(0,d.useCallback)((()=>{var e;R(!I),w(""),null===(e=U.current)||void 0===e||e.clearEditorContent()}),[I,U]),W=(0,d.useCallback)((e=>{w(e)}),[]),G=(0,d.useCallback)((()=>{T(!0),H(!0),(0,M.ZP)(i).generateTippingCheckoutUrl(t,{tip_amount_cents:v,is_anonymous:I,post_id:o,tip_message:C,host:window.location.host,path:"/blog/view/".concat(t,"/").concat(o)}).fetch().then((e=>{var t=e.response.url;O(t),T(!1)})).catch((()=>{T(!1),H(!1),p("Oops! Something went wrong.",vr.p.Error)}))}),[v,I,C,i,o,t,p]),q=(0,d.useCallback)((()=>{O(void 0),H(!1)}),[]),j=(0,d.useCallback)((()=>{H(!1)}),[]);return d.createElement("div",{className:br},!L&&d.createElement("h2",{className:Cr},"Tip ".concat(t)),L&&d.createElement("button",{className:wr,"aria-label":l("Label for a button that will allow a user to change their tip before completing the transaction","Go back and edit your tip"),onClick:q},d.createElement(B.Mq,{fill:y().paletteGray65,size:{width:13,height:13}})),d.createElement("button",{onClick:n,className:yr,"aria-label":l("Label for a button that will allow a user to cancel their tip before completing the transaction","Cancel tip")},d.createElement(he.Z,{fill:y().paletteGray65,size:{width:13,height:13}})),d.createElement("div",{className:(0,ye.Z)({[fr]:!0,[Er]:void 0!==L})},d.createElement(hr,{onSetAmount:b}),d.createElement("div",{className:kr},d.createElement("span",{id:"anonymousLabel",className:Pr},l("Label for a toggle that allows a user to tip an other user anonymously","Give anonymously")),d.createElement(gr.Z,{controlled:!0,labelledBy:"anonymousLabel",checked:I,onChange:V})),r&&d.createElement(d.Fragment,null,d.createElement("div",{className:"".concat(Sr," ").concat(kr)},d.createElement(u.Z,{imageResponse:a,dimension:36,avatarShape:na.o.Circle,badge:Pt.Z.ofType(Ce.w.Reply),isAnonymous:I,badgeBorder:!0}),d.createElement("div",{className:(0,ye.Z)({[Tr]:!0,[xr]:I})},d.createElement("div",{className:Nr},d.createElement(Xo.default,{ref:U,editorKey:"tip".concat(o),maxTextLength:475,placeholder:l("Placeholder for a text input that allows a user to leave message while tipping an other user","Add a message (optional)"),onEditorChangeText:W,readOnly:I})))),I?d.createElement(Yo.Z,{wrapperClassName:Rr,theme:Yo.o.Info,message:d.createElement(Ro.ZP,{comment:"Alert text notifying user that if they chose to tip anonymously, they cannot add a custom message.",components:{helpLink:Br}},"You can’t message anonymously. [helpLink]Questions[/helpLink]?")}):d.createElement("p",{className:Ir},d.createElement(Ro.ZP,{comment:"Label for a text input",components:{helpLink:Br}},"Your message will be added to the post replies and visible to everyone on or off Tumblr. [helpLink]Questions[/helpLink]?"))),d.createElement(er.ZP,{size:er.jf.EntireWidth,onClick:G,disabled:S,className:Ar},S?d.createElement(le.Z,{small:!0,color:y().paletteGray80}):l("label for a button that brings user to a checkout page","Next"))),_&&d.createElement("div",{className:Mr},d.createElement(le.Z,{centerOrientation:le.Q.HorizontalAndVertical,color:y().paletteGray40})),L&&d.createElement($o.Z,{className:(0,ye.Z)({[Mr]:!0,[Er]:_}),title:"checkout",src:L,scrolling:"auto",onLoad:j}))};var Lr=n(11165),Or=n(99498);const Dr="kuEoR",Fr="mnMy1",_r="ZyCBz",Hr="NG3pi",Ur="VA2AA",zr="GRXS0";const Vr=e=>{var t=e.onAcceptTerms,n=(0,h.bp)()._c;return d.createElement("div",{className:Dr},d.createElement("img",{srcSet:"".concat(Or," 396w, ").concat(Lr," 198w"),sizes:"(min-resolution: 1.3) 396w, 198w",src:Lr,alt:"",className:Fr}),d.createElement("h2",{className:_r},n("Heading for tip jar feature description. Tip has two meanings here: a monetary reward and a peice of advice","Here's a tip")),d.createElement("span",{className:Hr},d.createElement(Ro.ZP,{components:{span:d.createElement("span",{role:"img","aria-label":n("label for heart emoji","love")})}},"Now you can send tips to the blogs you [span]❤️[/span] on Tumblr.")),d.createElement("span",{className:Ur},d.createElement(Ro.ZP,{components:{termsLink:d.createElement("a",{href:"https://www.tumblr.com/policy/en/terms-of-service"}),privacyLink:d.createElement("a",{href:"https://www.tumblr.com/privacy"})}},"By tapping “Start tipping now” below I agree to [termsLink]Tumblr’s Terms of Service[/termsLink], that I’m 18 years or older, and have read the [privacyLink]Privacy Policy[/privacyLink].")),d.createElement("button",{className:zr,onClick:t},n("Button text that initiates the process of sending a tip to user","Start tipping now")))},Wr="x2xFO";const Gr=e=>{var t=e.blogname,n=e.onClose,a=e.postId,o=e.canDoReply,r=(0,h.bp)(),s=r.apiFetch,i=r.getUserInfo,l=r.logEvent,c=(0,d.useState)(!0),u=pe()(c,2),p=u[0],m=u[1],g=(0,d.useState)(void 0),v=pe()(g,2),b=v[0],f=v[1];(0,d.useEffect)((()=>{i().then((function(e){m(e.acceptedTippingTos||!1),f(e.blogs[0].avatar)}))}),[i,m,s]);var E=(0,d.useCallback)((()=>(l({eventName:Ee.JE.StartTippingTap}),(0,M.ZP)(s).acceptTippingTerms().fetch().then((()=>m(!0))))),[m,s]);return d.createElement("div",{className:Wr},p?d.createElement(Zr,{blogname:t,onClose:n,postId:a,avatar:b,canDoReply:o}):d.createElement(Vr,{onAcceptTerms:E}))};var qr=n(51616),jr=n(23866),Kr=n(82450),Qr=n(22320),Jr=n(34534);const Yr={footer:"tOKgq",isPaywallShown:"Q5Knh",noteCount:"gstmW",zeroNotes:"VNASy",noteCountButton:"rlv6m",noteCountButtonInner:"RHkx9",noteCountContainer:"zrO3e",noteCountTypes:"WNEhC",noteCountReply:"Pbawl",noteCountReblog:"C9fUY",noteCountLike:"Cq903",notesCloseButton:"ePsyd",controls:"MCavR",controlIcon:"sfGru",asyncLoading:"uBfMx",postActivityWrapper:"yTb5J",postActivityWrapperOpen:"DUvqr",tippingWrapper:"YfPOA",footerRedesign:"G6mnk"};var Xr=(e,t,n)=>t?d.createElement(Io,n,e):e;class $r extends d.Component{constructor(){var e;super(...arguments),e=this,l()(this,"state",{notesPopoverIsOpen:!1,sendAPostPopoverIsOpen:!1,focusNotePopoverTextareaOnMount:!1,showDeleteDialog:!1,likeChanged:!1,focusReplyOnMount:!1,postActivityAnimationComplete:!1,notesOpenedFromReply:!1,tippingPopoverIsOpen:!1,postActivityIsOpen:!1,postActivityTypeToOpen:null}),l()(this,"setNoteCountRef",(e=>this.noteCountEl=e)),l()(this,"renderNotesAsyncLoader",(()=>d.createElement("div",{className:Yr.asyncLoading},d.createElement(le.Z,{centerOrientation:le.Q.HorizontalAndVertical})))),l()(this,"postActivityContent",(()=>{var e=this.props,t=e.timelineContext.onReplyAdded,n=e.postContext.post,a=n.id,o=n.blog,r=n.reblogKey,s=n.replyCount,i=n.reblogCount,l=n.likeCount,c=n.liked,u=this.state,p=u.postActivityTypeToOpen,m=u.focusReplyOnMount,h=u.postActivityAnimationComplete,g=m&&h,v=this.getActionsAllowStatus(),b=v.canDoReply,f=v.canDoReblog;return"tipping"===p?d.createElement(Gr,{onClose:this.onTipButtonClick,blogname:o.name,postId:a,canDoReply:!!b}):d.createElement(Ra,{id:a,blog:o,reblogKey:r,canReply:b,canReblog:f,replyCount:s,reblogCount:i,likeCount:l,onReplyAdded:t,shouldUpdateLikeNotes:this.shouldUpdateLikeNotes(c),focusReplyOnMount:g})})),l()(this,"shouldUpdateLikeNotes",(e=>{var t=e!==this.state.likeChanged;return t&&this.setState({likeChanged:e}),t})),l()(this,"renderLoggedOutControls",(()=>{var e=this.props,t=e.appContext.features,n=e.location.pathname,a=e.postChromeStyles,o=[],r=this.getAdjustedForegroundColor();return o.push(d.createElement("div",{className:Yr.controlIcon,key:"send a post"},this.sendAPostContent())),(0,Va.A)(t,n)&&o.push(d.createElement("div",{className:Yr.controlIcon,key:"like"},d.createElement(ao,{color:r}))),d.createElement("div",{className:Yr.controls,style:a},o)})),l()(this,"getActionsAllowStatus",(()=>{var e=this.props.postContext,t=e.presentationStyle,n=t.showsEditButton,a=t.showsReplyButton,o=t.showsShareButton,r=t.showsReblogButton,s=t.showsLikeButton,i=t.showsDeleteButton,l=t.showsQueueButton,c=t.showsPublishButton,d=e.post,u=d.canSendInMessage,p=d.canReply,m=d.canReblog,h=d.canLike,g=d.canDelete,v=d.canEdit,b=d.queuedState,f=d.state,E=d.blog,C=f===Yt.hA.Queued&&b===Yt.SH.Queued&&E,y=f===Yt.hA.Draft,w=f===Yt.hA.Private;return{isQueue:C,isDraft:y,isPrivate:w,canDoReply:p&&a,canDoShare:u&&o,canDoReblog:m&&!w&&r,canDoLike:h&&s,canDoEdit:v&&n,canDoQueue:v&&l,canDoDelete:g&&i,canDoPublish:v&&c}})),l()(this,"renderControls",(()=>{var e=this.props,t=e.appContext,n=t._t,a=t.features.postFooterRedesign,o=e.postContext,r=o.presentationStyle,i=r.showsReplyButton,l=r.showsShareButton,c=r.showsReblogButton,u=r.showsLikeButton,p=o.post,m=p.id,h=p.liked,g=p.trail,v=p.shouldOpenInLegacy,b=p.state,f=p.blog,E=e.isInInboxTimeline,C=e.isSubmissionDraft,y=e.canAnswer,w=e.isInboxAsk,k=e.postChromeStyles,P=e.editablePost,S=this.getActionsAllowStatus(),T=S.isQueue,x=S.isDraft,N=S.canDoReply,I=S.canDoShare,R=S.canDoReblog,M=S.canDoLike,A=S.canDoEdit,B=S.canDoQueue,Z=S.canDoDelete,L=S.canDoPublish,O=this.getAdjustedForegroundColor(),D=[];return(I||a&&l)&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"send a post"},this.sendAPostContent())),(N||a&&i)&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"reply"},Xr(d.createElement(qo,{onClick:this.onReplyIconClick,disabled:!N,color:O}),!!a,{position:ko.I2.Top,content:n("Reply")}))),(R||a&&c)&&!E&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"reblog"},d.createElement(Wo,{disabled:!R,color:O}))),(M||a&&u)&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"like"},Xr(d.createElement(ao,{color:O}),!!a,s()({position:ko.I2.Top,content:n(h?"Liked":"Like")},h&&{color:xo})))),Z&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"delete"},d.createElement(Ha,{id:m,onClick:this.toggleShowDeleteDialog}))),A&&P&&!w&&!y&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"edit"},d.createElement(Ua.Z,{editablePost:P,trail:g,shouldAlwaysOpenInLegacy:v}))),P&&y&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"answer"},d.createElement(Da,{editablePost:P}))),B&&(x||C)&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"queue"},d.createElement(io,null))),A&&T&&D.push(d.createElement(qr.Z,{key:"queueControls"},d.createElement(V,{blogName:f.name,id:m.toString()}))),L&&(x||b===Yt.hA.Queued||C)&&D.push(d.createElement("div",{className:Yr.controlIcon,key:"post"},d.createElement(ro,null))),A&&T&&D.push(d.createElement(qr.Z,{key:"reorder"},d.createElement("div",{className:Yr.controlIcon},d.createElement(Ba.Z,null)))),d.createElement("div",{className:Yr.controls,style:k},D)})),l()(this,"toggleShowDeleteDialog",(()=>this.setState((e=>({showDeleteDialog:!e.showDeleteDialog}))))),l()(this,"renderDeleteDialog",(()=>{var e=this.props.appContext._t;return d.createElement(ee.Z,{onGlassClick:this.toggleShowDeleteDialog,glassIsClickable:!1},d.createElement(ce.Z,{title:e("Are you sure you want to delete this post?"),buttons:[{text:e("Cancel"),onClick:this.toggleShowDeleteDialog,buttonStyle:ce.X.Neutral},{text:e("OK"),onClick:this.deletePost,buttonStyle:ce.X.Confirm}]}))})),l()(this,"deletePost",Q()(Y().mark((function t(){var n,a,o,r,s,i,l;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.appContext.apiFetch,o=n.timelineContext.onRemoveTimelineObject,r=n.postContext.post,s=r.id,i=r.blog.uuid,l=null==o?void 0:o({id:s}),e.toggleShowDeleteDialog(),t.abrupt("return",a("/v2/blog/".concat(i,"/post/delete"),{method:"POST",body:{id:s}}).catch((()=>null==l?void 0:l())));case 4:case"end":return t.stop()}}),t)})))),l()(this,"toggleNotes",(()=>{this.setState((e=>("notes"===e.postActivityTypeToOpen||e.notesOpenedFromReply||this.logOpenNotesAnalyticsEvents(),{notesOpenedFromReply:!1})),(()=>{this.togglePostActivity("notes")}))})),l()(this,"toggleNotesPopover",(()=>{this.setState((e=>(e.notesPopoverIsOpen||e.notesOpenedFromReply||this.logOpenNotesAnalyticsEvents(),{focusNotePopoverTextareaOnMount:!1,notesPopoverIsOpen:!e.notesPopoverIsOpen,notesOpenedFromReply:!1})))})),l()(this,"toggleSendAPostPopover",(()=>{this.setState((e=>({sendAPostPopoverIsOpen:!e.sendAPostPopoverIsOpen}))),this.props.adContext.sendClickADMBeacon(this.props.postContext.post.adm),this.props.appContext.logEvent({eventName:Ee.JE.SendAPostClick,eventDetails:s()({placement_id:this.props.postContext.post.placementId},(0,Kr.U)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})})),l()(this,"logOpenNotesAnalyticsEvents",(()=>{var e=this.props,t=e.adContext,n=t.adPlacementConfiguration,a=t.hydraConfigInstanceId,o=t.sendClickADMBeacon,r=e.appContext.logEvent,i=e.postContext.post,l=i.adm,c=i.earnedId,d=i.placementId;o(l),r({eventName:Ee.JE.Notes,eventDetails:s()({placement_id:d,earned_id:c},(0,Kr.U)({timelineObject:i,adPlacementConfiguration:n,hydraConfigInstanceId:a}))})})),l()(this,"onPostActivityAnimationEntered",(()=>{this.setState({postActivityAnimationComplete:!0})})),l()(this,"onPostActivityAnimationExit",(()=>{this.setState({postActivityAnimationComplete:!1})})),l()(this,"onPostActivityAnimationExited",(()=>{this.setState({postActivityTypeToOpen:null})})),l()(this,"onReplyIconClick",(e=>{e.stopPropagation();var t=this.props,n=t.adContext,a=n.adPlacementConfiguration,o=n.hydraConfigInstanceId,r=t.appContext,i=r.features.commentingUxRedesign,l=r.logEvent,c=t.isNarrow,d=t.postContext,u=d.presentationStyle,p=d.post,m=p.placementId;this.state.notesPopoverIsOpen||"notes"===this.state.postActivityTypeToOpen||l({eventName:Ee.JE.ReplyIconClick,eventDetails:s()({placement_id:m},(0,Kr.U)({timelineObject:p,adPlacementConfiguration:a,hydraConfigInstanceId:o}))}),this.setState({notesOpenedFromReply:!0}),i&&u!==Qr.Z.masonry&&!c?(this.setState({focusReplyOnMount:!0}),this.toggleNotes()):this.toggleNotesPopover()})),l()(this,"onNoteCountButtonClick",(()=>{var e=this.props,t=e.appContext.features.commentingUxRedesign,n=e.isNarrow,a=e.postContext.presentationStyle;t&&a!==Qr.Z.masonry&&!n?(this.setState({focusReplyOnMount:!1}),this.toggleNotes()):this.toggleNotesPopover()})),l()(this,"noteContent",(()=>{var e=this.state,t=e.notesPopoverIsOpen,n=e.postActivityIsOpen,a=e.postActivityTypeToOpen,r=e.focusNotePopoverTextareaOnMount,s=this.props,i=s.appContext,l=i._c,c=i._t,u=i._n,p=i.features.commentingUxRedesign,h=s.timelineContext.onReplyAdded,g=s.postContext.post,v=g.id,b=g.blog,f=g.reblogKey,E=g.noteCount,C=g.replyCount,w=g.reblogCount,k=g.likeCount,P=g.liked,S=s.paletteContext;if(!t&&(E<=0||!b.uuid))return null;var T=p&&C+w+k!==0,x=y().paletteWhite;switch(S.name){case jr.Z.darkMode:case jr.Z.lowContrastClassic:case jr.Z.vampire:x=y().white}var N=d.createElement(m.Z,{onClick:this.onNoteCountButtonClick,wrapperClassName:Yr.noteCountButton,className:Yr.noteCountButtonInner,label:c("Notes")},n&&"notes"==a?d.createElement("div",{className:Yr.notesCloseButton},d.createElement(te.Z,{fill:y().paletteGray65}),l("Close the panel showing the notes for a post","Close notes")):d.createElement("span",{className:Yr.noteCountContainer,ref:this.setNoteCountRef},T&&d.createElement("div",{className:Yr.noteCountTypes},k>0&&d.createElement("div",{title:u("%1$s like","%1$s likes",k),className:Yr.noteCountLike},d.createElement(ae,{background:x})),w>0&&d.createElement("div",{title:u("%1$s reblog","%1$s reblogs",w),className:Yr.noteCountReblog},d.createElement(re,{background:x})),C>0&&d.createElement("div",{title:u("%1$s reply","%1$s replies",C),className:Yr.noteCountReply},d.createElement(ie,{background:x}))),d.createElement("span",{className:Yr.noteCountTotal},u("%1$s note","%1$s notes",E)))),I=this.getActionsAllowStatus(),M={focusNotePopoverTextareaOnMount:r,id:v,blog:b,reblogKey:f,canReply:I.canDoReply,canReblog:I.canDoReblog,close:this.toggleNotesPopover,replyCount:C,reblogCount:w,likeCount:k,onReplyAdded:h},A=p?d.createElement(Ra,o()({},M,{popoverLayout:!0,shouldUpdateLikeNotes:this.shouldUpdateLikeNotes(P),totalNoteCount:E,onClose:this.toggleNotesPopover})):d.createElement(Aa,o()({},M,{asyncLoadingComponent:this.renderNotesAsyncLoader()}));return d.createElement(R.ZP,null,(e=>e.isMobile?d.createElement("div",null,N,t&&d.createElement(ee.Z,{onGlassClick:this.toggleNotesPopover,topOffset:pt.mobileHeaderHeight},A)):d.createElement(de.ZP,{closeForAllExternalClicks:!0,isOpen:t,toggle:this.onNoteCountButtonClick,position:ko.I2.Right,showOverflowY:!0,width:320,height:510,component:A},N)))})),l()(this,"sendAPostContent",(()=>{var e=this.state.sendAPostPopoverIsOpen,t=this.props,n=t.appContext,a=n._t,o=n.features,r=o.shareButtonSwap,s=o.postFooterRedesign,i=t.postContext.post,l=i.blog,c=i.id,u=i.shortUrl,p=i.postUrl,m=i.embedUrl,h=i.placementId,g=i.earnedId,v=i.canSendInMessage,b=r?{verticalAlign:"middle"}:{},f=this.getAdjustedForegroundColor();return d.createElement(R.ZP,null,(t=>t.isMobile?d.createElement("div",null,d.createElement(jo.Z,{disabled:!v,onClick:this.toggleSendAPostPopover,color:f}),e&&d.createElement(ee.Z,{onGlassClick:this.toggleSendAPostPopover,topOffset:pt.mobileHeaderHeight},d.createElement(Za,{blog:l,id:c,shortUrl:u,postUrl:p,embedUrl:m,isMobile:!0,close:this.toggleSendAPostPopover,placementId:h,earnedId:g}))):d.createElement(de.ZP,{width:340,height:"auto",isOpen:e,toggle:this.toggleSendAPostPopover,showOverflowY:!0,targetStyles:b,position:s?ko.I2.BottomStart:ko.I2.Bottom,component:d.createElement(Za,{blog:l,id:c,shortUrl:u,postUrl:p,embedUrl:m,placementId:h,earnedId:g})},Xr(d.createElement(jo.Z,{disabled:!v,onClick:this.toggleSendAPostPopover,color:f}),!!s,{content:a("Share"),position:ko.I2.Top}))))})),l()(this,"getAdjustedForegroundColor",(()=>{var e=this.props,t=e.isPaywallShown,n=e.postContext.post.blog,a=((null==n?void 0:n.theme)||{}).backgroundColor;return t?(0,Jr.YK)(a||y().blogBackgroundColor):void 0})),l()(this,"togglePostActivity",(e=>{var t=window.scrollY;this.setState((t=>({postActivityIsOpen:t.postActivityTypeToOpen!==e||!t.postActivityIsOpen,postActivityTypeToOpen:e})),(()=>{window.scrollTo({top:t})}))})),l()(this,"toggleTipping",(()=>{this.togglePostActivity("tipping")})),l()(this,"toggleTippingPopover",(()=>{this.setState((e=>({tippingPopoverIsOpen:!e.tippingPopoverIsOpen})))})),l()(this,"onTipButtonClick",(()=>{var e=this.props,t=e.isNarrow,n=e.appContext.logEvent;e.postContext.presentationStyle.showsDogEar&&!t?this.toggleTipping():this.toggleTippingPopover(),n({eventName:Ee.JE.TipPostTap})})),l()(this,"tippingContent",(()=>{var e=this.props.postContext.post,t=e.id,n=e.blog,a=this.state.tippingPopoverIsOpen,o=this.getActionsAllowStatus().canDoReply;return d.createElement(de.ZP,{width:340,height:"auto",isOpen:a,toggle:this.onTipButtonClick,showOverflowY:!0,component:d.createElement(Gr,{onClose:this.onTipButtonClick,blogname:n.name,postId:t,canDoReply:!!o})},d.createElement(Jo,{blogname:n.name,onClick:this.onTipButtonClick}))}))}render(){var e=this.props,t=e.appContext,n=t._t,a=t.isLoggedIn,r=t.features,s=r.commentingUxRedesign,i=r.postFooterRedesign,l=e.timelineContext.onRemoveTimelineObject,c=e.postContext,u=c.presentationStyle.showsDeleteButton,p=c.post,m=p.id,h=p.canDelete,g=p.shouldShowTip,v=p.noteCount,b=c.isNarrow,f=this.state,E=f.showDeleteDialog,C=f.postActivityIsOpen;"production"===At.Z.Development&&h&&u&&!l&&console.warn("The post ".concat(m," can be deleted but has no onRemoveTimelineObject handler. This can cause the UI to get out of date with the delete state of the post."));var y=this.getAdjustedForegroundColor(),w=y?{color:y}:null;return d.createElement("footer",o()({role:"contentinfo","aria-label":n("Post Footer"),className:(0,ye.Z)({[Yr.footer]:!0,[Yr.footerRedesign]:i})},w&&{style:w}),d.createElement("div",{className:(0,ye.Z)({[Yr.noteCount]:!0,[Yr.zeroNotes]:v<=0})},this.noteContent(),g&&s&&i&&this.tippingContent()),a?this.renderControls():this.renderLoggedOutControls(),E&&this.renderDeleteDialog(),!b&&s&&d.createElement($.ZP,{in:C,timeout:250,mountOnEnter:!0,unmountOnExit:!0,onEntered:this.onPostActivityAnimationEntered,onExit:this.onPostActivityAnimationExit,onExited:this.onPostActivityAnimationExited},(e=>d.createElement("div",{className:(0,ye.Z)({[Yr.postActivityWrapper]:!0,[Yr.postActivityWrapperOpen]:[$.d0,$.cn].includes(e)}),style:{transitionDuration:"".concat(250,"ms")}},this.postActivityContent()))))}}l()($r,"defaultProps",{trailElementForSelf:void 0,isNarrow:!1});var es=(0,A.X9)($r,{appContext:!0,adContext:!0,timelineContext:!0,loginContext:!0,postContext:!0,paletteContext:!0});const ts=(0,X.EN)(es);var ns=n(58576);const as="gQmlg",os="wB6qM",rs="_qMFx",ss="SEj9V";var is;!function(e){e.unavailable="unavailable",e.availablePrioritize="available_prioritize",e.available="available",e.inReview="in_review",e.none="none",e.complete="complete"}(is||(is={}));class ls extends d.Component{constructor(){super(...arguments),l()(this,"state",{openGlass:!1,inReview:!1,hasError:!1}),l()(this,"makeAppeal",(()=>{var e=this.props,t=e.blogName,n=e.postId;return this.props.appContext.apiFetch("/v2/blog/".concat(t,"/posts/").concat(n,"/appeal"),{method:"POST",body:{owner_appeal_nsfw:"request_review"}}).then((e=>{this.setState({inReview:!0,openGlass:!1})})).catch((e=>{this.setState({hasError:!0})}))})),l()(this,"toggleGlass",(()=>this.setState((e=>({openGlass:!e.openGlass})))))}render(){var e=this.props,t=e.flaggedType,n=e.isReblog,a=e.isNsfw,o=e.showApprovedAppeals,r=this.state,s=r.openGlass,i=r.inReview,l=r.hasError,c=this.props.appContext,u=c._t,p=c.wwwBaseUrl;if(t===is.none)return null;if(!a&&o&&t===is.complete)return d.createElement("div",{className:(0,ye.Z)([as,rs])},u("Your appeal was accepted! This post is no longer hidden."));if(!a)return null;var h={onGlassClick:this.toggleGlass,glassIsClickable:!1},g={text:u("Appeal"),onClick:this.makeAppeal,buttonStyle:ce.X.Neutral},v={text:u("Dismiss"),onClick:this.toggleGlass,buttonStyle:ce.X.Confirm},b={text:u("Learn More"),link:"".concat(p,"/docs/adultcontentfaq"),buttonStyle:ce.X.Neutral},f={text:u("Learn More"),link:"".concat(p,"/docs/contentappeals"),buttonStyle:ce.X.Neutral},E=d.createElement(ee.Z,h,d.createElement(ce.Z,{body:u("This post was flagged because somewhere in your reblog there might be adult content which is a violation of our Community Guidelines."),buttons:[b,v]})),C=d.createElement(ee.Z,h,d.createElement(ce.Z,{body:u("Your post is in content appeal. Once a decision has been made, we'll send you an email."),buttons:[f,v]})),w=d.createElement(ee.Z,h,d.createElement(ce.Z,{body:u("Unable to appeal the post. Please contact support for further help."),buttons:[b,v]})),k=d.createElement(ee.Z,h,d.createElement(ce.Z,{body:u("This post was flagged because we think it contains adult content which violates our Community Guidelines. It has been hidden from others, but not deleted. If you think this was done in error, tap Appeal and a real, live human will review it."),buttons:[g,b,v]})),P=d.createElement(ee.Z,h,d.createElement(ce.Z,{body:u("This post was flagged because it contains adult content which violates our Community Guidelines. It has not been deleted but is now only viewable to you. This decision cannot be appealed."),buttons:[b,v]})),S=d.createElement(m.Z,{label:u("What does this mean?"),onClick:this.toggleGlass},d.createElement(ns.Z,{fill:y().paletteWhite,size:{width:22,height:22}}));return t===is.inReview||i?d.createElement("div",{className:(0,ye.Z)([as,os])},u(n?"This reblog is in content appeal":"Your post is in content appeal"),S,s&&C):n?d.createElement("div",{className:as},u("This post was flagged because somewhere in your reblog there might be adult content."),S,s&&E):t===is.unavailable?d.createElement("div",{className:as},u("It looks like your post might be in violation of our Community Guidelines and is now hidden."),S,s&&P):t===is.complete?d.createElement("div",{className:as},u("Based on our Community Guidelines this post contains adult content and is now only viewable to you."),S,s&&P):d.createElement("div",{className:as},u("It looks like your post might be in violation of our Community Guidelines and is now hidden."),d.createElement("button",{className:ss,"aria-label":u("Appeal this post"),onClick:this.toggleGlass},u("Appeal")),s&&!l&&k,s&&l&&w)}}const cs=(0,h.HJ)(ls);var ds=n(42516),us=n(29694),ps=n(80813),ms=n(75124),hs=e=>{var t,n=e.layout,a=e.content,o=null==n?void 0:n.find((e=>e.type===Yt.ms.Ask));return(null==o||null===(t=o.blocks)||void 0===t?void 0:t.length)<(null==a?void 0:a.length)},gs=n(99625),vs=n(26371),bs=n(36078),fs=n(30770);const Es="W0ros",Cs="uamX1",ys="q05ND",ws="NQQC8";const ks=(0,h.HJ)((function(e){var t=e.expand,n=e.filteredTags,a=e.filteredContent,o=e.appContext._t,r=n&&n.length?"#tagfiltering":"#contentfiltering",s="/settings/account".concat(r),i=n&&n.length?n.map((e=>"#".concat(e))).join(", "):a.join(", "),l=d.createElement("a",{className:ys,target:"_blank",href:s},i),c=n&&n.length?o("This post contains filtered tags."):o("This post contains filtered content."),u=o("View post");return d.createElement("div",{className:Es},d.createElement("p",{className:Cs},c),l,d.createElement(m.Z,{onClick:t,className:ws,label:u},u))})),Ps={scheduledQueueDate:"SirwX",scheduledQueueDay:"jn3oa",scheduledQueueTime:"E2wfC",scheduledIndicator:"b1E_e",post:"FtjPK",withOutline:"r0etU",stickyContainer:"AD_w7",avatar:"JZ10N",submission:"hYZb4",contentSource:"d_FyU",isPaywallShown:"fX9yp",footerWrapper:"qYXF9",isRenderedInPeepr:"EBcaC",submissionWrapper:"nPaE8",submitter:"IyHrQ",recommendationReasonTopTeaserWrapper:"n_1Sv",recommendationReasonTopTeaserInner:"tI3Pw",recommendationReasonTag:"Lufh9"};class Ss extends d.Component{constructor(){super(...arguments),l()(this,"state",{hasExpandedFromFiltered:!1}),l()(this,"getPostContextValue",(0,c.Z)(((e,t)=>({presentationStyle:t,post:s()(s()({},e),{},{canReply:e.canReply&&t.showsReplyButton,canSendInMessage:e.canSendInMessage&&t.showsShareButton}),isNarrow:!!this.props.isNarrow})))),l()(this,"getSubmissionAttribution",(()=>{var e=this.props.timelineObject,t=e.postAuthor,n=e.state,a=e.anonymousEmail,o=e.anonymousName;return t?d.createElement("div",{className:Ps.submissionWrapper},d.createElement(p.Z,{className:Ps.submission,blogName:t,href:"https://".concat(t,".tumblr.com")},d.createElement(Ro.ZP,{comment:"This text denotes that a post on some blog was submitted to it by some other user",params:{postAuthor:t},components:{span:d.createElement("span",{className:Ps.submitter})}},"Submitted by [span][postAuthor][/span]"))):n===Yt.hA.Submission&&a&&o?d.createElement("div",{className:Ps.submission},d.createElement(Ro.ZP,{params:{anonymousEmail:a,anonymousName:o},components:{span:d.createElement("span",{className:Ps.submitter})}},"Submitted by [span][anonymousName] ([anonymousEmail])[/span]")):d.createElement("div",{className:Ps.submission},d.createElement(Ro.ZP,{comment:"This text denotes that a post on some blog was submitted to it by some anonymous user",components:{span:d.createElement("span",{className:Ps.submitter})}},"Submitted by [span]anonymous[/span]"))})),l()(this,"renderTags",((e,t,n)=>{var a=this.props,o=a.timelineObject,r=o.recommendationReason,s=o.tags,i=o.isPinned,l=o.paywallAccess,c=o.isPaywalled,u=a.appContext._t,p=i&&{text:u("Pinned Post"),icon:Rt.Pin,color:C.paletteAccent,loggingReason:"",links:{}}||((null==r?void 0:r.icon)!==Rt.Pin?r:void 0);return d.createElement(Qt,{tags:s,isPaywallShown:t,isSupporting:l===us.bv.Member&&c,postChromeStyles:n,recommendationReason:p,collapsedHeight:e?pt.wrappedTagsMobileHeight:pt.wrappedTagsDesktopHeight})})),l()(this,"appendIsBlurredImages",((e,t)=>e.map((e=>e.type===Yt.kH.Image&&t?s()(s()({},e),{},{isBlurredImages:this.props.timelineObject.isBlurredImages}):e)))),l()(this,"getInboxAttribution",(e=>{var t=this.props.timelineObject,n=t.postUrl,a=t.askingName,o=void 0===a?"":a,r=t.askingUrl,s=void 0===r?"":r,i=t.askingAvatar,l=t.postAuthor,c=void 0===l?"":l,d=t.postAuthorAvatar,u=t.blog,p=o,m=s,h=i,g=(0,Yt.lG)(t);return g&&(p=c,h=d,m="".concat(t.postAuthor,".tumblr.com")),{recipientName:e&&!u.primary?u.name:void 0,isSubmission:g,permalinkUrl:n,blog:{name:p,url:m,avatar:h,uuid:""}}})),l()(this,"getAttribution",((e,t)=>e?this.getInboxAttribution(t):(0,vs.Z)(this.props.timelineObject))),l()(this,"expandFromFiltered",(()=>this.setState({hasExpandedFromFiltered:!0})))}render(){var e=this.props,t=e.timelineObject,n=e.appContext,a=n.isPeeprShowing,r=n.features,i=r.paywallConsumption,l=r.tspUiUpdate,c=r.recommendationReasonTopTeaser,p=n._t,m=e.adContext,h=m.adPlacementConfiguration,g=m.hydraConfigInstanceId,v=e.isInInboxTimeline,b=e.isNarrow,E=t.actions,C=t.blog,y=t.blogName,w=t.id,k=t.content,P=t.layout,S=t.canReblog,T=t.date,x=t.filtered,N=t.followed,I=t.isNsfw,M=t.ownerAppealNsfw,A=t.rebloggedFromAdvertiserName,B=t.rebloggedFromCanBeFollowed,Z=t.rebloggedFromFollowing,L=t.rebloggedFromId,O=t.rebloggedFromName,D=t.rebloggedFromUrl,F=t.reblogKey,_=t.trail,H=t.type,U=t.canEdit,z=t.postAuthor,V=t.postAuthorAvatar,W=t.isSubmission,G=t.askingName,q=t.sponsoredBadgeUrl,K=t.sourceUrl,Q=t.sourceTitle,J=t.sourceUrlRaw,Y=t.dismissal,X=t.state,$=t.placementId,ee=t.adm,te=t.isPaywalled,ne=t.paywallAccess,ae=t.earnedId,oe=this.state.hasExpandedFromFiltered,re=i&&te&&(ne===us.bv.NonMember||ne===us.bv.Disabled);if(H!==Yt.SB)return"production"===At.Z.Development&&console.warn('Post with id "'.concat(w,'" is not blocks type and cannot be rendered')),null;var se=this.props.presentationStyle,ie=this.getAttribution(se.usesInboxAttribution,se.showsRecipientForInboxAttribution);null!=ie&&ie.blog.advertiserName&&(se=s()(s()({},se),{},{showsPosterAvatar:!1}));var le=O&&D?{blogName:A||O,permalinkUrl:D,postId:L}:void 0,ce=!(void 0!==B)&&C.canBeFollowed,de=(0,gs.d)(E),ue=!!G,pe=ue&&X===Yt.hA.Submission,me=this.props.timelineObject.isAnonymous&&W&&v||this.props.timelineObject.isAnonymous&&pe,he=U?s()(s()({},t),{},{sourceUrl:J}):void 0,ge=d.createElement(ds.Z,o()({postState:X,postAttribution:ie,reblogAttribution:le,presentationStyle:se,showsFollowButton:!se.usesInboxAttribution&&(B||ce),showsSponsored:!!q,isFollowingPoster:N,isFollowingReblogger:Z,dismissal:Y,date:T,placementId:$,earnedId:ae,isPaywalled:te,showAsAnonymous:me,isInboxAsk:pe,editablePost:he},!l&&{ctaButtonOptions:de})),ve=d.createElement(cs,{flaggedType:M,postId:w,blogName:y,isReblog:void 0!==L,isNsfw:I,showApprovedAppeals:se.showsApprovedAppealBanner}),be=me||!ie.blog.url,fe=se.showsPosterAvatar&&!se.showsAvatarInline?d.createElement("div",{className:Ps.stickyContainer,"data-testid":"sticky-avatar-container"},d.createElement("div",{className:Ps.avatar},d.createElement(u.Z,{isAnonymous:be,imageResponse:ie.blog.avatar,dimension:se.avatarDimension,name:ie.blog.name,url:ie.blog.url,isAdult:ie.blog.isAdult,blog:ie.blog,authorImageResponse:se.showsAuthorImage?V:void 0,authorName:z,placementId:$,eventName:Ee.JE.Avatar,eventDetails:(0,Kr.U)({timelineObject:t,adPlacementConfiguration:h,hydraConfigInstanceId:g})}))):null;if(x&&!oe)return d.createElement(we.Mj.Provider,{value:this.getPostContextValue(t,se)},d.createElement("article",{className:Ps.post},fe,ge,d.createElement(ks,{expand:this.expandFromFiltered,filteredTags:x.tags,filteredContent:x.content})));var Ce=!!_.length&&!!k.length,ke={content:k,layout:P,blog:C,post:{id:w,timestamp:null==t?void 0:t.timestamp},isContributedContent:!0},Pe=Ce?[..._,ke]:_,Se=d.createElement(fs.Z,{trail:Pe,parentPlacementId:$,parentEarnedId:ae}),Te=this.appendIsBlurredImages(k,se.blursImagesFromUnfollowedBlogs),xe=!!k.length&&!_.length,Ne=xe&&se.showsOnlyFirstMediaBlock&&(0,ms.x)(Te),Ie=xe&&d.createElement(Tt.ZP,{isOriginalPost:!0,postingBlog:C,adm:ee,placementId:$,blocks:Ne?[Ne]:Te,layouts:Ne?void 0:P}),Re=!!W&&se.showsSubmissionAttribution&&this.getSubmissionAttribution(),Me=!!Q&&!!K&&d.createElement("div",{className:(0,ye.Z)({[Ps.contentSource]:!0,[Ps.isPaywallShown]:re})},d.createElement(Ro.ZP,{comment:'Content source. The placeholder is a link to the source of the post (like "website.com").',params:{sourceTitle:Q},components:{link:d.createElement("a",{href:K,target:"_blank",rel:"noopener noreferrer"})}},"Source: [link][sourceTitle][/link]")),Ae=S?{content:k,layout:P,blog:C,post:{id:w,reblogKey:F}}:void 0,Be=d.createElement(d.Fragment,null,ve,this.props.children||d.createElement(d.Fragment,null,Se,Ie));void 0!==se.maximumContentHeight&&(Be=d.createElement(f,{maxHeight:se.maximumContentHeight},Be));var Ze=this.props.paletteContext.name,Le=re&&C.theme?(0,ps.ZP)(C):{},Oe=re&&C.theme?(0,ps.ot)(C,Ze):{},De=c&&t.recommendationReason&&t.recommendationReason.icon===Rt.Hashtag?d.createElement("div",{className:Ps.recommendationReasonTopTeaserWrapper},d.createElement("div",{className:Ps.recommendationReasonTopTeaserInner},d.createElement("span",{className:Ps.recommendationReasonPrompt},p("Because you follow")),d.createElement("span",{className:Ps.recommendationReasonTag},d.createElement(Dt,{reason:t.recommendationReason})))):null;return d.createElement(R.ZP,null,(e=>{var n=e.isMobile;return d.createElement(we.Mj.Provider,{value:this.getPostContextValue(t,se)},d.createElement("article",{className:(0,ye.Z)({[Ps.post]:!0,[Ps.withOutline]:se.hasOutline})},X===Yt.hA.Queued?this.renderQueueSchedule(n):fe,De,ge,Be,Me,Re,l&&d.createElement(j,{ctaOptions:de,placementId:$}),d.createElement("div",{className:(0,ye.Z)({[Ps.footerWrapper]:!0,[Ps.isPaywallShown]:re,[Ps.isRenderedInPeepr]:a}),style:Le},!!se.showsTags&&this.renderTags(n,re,Oe),d.createElement(ts,{isInInboxTimeline:v,canAnswer:ue&&!hs(t),isInboxAsk:pe,isPaywallShown:re,isSubmissionDraft:W&&X===Yt.hA.Submission,postChromeStyles:Oe,editablePost:he,trailElementForSelf:Ae,isNarrow:b}))))}))}renderQueueSchedule(e){var t=this.props.timelineObject,n=t.scheduledPublishTime,a=t.id,o=t.blogName,r=t.queuedState,s=t.blog.timezoneOffset,i=this.props.appContext,l=i._getLocaleDateString,c=i._t;if(!n)return null;var u=new Date;u.setHours(23,59,59,999);var p,m,h=u.getTime()+5184e5>1e3*n?kn.Cx.WeekdayShort:kn.Cx.MonthDayShort;if(s){var g=(0,bs.ZP)(s,n);p=l(g,h),m=l(g,kn.Cx.TimeUTC)}else{var v=new Date(1e3*n);p=l(v,h),m=l(v,kn.Cx.Time)}var b=r===Yt.SH.Scheduled?d.createElement("span",{className:Ps.scheduledIndicator,title:c("Scheduled Post")},d.createElement(k,null)):d.createElement("span",{className:Ps.scheduledIndicator,title:c("Queued Post")},d.createElement(S,null));return e?d.createElement("div",{className:Ps.scheduledQueueDate},d.createElement("div",{className:Ps.scheduledQueueDay},b," ",p," ",m),r===Yt.SH.Queued&&d.createElement(V,{id:a.toString(),blogName:o})):d.createElement("div",{className:Ps.stickyContainer},d.createElement("div",{className:Ps.scheduledQueueDate},d.createElement("div",{className:Ps.scheduledQueueDay},p),d.createElement("div",{className:Ps.scheduledQueueTime},m," ",b)))}}var Ts=(0,A.CN)(Ss,{appContext:!0,adContext:!0,paletteContext:!0});const xs=(0,T.s)(Ts,!1)},52699:(e,t,n)=>{"use strict";n.d(t,{J0:()=>k,ZP:()=>C,M3:()=>w});var a=n(85313),o=n.n(a),r=n(92969),s=n.n(r),i=n(95004),l=n(17934),c=n(89261),d=n(76155),u=n(51742),p=n(90553),m=n(96724),h=n(82450),g=n(94966);const v="GzjsW",b="CQmeg",f="ntvhe";class E extends i.Component{constructor(){super(...arguments),s()(this,"state",{isObjectFitSupported:!0})}componentDidMount(){var e,t;this.setState({isObjectFitSupported:null===(e=(t=CSS).supports)||void 0===e?void 0:e.call(t,"object-fit","cover")})}render(){var e=this.props,t=e.layout,n=e.components,a=e.postContext,r=e.adContext,s=r.adPlacementConfiguration,p=r.hydraConfigInstanceId;if(!this.state.isObjectFitSupported)return i.createElement(i.Fragment,null,n);var E=w(t),C=(0,c.$E)((0,c.ej)(E)),P=this.rowHasPaywallComponent();return i.createElement("div",{className:v},E.display.map((e=>{var t,r,c,v,E=e.blocks;if(!E.length)return null;var w=E.map((e=>{if(P){var t=n.find((t=>t.props.blockIndex===e));if(t)return t}return n[C.indexOf(e)]}));if(!w.length||1===E.length&&(null===(t=w[0])||void 0===t||null===(r=t.props)||void 0===r||null===(c=r.block)||void 0===c?void 0:c.type)===d.kH.None)return null;var S=w.filter(y);if(1===w.length&&!S.length)return w;var T=E.reduce(((e,t)=>"".concat(e," ").concat(t)),"");if((null===(v=e.mode)||void 0===v?void 0:v.type)===d.T8.Carousel)return i.createElement(l.Z,{items:w,key:T,krakenEventDetails:(0,h.U)({adPlacementConfiguration:s,hydraConfigInstanceId:p,timelineObject:this.props.postContext.post})});var x=S.map((e=>k((0,d.I3)(e.props.block)))).sort(((e,t)=>e-t))[0],N=!1,I=w.map((e=>{var t,n;if(!y(e))return e;var r=e.props.block,s=new m.Z((0,d.I3)(r));null!==(t=null==a||null===(n=a.presentationStyle)||void 0===n?void 0:n.showsSmallImagesAtOriginalWidth)&&void 0!==t&&!t||1!==w.length?s.generateDisplayHeights((e=>{var t=e.width;return x*t})):s.getLargestImage().width<g.smallImagePostBreakpoint&&!r.attribution&&(N=!0);var l={displayAtOriginalSize:N,block:o()(o()({},r),{},{media:s.getImagesArray(),imageScale:1/w.length})};return i.cloneElement(e,l)}));return i.createElement("div",{className:(0,u.Z)({[b]:!0,[f]:N}),key:T},I)})))}rowHasPaywallComponent(){return this.props.components.some((e=>e.props.block.type===d.kH.Paywall))}}const C=(0,p.X9)(E,{postContext:!0,adContext:!0});function y(e){var t,n;return(null==e||null===(t=e.props)||void 0===t||null===(n=t.block)||void 0===n?void 0:n.type)===d.kH.Image}function w(e){return function(e){var t,n=[];return null===(t=e.display)||void 0===t||t.forEach((e=>{e.mode&&e.mode.type!==d.T8.Weighted&&e.mode.type!==d.T8.Carousel?e.blocks.forEach((e=>{n.push({blocks:[e]})})):n.push(e)})),o()(o()({},e),{},{display:n})}((0,d.Ps)(e)?function(e){var t=o()(o()({},e),{},{display:e.rows.map((e=>({blocks:e})))});return delete t.rows,t}(o()(o()({},e),{},{rows:e.rows})):o()({},e))}function k(e){var t=new m.Z(e).getLargestImage();return t.height/t.width}},14782:(e,t,n)=>{"use strict";n.d(t,{Vn:()=>s,bo:()=>l,ZP:()=>c});var a=n(95004),o=n(18485),r=n(78315),s=(e,t,n)=>(0,o.Z)((0,r.fO)(e,n),{sort:t}),i=(0,a.createContext)(s),l=()=>(0,a.useContext)(i);const c=i},47807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(95004),o=n(4777),r=n(69470),s=n(35811),i=n(2540),l=n(92530),c=n(54016),d=n(14782);const u={paletteA:"d5ZGt",paletteB:"wwuCA",paletteC:"QrTcz",paletteD:"EfzaS",paletteE:"iK3aH",paletteF:"Si0tX",paletteG:"ZNg35",paletteH:"Jmqr5",paletteI:"gpqeU",paletteJ:"I9Jxt"};var p=[{id:"paletteA",tags:["lgbt","lgbt+","lgbtq","lgbtq+","lgbtqia","lgbtqia+","queer"]},{id:"paletteB",tags:["transgender","trans"]},{id:"paletteC",tags:["bisexual","bisexuality"]},{id:"paletteD",tags:["nonbinary","nb","enby"]},{id:"paletteE",tags:["asexual","ace","asexuality"]},{id:"paletteF",tags:["lesbian"]},{id:"paletteG",tags:["intersex","intersexuality"]},{id:"paletteH",tags:["pansexual","pan","pansexuality"]},{id:"paletteI",tags:["aromantic","aro"]},{id:"paletteJ",tags:["gay"]}],m=e=>e.map((e=>"".concat(e," pride")));const h=function(e){var t,n,h,g,v=e.tagName,b=e.className,f=e.children,E=e.toOverride,C=e.onClick,y=(0,o.TH)(),w=(0,d.bo)(),k=(0,i.bp)(),P=k.colorizedTags,S=k.features.tagUrlCleanup,T=(0,c.b)(y.search),x=T.sort&&Object.values(s.f8).includes(T.sort)?T.sort:void 0,N=E?(0===(null==(t=E)?void 0:t.indexOf(l.Cw))?t.slice(l.Cw.length):null)||E:w(v,x,S),I=f||(P?(n=v,h=m,g=p.find((e=>{var t=e.tags;return(h?[...t,...h(t)]:t).includes(n.toLowerCase())})),g?a.createElement("span",{className:u[g.id],"data-testid":"colorized-tag"},"#".concat(n)):a.createElement(a.Fragment,null,"#".concat(n))):"#".concat(v));return a.createElement(r.Z,{"data-testid":"tag-link",className:b,to:N,onClick:C},I)}},42516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var a=n(85313),o=n.n(a),r=n(95004),s=n(54640),i=n(57597),l=n(4869),c=n(79793),d=n(18174),u=n(467),p=n(35988),m=n(18269),h=n(61719),g=n(50951),v=n(18307),b=n(64018),f=n(21308),E=n(2978),C=n(29694),y=n(76155),w=n(51742),k=n(469),P=n(2540),S=n(76230),T=n(82450),x=n(22320),N=n(8),I=n(62513),R=n.n(I),M=n(44772);const A={header:"BjErQ",dogEar:"jk63e",dogEarLink:"c7hPc",avatar:"RYkKH",sponsoredSubHeading:"rGP1C",narrowSponsoredSubHeading:"Euban",timestamp:"j8f9p",headerContent:"q4Pce",headerSponsored:"CsjTP",headerHasInlineAvatar:"J_Wh8",hidesPosterBlogname:"xjVqt",leftContent:"ZJdm4",leftContentMain:"ffqNn",leftContentSecondary:"pVS0A",innerText:"rJe2J",attribution:"WJ6ij",postAttribution:"vGkyT",reblogAttribution:"jOhmG",rebloggedFromName:"eLzSX",leftContentMainStacked:"nQmSU",followButton:"rmjNp",private:"ps_dU",lock:"rFnRs",rightContent:"KFWnx"};const B=function(e){var t,n,a,I,B,Z,L,O,D,F,_,H=e.postAttribution,U=e.reblogAttribution,z=e.showsFollowButton,V=e.showsSponsored,W=e.ctaButtonOptions,G=e.presentationStyle,q=void 0===G?{}:G,j=e.isAd,K=e.isInboxAsk,Q=void 0!==K&&K,J=e.showAsAnonymous,Y=void 0!==J&&J,X=e.isFollowingPoster,$=e.isFollowingReblogger,ee=e.dismissal,te=e.date,ne=e.postState,ae=e.isNonInteractive,oe=e.placementId,re=e.earnedId,se=e.isPaywalled,ie=e.editablePost,le=(0,P.bp)(),ce=le._t,de=le._c,ue=le._getRelativeDateString,pe=le.features,me=pe.paywallConsumption,he=pe.timestampsEverywhere,ge=pe.tspUiUpdate,ve=le.timestamps,be=(0,S.uu)(),fe=be.isNarrow,Ee=void 0!==fe&&fe,Ce=(0,k.b)(),ye=Ce.hydraConfigInstanceId,we=Ce.adPlacementConfiguration,ke=q.avatarDimension,Pe=q.hasOutline,Se=q.reblogIconSize,Te=q.showsAvatarInline,xe=q.showsDogEar,Ne=q.showsEditButton,Ie=q.showsDeleteButton,Re=q.showsPosterAvatar,Me=q.showsPostingBlogName,Ae=q.stacksReblogAttribution,Be=q.usesInboxAttribution,Ze=Me||V,Le=Re||V,Oe=be!==S.Nw,De=Oe&&(null==be||null===(t=be.post)||void 0===t?void 0:t.canEdit)&&Ne,Fe=Oe&&(null==be||null===(n=be.post)||void 0===n?void 0:n.canDelete)&&Ie,_e=Oe?null==be||null===(a=be.post)||void 0===a?void 0:a.trail:void 0,He=Oe?(0,T.U)({hydraConfigInstanceId:ye,adPlacementConfiguration:we,timelineObject:null==be?void 0:be.post}):{},Ue=U&&z&&r.createElement("div",{className:A.followButton},r.createElement(c.Z,{blogName:U.blogName,blogUrl:U.blogName,following:!!$,isPostHeader:!0,placementId:oe,earnedId:re})),ze=(0,w.Z)({[A.headerContent]:!0,[A.hidesPosterBlogname]:!Ze}),Ve=Y?ce("Anonymous"):(null==H||null===(I=H.blog)||void 0===I?void 0:I.advertiserName)||(null==H||null===(B=H.blog)||void 0===B?void 0:B.name),We=U&&H?ce("%1$s reblogged a post from %2$s",H.blog.name,U.blogName):Ve?ce("Posted by %1$s",Ve):void 0,Ge=V&&r.createElement(h.Z,{showSpinner:!ge,showSponsoredText:!0});if(j)return r.createElement("header",{role:"banner",className:A.header,"aria-label":We},r.createElement("div",{className:ze},Ge));var qe,je=U&&r.createElement("div",{className:A.reblogAttribution},r.createElement(p.Z,{size:Se,isCompact:!0}),r.createElement("div",{className:A.rebloggedFromName},r.createElement(i.Z,{blogName:U.blogName,postId:U.postId,href:U.permalinkUrl,placementId:oe,krakenEventName:E.JE.Posts},U.blogName)),Ue),Ke=!Y&&null!=H&&H.permalinkUrl&&H.blog.url&&!H.blog.advertiserName?r.createElement(i.Z,{blogName:H.blog.name,href:H.permalinkUrl,blog:H.blog,placementId:oe,krakenEventName:E.JE.Posts,krakenEventDetails:He},Ve):r.createElement("span",null,Ve),Qe=r.createElement("span",{className:A.innerText});if(null!=H&&H.recipientName||null==H||!H.isSubmission)if(null!=H&&H.recipientName){var Je=r.createElement(i.Z,{blogName:H.recipientName,placementId:oe,krakenEventName:E.JE.Posts},H.recipientName);qe=H.isSubmission?r.createElement(b.ZP,{comment:"Displayed when a blog has submitted a post to a secondary blog",components:{senderBlogLink:Ke,innerElement:Qe,recipientBlogLink:Je}},"[senderBlogLink/] [innerElement]submitted to[/innerElement] [recipientBlogLink/]:"):r.createElement(b.ZP,{comment:"Displayed when a blog has sent a message to a secondary blog",components:{senderBlogLink:Ke,innerElement:Qe,recipientBlogLink:Je}},"[senderBlogLink/] [innerElement]said to[/innerElement] [recipientBlogLink/]:")}else qe=Ke;else qe=r.createElement(b.ZP,{comment:"Displayed when a blog has submitted a post to a primary blog",components:{senderBlogLink:Ke,innerElement:Qe}},"[senderBlogLink/] [innerElement]submitted[/innerElement]:");var Ye=ne===y.hA.Private&&r.createElement("div",{className:A.private},r.createElement("div",{className:A.lock},r.createElement(d.Z,{size:Se,fill:R().paletteGray65})),ce("Private")),Xe=ne!==y.hA.Private&&(Ze||je)&&r.createElement("div",{className:A.attribution},Ze&&r.createElement("div",{className:(0,w.Z)({[A.postAttribution]:!0,[A.inboxAttribution]:Be})},qe),je),$e=H&&z&&!Ue&&Ze&&r.createElement(c.Z,{blogName:H.blog.name,blogUrl:H.blog.url,following:!!X,className:A.followButton,isPostHeader:!0,placementId:oe,earnedId:re}),et=he&&ve&&te&&!V,tt=r.createElement("div",{className:A.leftContent},Ye||Xe||$e?r.createElement("div",{className:(0,w.Z)({[A.leftContentMain]:!0,[A.leftContentMainStacked]:Ae&&!!U})},Ye,Xe,$e):null,r.createElement("div",{className:A.leftContentSecondary},et&&r.createElement(v.Z,{className:A.timestamp,date:te}),ge&&V&&r.createElement("div",{className:(0,w.Z)({[A.sponsoredSubHeading]:!Ee,[A.narrowSponsoredSubHeading]:Ee})},ce("Sponsored")))),nt=!(null==W||!W.text)&&!(null==W||!W.urls.web)&&r.createElement("span",{className:A.ctaContainer},r.createElement(M.Z,{ctaText:W.text,clickUrl:W.urls.web,color:W.textColor,backgroundColor:W.backgroundColor,placementId:oe})),at=me&&(null==H||null===(Z=H.blog)||void 0===Z?void 0:Z.paywallAccess)&&(null==H||null===(L=H.blog)||void 0===L?void 0:L.paywallAccess)===C.bv.Member&&se&&r.createElement(g.Z,{color:R().paletteWhite,backgroundColor:R().paletteGreen,size:20}),ot=me&&(null==H||null===(O=H.blog)||void 0===O?void 0:O.paywallAccess)&&(null==H||null===(D=H.blog)||void 0===D?void 0:D.paywallAccess)!==C.bv.Member&&se&&r.createElement("span",{className:A.lockIcon,"aria-label":de("Indicates that the post has paywalled content that the user doesn't have access to, as they are not a subscriber.","For supporters")},r.createElement(u.Z,{fill:R().paletteGray65,size:{width:20,height:20}})),rt=!ae&&H&&r.createElement("div",{className:A.rightContent},Ge,nt,!Ge&&r.createElement(r.Fragment,null,at,ot,r.createElement("span",{className:A.postMeatballsContainer},r.createElement(m.Z,{dismissal:ee,postUrl:H.permalinkUrl,isPostPublishedOrPrivate:!!ne&&[y.hA.Published,y.hA.Private].includes(ne),blogName:H.blog.name,blogUrl:H.blog.url,blogUuid:H.blog.uuid,followed:X,date:te,placementId:oe,renderPin:Ne,currentTumblelog:Oe&&Q?null==be||null===(F=be.post)||void 0===F?void 0:F.blogName:void 0,canDelete:Fe,canEdit:De,editablePost:ie,trail:_e,shouldOpenInLegacy:Oe&&(null==be||null===(_=be.post)||void 0===_?void 0:_.shouldOpenInLegacy)})))),st=H&&(Le&&Te||ne===y.hA.Queued)&&r.createElement("div",{className:A.avatar},r.createElement(s.Z,{isAnonymous:Y,imageResponse:H.blog.avatar,dimension:ne===y.hA.Queued?x.Z.mobile.avatarDimension:ke,name:H.blog.name,url:H.blog.url,isAdult:H.blog.isAdult,blog:H.blog,isLink:!ae,showBlogCard:!ae,placementId:oe,eventName:E.JE.Avatar,eventDetails:He}));return r.createElement("header",{role:"banner",className:(0,w.Z)({[A.header]:!0,[A.isReblog]:!(!Ae||!U)}),"aria-label":We},st,r.createElement("div",{className:(0,w.Z)({[ze]:!0,[A.headerSponsored]:!!Ge||!!nt,[A.headerHasInlineAvatar]:!!st})},tt,rt),r.createElement(l.S,null,(e=>(e=>{if(!xe)return null;var t={className:A.dogEar,tabIndex:-1};if(e){var n=e.backgroundColor;t.style=o()({borderTopColor:n,borderRightColor:n},Pe&&{boxShadow:"2px 0px 0px ".concat(n,", 0px -2px 0px ").concat(n)})}return r.createElement(N.Z,null,r.createElement("a",{href:null==H?void 0:H.permalinkUrl,role:"button",target:"_blank",className:A.dogEarLink,"aria-label":ce("Permalink"),title:te&&de("Hover text showing a timestamp. %1$s is a simplified timestamp","View post - %1$s",ue(te,f.qC.Simple))},r.createElement("div",t)))})(e))))}},67357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(95004),o=n(18602),r=n(51742);const s="tTuoj",i="YZmYT",l="HhK9l",c="flnbG";const d=function(e){var t=e.media,n=e.blurImageBackground,d=void 0!==n&&n;return a.createElement("figure",{className:(0,r.Z)({[s]:!0,[i]:d})},d&&a.createElement(o.fV,{isSquare:!0,imageResponse:t,placeholderClassName:l}),a.createElement(o.fV,{isSquare:!0,imageResponse:t,placeholderClassName:c}))}},85584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(76155);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=null;if(e.length?o=e[0].content:t.length&&(o=t),o&&0!==o.length){if(n)return o.find(a.RD);var r=o[0];if(!(0,a.dz)(r))return r;for(var s=[],i=Math.min(o.length,6),l=0;l<i;l+=1){var c=o[l];if(!(0,a.dz)(c))break;s.push(c)}return s}}},4003:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K,o:()=>j});var a=n(95004),o=n(57597),r=n(21308),s=n(76155),i=n(51742),l=n(2540),c=n(13700),d=n(22909),u=n(64018),p=n(62513),m=n.n(p),h=n(94966);const g="Ww2p5",v="uYhS1",b="moamz",f="nIHSC",E="Iu4it",C="B8Ii1",y="xoXHj";const w=function(e){var t=e.poster,n=e.title,o=e.artist,r=n||a.createElement(u.ZP,null,"Listen");return a.createElement("div",{className:g},!(null==t||!t.length)&&a.createElement(d.Z,{className:v,imageResponse:t,sizes:"".concat(h.archivePostWidth,"px")}),a.createElement("div",{className:b},a.createElement("em",{className:f},a.createElement(c.Z,{withCircle:!1,fill:m().paletteWhite})),a.createElement("div",{className:E},a.createElement("p",{className:C},r),o&&a.createElement("p",{className:y},o))))},k="bFFz5";const P=function(){return a.createElement("div",{className:k})};var S=n(67357);const T="NVqwW",x="K1HFB",N="C7Tzq",I="DZjQj";const R=function(e){var t=e.url,n=e.poster,o=e.description,r=e.title||o,s=new URL(t).host.replace(/^www\./i,"");return a.createElement("div",{className:T},!(null==n||!n.length)&&a.createElement(d.Z,{imageResponse:n,sizes:"".concat(h.archivePostWidth,"px"),style:{width:"100%",height:"100%",objectFit:"cover"}}),a.createElement("div",{className:x},r&&a.createElement("p",{className:N},r),a.createElement("p",{className:I},s)))};var M=n(43206);const A="sjZlZ";const B=function(e){var t=e.blocks;return a.createElement("div",{className:A},t.map(((e,t)=>a.createElement(M.ZP,{block:e,variant:s.LY.Micro,key:"".concat(e.text,"-").concat(t)}))))},Z="II1QX",L="PzjDc";const O=function(e){var t=e.poster;return a.createElement("div",{className:Z},a.createElement("em",{className:L},a.createElement(c.Z,null)),!(null==t||!t.length)&&a.createElement(d.Z,{imageResponse:t,sizes:"".concat(h.archivePostWidth,"px"),style:{width:"100%",height:"100%",objectFit:"cover"}}))};var D=n(85584);const F="HEmvO",_="oKaff",H="valeh",U="aLQ_T",z="FvYBx",V="QmZ0e",W="AdXnC",G="d1luu",q="mdQQI";var j=e=>{var t=e.type,n=e.trail,o=void 0===n?[]:n,r=e.content,i=e.prioritizeImageBlocks,l=void 0!==i&&i,c=e.blurImageBackground,d=void 0!==c&&c;if(t!==s.SB)return a.createElement(P,null);var u=(0,D.Z)(o,r,l);if(!u)return a.createElement(P,null);if(Array.isArray(u))return a.createElement(B,{blocks:u});var p=u;return(0,s.RD)(p)?a.createElement(S.Z,{media:p.media,blurImageBackground:d}):(0,s.R0)(p)?a.createElement(R,{url:p.url,poster:p.poster,description:p.description,title:p.title}):(0,s.gD)(p)?a.createElement(O,{poster:p.poster}):(0,s._P)(p)?a.createElement(w,{poster:p.poster,title:p.title,artist:p.artist}):a.createElement(P,null)};const K=function(e){var t=e.timelineObject,n=t.content,s=t.trail,c=t.postUrl,d=t.date,u=t.noteCount,p=t.tags,m=t.type,h=t.filtered,g=t.blogName,v=t.id,b=t.blog,f=e.tabIndex,E=e.className,C=e.prioritizeImageBlocks,y=e.showHover,w=void 0===y||y,k=e.openInPeepr,P=void 0!==k&&k,S=e.blurImageBackground,T=void 0!==S&&S,x=(0,l.bp)(),N=x._n,I=x._getLocaleDateString,R=x._c,M=d&&I(d,r.Cx.Notes),A=j({type:m,trail:s,content:n,prioritizeImageBlocks:C,blurImageBackground:T}),B=(0,i.Z)([F,E]),Z=w&&a.createElement(a.Fragment,null,a.createElement("div",{className:W},a.createElement("h1",{className:q},M),N("%1$s note","%1$s notes",u)),a.createElement("div",{className:G},null==p?void 0:p.map((e=>"#".concat(e))).join(" "))),L=P?a.createElement(o.Z,{blogName:g,postId:v,href:c,className:(0,i.Z)({[_]:!0,[V]:w}),tabIndex:f,showBlogCard:!1,blog:b},Z):a.createElement("a",{href:c,className:(0,i.Z)({[_]:!0,[V]:w}),target:"_blank",tabIndex:f},Z);return h?a.createElement("div",{className:B,tabIndex:f},a.createElement("div",{className:"".concat(H," ").concat(U)},a.createElement("div",{className:z},R("A message shown on a post with filtered tags that explains to the user why it is hidden","This post contains filtered tags."))),L):a.createElement("div",{className:B,tabIndex:f},a.createElement("div",{className:H},A),L)}},30770:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var a=n(85313),o=n.n(a),r=n(95004),s=n(89261),i=n(54640),l=n(36456),c=n(57597),d=n(79793),u=n(467),p=n(18307),m=n(29694),h=n(2540),g=n(62513),v=n.n(g),b=n(94966);const f={reblog:"u2tXn",reblogHeader:"fAAi8",label:"zSfnO",leftContent:"QkCNg",username:"lBFTL",userInfo:"GdjMk",followButton:"a6sXh",attribution:"sqHC2"};var E=function(e){var t,n,a,s,g=e.avatarConfiguration,E=e.labelConfiguration,C=e.followButtonConfiguration,y=e.children,w=e.parentPlacementId,k=e.parentEarnedId,P=e.isContributedContent,S=(0,h.bp)(),T=S._c,x=S.features,N=x.paywallConsumption,I=x.timestampsEverywhere,R=S.timestamps,M=I&&R&&!!E.postTimestamp&&!k,A=null;if(g){var B=g.avatarImageResponse,Z=g.clickthrough,L=g.showsReblogIcon,O=g.blogIsAdult,D={imageResponse:B,dimension:M?b.reblogAttributionAvatarWithTimestampSize:b.reblogAttributionAvatarSize,isAdult:O};L&&(D=o()(o()({},D),{},{badge:l.Z.reblog()})),Z&&(D=o()(o()({},D),{},{name:Z.blogName,url:Z.href,blog:E.blog})),A=r.createElement(i.Z,D)}var F=r.createElement("div",{className:f.attribution},(null===(t=E.blog)||void 0===t?void 0:t.advertiserName)||E.text);E.clickthrough&&E.blog&&(F=r.createElement(c.Z,{blogName:E.blog.name,blog:E.blog,postId:E.postId,href:E.clickthrough,title:E.unselectableReason},F));var _=null!=C&&C.canFollowBlog&&E.blog?r.createElement(d.Z,{blogName:null===(n=E.blog)||void 0===n?void 0:n.name,blogUrl:null===(a=E.blog)||void 0===a?void 0:a.url,following:!!C.isFollowingReblogger,isReblogHeader:!0,className:f.followButton,placementId:w,earnedId:k}):null,H=N&&(null===(s=E.blog)||void 0===s?void 0:s.isPaywallOn)&&(null==E?void 0:E.paywallAccess)!==m.bv.Member&&(null==E?void 0:E.isPaywalled)&&r.createElement("span",{className:f.lockIcon,"aria-label":T("Indicates that the post has paywalled content that the user doesn't have access to, as they are not a subscriber.","For supporters")},r.createElement(u.Z,{fill:v().paletteGray65,size:{width:20,height:20}}));return r.createElement("div",{className:f.reblog,"data-is-contributed-content":P},r.createElement("div",{className:f.reblogHeader},r.createElement("div",{className:f.leftContent},A,r.createElement("div",{className:f.userInfo},r.createElement("div",{className:f.username},r.createElement("div",{className:f.label},F),_),M&&E.postTimestamp&&r.createElement(p.Z,{className:f.timestamp,date:new Date(1e3*E.postTimestamp).toUTCString()}))),r.createElement("div",{className:f.rightContent},H)),r.createElement("div",{className:f.childrenContainer},y))};E.defaultProps={labelConfiguration:null};const C=E;var y=n(76155);const w=e=>{var t=e.trail,n=e.parentPlacementId,a=e.parentEarnedId,i=e.disableFollow;e.isEdit;return r.createElement(r.Fragment,null,null==t?void 0:t.map(((e,t)=>{var l,c,d,u;if((0,y.eb)(e)){var p,m=e.blog,h=m.canBeFollowed,g=!1!==m.active;if(c={text:e.blog.name},g)c=o()(o()({},c),{},{blog:e.blog,postId:e.post.id,postTimestamp:null===(p=e.post)||void 0===p?void 0:p.timestamp,clickthrough:"".concat(e.blog.url,"post/").concat(e.post.id,"/"),isPaywalled:e.post.isPaywalled,paywallAccess:e.post.paywallAccess}),l={avatarImageResponse:e.blog.avatar,blogIsAdult:e.blog.isAdult,clickthrough:{href:e.blog.url,title:e.blog.title,blogName:e.blog.name},showsReblogIcon:0!==t};d=i||e.blog.isBloglessAdvertiser?{canFollowBlog:!1}:{canFollowBlog:g&&h,isFollowingReblogger:e.blog.followed},u=e.post.id}else{var v,b,f;l={showsReblogIcon:0!==t,avatarImageResponse:null===(v=e.brokenBlog)||void 0===v?void 0:v.avatar},c={text:null===(b=e.brokenBlog)||void 0===b?void 0:b.name,blog:void 0},u="".concat(null===(f=e.brokenBlog)||void 0===f?void 0:f.name," ").concat(JSON.stringify(e.content))}return r.createElement(C,{key:u,avatarConfiguration:l,labelConfiguration:c,followButtonConfiguration:d,isContributedContent:e.isContributedContent,parentPlacementId:n,parentEarnedId:a},r.createElement(s.ZP,{blocks:e.content,layouts:e.layout,postingBlog:(0,y.eb)(e)?e.blog:void 0,isOriginalPost:!1,isEdit:!0}))})))}},43073:(e,t,n)=>{"use strict";n.d(t,{Jj:()=>i,ZP:()=>l,q5:()=>c});var a=n(58665),o=n.n(a),r=n(95004),s=(0,r.createContext)({canFastReblog:!1,canFastQueue:!1,canFastReblogDeprecated:!1,fastRebloggedPosts:[],setDefaultFastBlog:o(),getBlogs:()=>[]}),i=(0,r.createContext)({allPosts:[],queuedPosts:[]});const l=s;var c=()=>(0,r.useContext)(s)},75903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var a=n(95394),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(44716),d=n.n(c),u=n(91377),p=n.n(u),m=n(45849),h=n.n(m),g=n(16222),v=n.n(g),b=n(83432),f=n.n(b),E=n(58665),C=n.n(E),y=n(50237),w=n.n(y),k=n(29774),P=n(95004),S=n(94497),T=n.n(S),x=n(56843),N=n(22654),I=n(8965),R=n(64242),M=n(94966),A=n.n(M),B=n(21958);const Z=function(e){var t=e.width,n=e.margins,a=void 0===n?0:n,r=e.maximumNumberOfColumns,s=e.getNumberOfColumns,i=e.masonryProps,l=i.columnWidth,c=i.columnSpacing,d=Math.min(isNaN(Number(r))?100:Number(r),(null==s?void 0:s(t))||Math.floor((t-2*a)/(l+c)));return t?P.createElement(B.Z,o()({},i,{numberOfColumns:d})):null};const L=function(e){var t=e.masonryProps,n=e.masonryRendersWithSidebar,a=e.maximumNumberOfColumns,o=(0,P.useCallback)((e=>P.createElement(Z,{width:e,masonryProps:s()(s()({},t),{},{columnWidth:A().timelineMasonryPostWidth,columnSpacing:A().timelineMasonryPostSpacing,elementSpacing:A().timelineMasonryPostSpacing}),getNumberOfColumns:n?R.e$:R.vk,maximumNumberOfColumns:a})),[t]);return P.createElement(I.u,{breakpoints:n?R.XJ:R.Fe},o)};var O=n(76870),D=n(36371),F=n(62932),_=n(43073),H=n(40310),U=n(2978),z=n(3161),V=n(76155),W=n(52385),G=n(36643),q=n(51742),j=n(12542),K=n(90553),Q=n(67859),J=n.n(Q),Y=n(62300),X=n(60385),$=n(74708),ee=n(93678);class te extends P.Component{constructor(){var e;super(...arguments),e=this,l()(this,"state",{isSorting:!1}),l()(this,"postRefs",this.props.forwardedPostRefs||[]),l()(this,"apiHelper",(0,G.ZP)(this.props.appContext.apiFetch)),l()(this,"getTimelineContextValue",(0,k.Z)((e=>({displayMode:e,onReplyAdded:this.onReplyAdded,onReplyRemoved:this.onReplyRemoved,onLike:this.onLike,onReblogged:this.onReblogged,onFollow:this.onFollow,onNotesUpdate:this.onNotesUpdate,onQueueReorder:this.onQueueReorder,onRemoveTimelineObject:this.onRemoveTimelineObject,onPin:this.onPin,onPromote:this.onPromote,onEditTimelineObject:this.onEdit})))),l()(this,"getLoader",p()((e=>P.createElement("div",{className:X.Z.loader},P.createElement(N.Z,{centerOrientation:N.Q.Horizontal,color:e}))))),l()(this,"getEmptyView",p()((e=>P.createElement("div",{className:(0,q.Z)({[X.Z.noContent]:!0,[X.Z.masonryEmptyView]:e===W.mt.Masonry})},this.props.appContext._c("String to show when there are no posts in a timeline (e.g., no likes on /likes, no results for /tagged/atagnoonehasused).","No posts available."))))),l()(this,"renderTimelineElements",(e=>{var t=e.objects,n=e.refresh,a=e.transformObjects,o=this.props,r=o.displayMode,s=o.isQueue,i=o.maximumNumberOfColumns,l=o.masonryRendersWithSidebar,c=o.setRefreshCallback,d=o.isElementPinnedToMasonryUpperRight;this.transformObjects=a,null==c||c(n);var u=[],p=t.map(((e,t)=>(null!=d&&d(e)&&u.push(t),this.renderElement(e,t))));if(r===W.mt.Masonry)return P.createElement(L,{masonryProps:{pinnedToUpperRightIndexes:u,children:p},maximumNumberOfColumns:i,masonryRendersWithSidebar:l});if(s){var m=P.createElement(_.Jj.Provider,{value:this.getQueueContext(t)},p);return P.createElement(H.ZP,null,(e=>e.isMobile?m:P.createElement(T(),{className:"sortableContainer",options:{animation:150,onStart:this.onQueueSortStart,onEnd:this.onQueueSortEnd,draggable:".".concat(ee.Z.sortDragDropTarget),handle:".".concat($.Z.reorderButton),forceFallback:!0},onChange:C()},m)))}return P.createElement("div",{className:r===W.mt.Grid?X.Z.gridded:null},p)})),l()(this,"renderElement",((e,t)=>{var n=this.props.timelineObjectClassName,a="".concat(e.placementId?"".concat(e.placementId,":"):"").concat(e.id).concat(e.isExpandedInGrid?":expanded":"");return P.createElement(F.ZP,{ref:e=>this.postRefs[t]=e,key:a,className:n,presentationStyle:this.props.overridePresentationStyle,timelineObject:s()({},e),displayMode:this.props.displayMode,toggleExpandedInGrid:this.toggleExpandedInGrid,isInboxTimeline:this.props.isInboxTimeline})})),l()(this,"getManualPaginatorButtonCSS",(()=>{var e=this.props,t=e.displayMode,n=e.manualPaginatorButtonCss,a=t===W.mt.Grid?X.Z.manualPaginatorButtonsGrid:null;return s()(s()({},n&&n),{},{containerClassName:a})})),l()(this,"apiQueueSort",((e,t)=>{var n=e.blogName,a=e.id,o=e.insertAfter,r=e.oldIndex;return n?this.apiHelper.queueReorder(n,a,o).fetch().catch((()=>t(a,r))):(t(a,r),Promise.reject())})),l()(this,"onQueueSortStart",(()=>{this.setState({isSorting:!0})})),l()(this,"onQueueSortEnd",(e=>{this.setState({isSorting:!1});var t=this.getSortParameters(e);this.onQueueReorder(t.id,t.newIndex),this.apiQueueSort(s()({},t),this.onQueueReorder)})),l()(this,"onNoteStatusUpdated",((e,t)=>{this.transformObjects((n=>n.map((n=>{if(!(0,W.xT)(n)||n.id!==e)return n;var a=t(n);return this.maybeUpdateDockedPost(a),a}))))})),l()(this,"onReplyAdded",(e=>this.onNoteStatusUpdated(e,(e=>(0,Y.Js)(e))))),l()(this,"onReplyRemoved",(e=>this.onNoteStatusUpdated(e,(e=>(0,Y.RN)(e))))),l()(this,"onReblogged",(e=>this.onNoteStatusUpdated(e,(e=>(0,Y.ql)(e))))),l()(this,"onLike",((e,t)=>this.onNoteStatusUpdated(e,(e=>(0,Y.bX)(e,t))))),l()(this,"onNotesUpdate",((e,t)=>this.onNoteStatusUpdated(e,(e=>(0,Y.Pl)(e,t))))),l()(this,"onEdit",(e=>{this.transformObjects((t=>t.map((t=>(0,W.xT)(t)&&t.id===e.id?e:t))))})),l()(this,"onPin",((e,t)=>{this.transformObjects((n=>n.map((n=>(0,W.xT)(n)?n.id!==e?t&&n.isPinned?s()(s()({},n),{},{isPinned:!1}):n:s()(s()({},n),{},{isPinned:t}):n))))})),l()(this,"onFollow",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.transformObjects((a=>a.map((a=>{if((0,W.xT)(a)){var o=(0,Y.dQ)(a,t,n);return e.maybeUpdateDockedPost(o),o}return a}))))})),l()(this,"onPromote",((e,t)=>{this.transformObjects((n=>n.map((n=>{if((0,W.xT)(n)&&n.id===e){var a=(0,Y.ST)(n,t);return this.maybeUpdateDockedPost(a),a}return n}))))})),l()(this,"onQueueReorder",((e,t)=>{this.transformObjects((n=>{var a=n.find((t=>t.id===e));if(void 0===a)return n;var o=f()(n,(e=>V.hA.Queued===e.state&&V.SH.Scheduled===e.queuedState)),r=f()(n,(e=>V.hA.Queued===e.state&&V.SH.Queued===e.queuedState)),s=r.map(((e,t)=>e.scheduledPublishTime)),i=r.indexOf(a),l=[...r];return l.splice(t,0,l.splice(i,1)[0]),v()([...o,...l.map(((e,t)=>(e.scheduledPublishTime=s[t],e)))],(e=>e.scheduledPublishTime))}))})),l()(this,"onRemoveTimelineObject",(e=>{var t,n,a,o,r=e.id,s=e.wasBlogUnfollowed,i=this.props,l=i.isQueue,c=i.displayMode,d=i.doesNotRemoveUnfollowedObjects,u=i.postCountContext.refreshCounts;if(d&&s)return C();if(c===W.mt.Grid){var p=(0,F.l9)();this.toggleExpandedInGrid({id:r,hasExpandedVersionBelowIt:!0},p)}this.transformObjects((e=>{n=[...e];var s=e.find((e=>e.id===r));if(void 0===s)return e;if(t=e.indexOf(s),o=(0,W.xT)(s),(a=[...e]).splice(t,1),o&&l&&s.state===V.hA.Queued&&s.queuedState===V.SH.Queued){var i=f()(e,(e=>e.state===V.hA.Queued&&e.queuedState===V.SH.Queued)).map(((e,t)=>e.scheduledPublishTime)),c=f()(a,(e=>e.state===V.hA.Queued&&e.queuedState===V.SH.Scheduled)),d=f()(a,(e=>e.state===V.hA.Queued&&e.queuedState===V.SH.Queued));a=v()([...c,...d.map(((e,t)=>(e.scheduledPublishTime=i[t],e)))],(e=>e.scheduledPublishTime))}return e[t].animateOut=!0,e}));return setTimeout((()=>{this.transformObjects((e=>a)),u(),this.postRefs.pop()}),J().postSlideOutDurationInMs),()=>this.transformObjects((()=>n))})),l()(this,"toggleExpandedInGrid",((e,t)=>{this.props.displayMode===W.mt.Grid&&this.transformObjects((n=>{var a=n.findIndex((t=>t.id===e.id));if(-1===a)return n;for(var o=0,r=0;r<n.length&&!(r>=a);r+=1){n[r].isExpandedInGrid&&(o+=1)}for(var i=t-(a+o*(t-1))%t,l=a+i,c=a-(t-i);c<l;c+=1){var d=s()({},n[c]);delete d.hasExpandedVersionBelowIt,n[c]=d}var u=n[l]&&n[l].isExpandedInGrid?l+1:l;if(e.hasExpandedVersionBelowIt)return[...n.slice(0,l),...n.slice(u,n.length)];var p=s()(s()({},w()(e)),{},{isExpandedInGrid:!0}),m=[...n.slice(0,l),p,...n.slice(u,n.length)];return m[a]=s()(s()({},m[a]),{},{hasExpandedVersionBelowIt:!0}),m}))})),l()(this,"getPostRefs",(()=>this.postRefs))}componentDidMount(){var e,t;null===(e=(t=this.props.dockableContext).setTimelineContext)||void 0===e||e.call(t,this.getTimelineContextValue(this.props.displayMode))}componentDidUpdate(e){if(e.displayMode!==this.props.displayMode){var t={[W.mt.Grid]:U.JE.TimelineDisplayModeToggleGrid,[W.mt.List]:U.JE.TimelineDisplayModeToggleList,[W.mt.Masonry]:U.JE.TimelineDisplayModeToggleMasonry}[this.props.displayMode];this.props.appContext.logEvent({eventName:t})}}render(){var e=this.state.isSorting,t=this.props,n=t.debug,a=t.displayMode,r=t.onPagination,s=t.onPaginationError,i=t.hidesPullToRefresh,l=t.getNextLink,c=t.endpointApiRequest,u=t.getInitialPage,p=t.isObjectOmittedFromRender,m=t.getObjectsFromResponse,h=t.knightRiderLoaderColor,g=t.scrollContainer,v=t.emptyView,b=t.errorView,f=t.isQueue,E=t.prevButtonIsRefresh,C=t.getPrevLink,y=t.updateUrlFromCurrentPageLink,w=t.appContext.endlessScrollingDisabled,k={debug:n,endpointApiRequest:c,scrollContainer:g,errorView:b,onPagination:r,onPaginationError:s,getNextLink:l,getInitialPage:u,getObjectsFromResponse:m,isObjectOmittedFromRender:p,updateUrlFromCurrentPageLink:y,loader:this.getLoader(h),pullToRefresh:!i,lockScrollOnObjectUpdate:f,emptyView:v||this.getEmptyView(a),children:this.renderTimelineElements};return P.createElement(j.k.Provider,{value:this.getTimelineContextValue(this.props.displayMode)},P.createElement("div",{className:(0,q.Z)({[X.Z.timeline]:!0,[X.Z.isSorting]:e,[X.Z.masonry]:a===W.mt.Masonry})},P.createElement(x.Z,{disabled:d()([W.mt.Grid,W.mt.Masonry],a),scrollContainer:g&&(0,z.Re)(g)?g:void 0,getPostRefs:this.getPostRefs},w?P.createElement(D.ZP,o()({},k,{getPrevLink:C,prevButtonIsRefresh:E,manualPaginatorButtonCss:this.getManualPaginatorButtonCSS()})):P.createElement(O.ZP,o()({},k,{fetchDistance:1600})))))}getQueueContext(e){return{allPosts:e.map((e=>e.id)),queuedPosts:f()(e,(e=>V.hA.Queued===e.state&&V.SH.Queued===e.queuedState)).map((e=>e.id))}}getSortParameters(e){var t,n=e.item.dataset.id,a=0,o=-1,r=-1;return this.transformObjects((s=>{var i=f()(s,(e=>V.hA.Queued===e.state&&V.SH.Queued===e.queuedState)).map((e=>e.id)),l=s.find((e=>e.id===n));return t=null==l?void 0:l.blogName,r=h()(i,(t=>s[e.oldIndex].id===t)),o=h()(i,(t=>s[e.newIndex].id===t)),a=s[e.newIndex-1]&&s[e.newIndex-1].id||0,s})),{blogName:t,id:n,insertAfter:a,oldIndex:r,newIndex:o}}maybeUpdateDockedPost(e){var t=this.props.dockableContext,n=t.isMediaDocked,a=t.dockedTimelineObject,o=t.setDockedTimelineObject;n&&e.id===(null==a?void 0:a.id)&&o(e)}}l()(te,"defaultProps",{hidesPullToRefresh:!1,displayMode:W.mt.List,errorView:null,getNextLink:e=>{var t,n,a;return null==e||null===(t=e.response)||void 0===t||null===(n=t.timeline)||void 0===n||null===(a=n.links)||void 0===a?void 0:a.next}});var ne=(0,K.X9)(te,{appContext:!0,postCountContext:!0,dockableContext:!0});class ae extends P.Component{render(){return P.createElement(ne,this.props)}}l()(ae,"defaultProps",te.defaultProps);const oe=ae},62300:(e,t,n)=>{"use strict";n.d(t,{dQ:()=>s,Pl:()=>i,ST:()=>l,bX:()=>c,Js:()=>d,RN:()=>u,ql:()=>p});var a=n(85313),o=n.n(a),r=n(76155),s=(e,t,n)=>{var a=o()({},e);return a.rebloggedFromName===t&&(a.rebloggedFromFollowing=n),a.blog&&a.blog.name===t&&(a.followed=n,a.blog.followed=n),a.trail=a.trail.map((e=>(0,r.eb)(e)&&e.blog.name===t?o()(o()({},e),{},{blog:o()(o()({},e.blog),{},{followed:n})}):e)),a},i=(e,t)=>{var n=t.totalNotes,a=t.totalLikes,r=t.totalReplies,s=t.totalReblogs;return o()(o()(o()(o()(o()({},e),r&&{replyCount:Math.max(0,r)}),s&&{reblogCount:Math.max(0,s)}),a&&{likeCount:Math.max(0,a)}),n&&{noteCount:Math.max(0,n)})},l=(e,t)=>o()(o()({},e),{},{isPromoted:t}),c=(e,t)=>{var n=t?1:-1;return o()(o()({},e),{},{noteCount:Math.max(0,e.noteCount+n),likeCount:Math.max(0,e.likeCount+n),liked:t})},d=e=>o()(o()({},e),{},{noteCount:Math.max(0,e.noteCount+1),replyCount:Math.max(0,e.replyCount+1)}),u=e=>o()(o()({},e),{},{noteCount:Math.max(0,e.noteCount-1),replyCount:Math.max(0,e.replyCount-1)}),p=e=>o()(o()({},e),{},{noteCount:Math.max(0,e.noteCount+1),reblogCount:Math.max(0,e.reblogCount+1)})},18307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(95004),o=n(21308),r=n(51742),s=n(2540),i=n(82951);const l="M_e0U";const c=function(e){var t=e.date,n=e.className,c=e.dateFormat,d=void 0===c?o.qC.Automatic:c,u=(0,s.bp)(),p=u._c,m=u._getRelativeDateString,h=u._getLocaleDateString,g=u.timeZone,v=h(t,o.Cx.Notes,!0),b=h(t,o.Cx.Time,!0),f=(0,i.Z)(t).toISOString();return a.createElement("time",{className:(0,r.Z)([l,n]),dateTime:f,title:p('Tooltip text that shows when this post was posted. First variable is the date ("Aug 26, 2021"), second variable is the time ("5:20 PM").',"Posted %1$s - %2$s",v,b)},m(t,d,void 0,g))}},71974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(85313),o=n.n(a),r=n(95004),s=n(81059),i=n(80630),l=(0,i.qv)(r.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19"},r.createElement("path",{d:"M0 4.75h4.75V0H1.007A1 1 0 0 0 0 1.007V4.75zm7.125 0h4.75V0h-4.75v4.75zm7.125 0H19V1.007A1 1 0 0 0 17.993 0H14.25v4.75zM0 11.875h4.75v-4.75H0v4.75zm7.125 0h4.75v-4.75h-4.75v4.75zm7.125 0H19v-4.75h-4.75v4.75zM0 17.993A1 1 0 0 0 1.007 19H4.75v-4.75H0v3.743zM7.125 19h4.75v-4.75h-4.75V19zm7.125 0h3.743A1 1 0 0 0 19 17.993V14.25h-4.75V19z"})));l.defaultProps={size:{width:19,height:19}};const c=l;var d=(0,i.qv)(r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement("rect",{width:"16",height:"4",x:"4",y:"2",rx:"1"}),r.createElement("rect",{width:"16",height:"4",x:"4",y:"18",rx:"1"}),r.createElement("rect",{width:"16",height:"8",x:"4",y:"8",rx:"1"})));d.defaultProps={size:{width:23,height:23}};const u=d;var p=(0,i.qv)(r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement("rect",{width:"8",height:"10",x:"3",y:"3",rx:"1"}),r.createElement("rect",{width:"8",height:"6",x:"13",y:"3",rx:"1"}),r.createElement("rect",{width:"8",height:"10",x:"13",y:"11",rx:"1"}),r.createElement("rect",{width:"8",height:"6",x:"3",y:"15",rx:"1"})));p.defaultProps={size:{width:24,height:24}};const m=p;var h=n(52385),g=n(51742),v=n(2540),b=n(62513),f=n.n(b);const E="u2nmP",C="FSQZ7";const y=function(e){var t=e.viewsShown,n=e.onViewClick,a=e.currentView,i=e.activeButtonClass,l=void 0===i?"":i,d=e.inactiveButtonClass,p=void 0===d?"":d,b=(0,r.useCallback)((e=>{var i=e.displayMode,d=e.label,v=i===a,b=i===h.mt.Grid?c:i===h.mt.Masonry?m:u;return t.includes(i)&&r.createElement(s.Z,{key:i,onClick:()=>n(i),label:d,wrapperClassName:(0,g.Z)(o()(o()({[C]:!0},v&&l&&{[l]:!0}),!v&&p&&{[p]:!0}))},r.createElement(b,{fill:v?f().paletteWhiteOnDark:f().paletteTransparentWhite65}))}),[t,n,a,l,p]),y=(0,v.bp)()._t,w=y("View in grid"),k=y("View in list"),P=y("View in masonry");return r.createElement("div",{className:E},[{displayMode:h.mt.Grid,label:w},{displayMode:h.mt.Masonry,label:P},{displayMode:h.mt.List,label:k}].map(b))}},71358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(92969),o=n.n(a),r=n(58665),s=n.n(r),i=n(95004),l=n(33667),c=n(51742),d=n(62513);const u={toggle:"Bs6U3",small:"KDgcr",switch:"xmMz6",slider:"UZrDG",checked:"U_rPn",medium:"Ld5wO",large:"gcGa_",disabled:"RHCmM",toggleDark:"ZihFC"};class p extends i.PureComponent{constructor(){super(...arguments),o()(this,"state",{checked:!!this.props.checked}),o()(this,"stopEventPropagation",(e=>{e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())})),o()(this,"toggle",(e=>{this.props.controlled||this.setState((e=>({checked:!e.checked}))),this.props.onChange(e)}))}render(){var e=this.props.controlled?this.props.checked:this.state.checked,t=this.props,n=t.name,a=t.color,o=t.className,r=t.size,s=t.disabled,l=t.darkKnob,d=t.labelledBy,p=t.id,m=e?{backgroundColor:a}:void 0;return i.createElement("div",{className:(0,c.Z)([u.toggle,o,u[r]])},i.createElement("label",{className:u.switch},i.createElement("input",{type:"checkbox","aria-checked":e,onChange:this.toggle,onClick:this.stopEventPropagation,disabled:s,checked:e,name:n,"aria-labelledby":d,id:p,"data-testid":this.props["data-testid"]}),i.createElement("span",{style:m,className:(0,c.Z)({[u.slider]:!0,[u.disabled]:s,[u.checked]:e,[u.toggleDark]:l})})))}}o()(p,"defaultProps",{onChange:s(),checked:!1,disabled:!1,size:l.h.medium,color:d.paletteBlue,darkKnob:!1});const m=p},64018:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,CJ:()=>u,CN:()=>p,M2:()=>m});var a=n(85313),o=n.n(a),r=n(76319),s=n(95132),i=n(19228),l=n(2540),c=(e,t,n,a)=>{var o=e;return t&&Object.keys(t).forEach((e=>{var n=t[e].toString(),r=o;if(o=o.replace(new RegExp("\\[".concat(e,"\\]"),"g"),n),"production"===i.Z.Development&&r===o&&("number"!==e||!a))throw new TypeError("Translation parameter [".concat(e,"] was not present in the format string."))})),(0,r.Z)({components:n,mixedString:o.replace(/\[/g,"{{").replace(/\]/g,"}}"),throwErrors:"production"===i.Z.Development})};const d=e=>{var t=e.children,n=e.comment,a=e.params,o=e.components,r=e.exemptNumberKeyFromParamCheck,s=(0,l.bp)().getText;return c(s(t,n),a,o,r)};var u=()=>null;u.defaultProps={isSingular:!0};var p=()=>null;p.defaultProps={isSingular:!1};var m=e=>{var t=e.children,n=e.number,a=e.comment,r=e.params,i=e.components,d=e.exemptNumberKeyFromParamCheck,u=(0,l.bp)().getPluralText,p=t.filter((e=>e.props.isSingular)),m=t.filter((e=>!1===e.props.isSingular));"production"===s.Z.Development&&(1!==p.length&&console.error("You must provide a <Singular> element as a child of <TranslateWithPlural>. Expected to find one, found ".concat(p.length," instead.")),1!==m.length&&console.error("You must provide a <Plural> element as a child of <TranslateWithPlural>. Expected to find one, found ".concat(m.length," instead.")));var h=p.reduce(((e,t)=>t.props.children),""),g=m.reduce(((e,t)=>t.props.children),"");return c(u(h,g,n,a),o()(o()({},r),{},{number:n}),i,1===n||d)}},69470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(95394),o=n.n(a),r=n(43893),s=n.n(r),i=n(86057),l=n.n(i),c=n(95004),d=n(4777),u=n(59319),p=n(9898),m=["to"];const h=e=>{var t=e.to,n=l()(e,m),a=(0,c.useContext)(p.M),r=(0,d.TH)(),i=r.pathname,h=r.search,g=r.hash,v=t.split("?"),b=s()(v,2),f=b[0],E=b[1],C=(void 0===E?"":E).split("#"),y=s()(C,2),w=y[0],k=y[1],P=void 0===k?"":k;w&&(w="?".concat(w)),P&&(P="#".concat(P));return f===i&&w===h&&P===g?c.createElement("a",o()({href:t},n,{onClick:e=>{var t;a&&(e.preventDefault(),a()),null===(t=n.onClick)||void 0===t||t.call(n,e)}})):c.createElement(u.Link,o()({to:t},n))}},15535:(e,t,n)=>{"use strict";n.d(t,{Dm:()=>O,ZP:()=>F});var a=n(92969),o=n.n(a),r=n(58665),s=n.n(r),i=n(95004),l=n(81059),c=n(80630),d=n(62513),u=n.n(d),p=(0,c.qv)(i.createElement("svg",{viewBox:"0 0 20 20"},i.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.953 9.953 0 0 1-4.708-1.178l-4.24.652.642-3.906A9.953 9.953 0 0 1 0 10C0 4.477 4.477 0 10 0zM6.3 7.387h2.115c.047-.916.64-1.507 1.537-1.507.89 0 1.483.559 1.483 1.329 0 .77-.304 1.166-1.31 1.79-1.078.657-1.507 1.386-1.406 2.658l.016.47h2.068v-.43c0-.794.289-1.19 1.327-1.814 1.1-.673 1.67-1.524 1.67-2.747C13.8 5.288 12.325 4 10.093 4 7.697 4 6.339 5.394 6.3 7.387zM9.796 16c.71 0 1.28-.56 1.28-1.272 0-.713-.57-1.272-1.28-1.272-.702 0-1.272.559-1.272 1.272S9.094 16 9.796 16z"})));p.defaultProps={size:{width:24,height:24},fill:d.white};const m=p;var h=n(62272),g=n(69),v=n(81617),b=n(51742),f=n(90553),E=n(27884),C=n.n(E),y=n(43893),w=n.n(y),k=n(19195),P=n.n(k),S=n(22654),T=n(15896),x=n(27661),N=n(2540),I=n(37936);const R="M15EX",M="oSXiI";const A=()=>{var e=(0,N.bp)(),t=e.apiFetch,n=e.features.increasedVideoUploadLimit,a=e._t,o=(0,I.m)().selectedBlog,r=(0,i.useState)(),s=w()(r,2),l=s[0],c=s[1];return(0,i.useEffect)((()=>{var e=!1,a=function(){var a=C()(P().mark((function a(){var r;return P().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=T.Qw,!n||!o){a.next=5;break}return a.next=4,(0,x.fZ)(o.name,t);case 4:r=a.sent;case 5:e||c(r);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return a(),()=>{e=!0}}),[n,null==o?void 0:o.name,t]),i.createElement("div",{className:R},i.createElement("div",{className:M},a("Upload a video")),i.createElement("div",{"data-testid":"max-video-size"},l?a("%1$sMB max per file",String(l)):i.createElement(S.Z,{small:!0,color:u().paletteBlack})))},B="MD5Ec",Z="w3qxK",L="Smi9h";var O;!function(e){e.Image="image",e.Video="video",e.Audio="audio"}(O||(O={}));class D extends i.Component{constructor(){super(...arguments),o()(this,"state",{isVideoTooltipVisible:!1}),o()(this,"uploadInputRef",(0,i.createRef)()),o()(this,"toggleVideoBubble",(e=>{e.preventDefault(),this.setState({isVideoTooltipVisible:!this.state.isVideoTooltipVisible})})),o()(this,"uploadButtonOnClick",(()=>{var e,t,n,a=this.props,o=a.metLocalUploadLimit,r=a.uploadLimitError,s=a.toastContext.toggleToast;o?s(r,g.p.Error):(null===(e=this.uploadInputRef.current)||void 0===e||e.click(),null===(t=(n=this.props).onClick)||void 0===t||t.call(n))})),o()(this,"uploadInputOnClick",(e=>e.stopPropagation())),o()(this,"getUploadButtonLabel",(()=>{var e=this.props,t=e.fileTypes,n=e.appContext._t,a=!!t.find((e=>e===O.Image)),o=!!t.find((e=>e===O.Video)),r=!!t.find((e=>e===O.Audio));return a&&o?n("Upload an image or video"):a?n("Upload an image"):o?n("Upload a video"):r?n("Upload an audio"):""})),o()(this,"getAccept",(()=>{var e=this.props.fileTypes,t={[O.Image]:[h.l.Gif,h.l.Jpeg,h.l.Png].join(","),[O.Video]:[v.w3.Mov,v.w3.Mp4].join(","),[O.Audio]:"audio/mpeg"};return e.map((e=>t[e])).join(",")}))}render(){var e=this.props,t=e.wrapperClassName,n=e.multiple,a=e.onChange,o=e.children,r=e.disabled,s=this.props.fileTypes,c=(0,b.Z)([B,t]),d=this.state.isVideoTooltipVisible,u=!!s.find((e=>e===O.Video));return i.createElement(i.Fragment,null,i.createElement("div",{className:Z},u&&i.createElement("div",{className:L,onClick:this.toggleVideoBubble,role:"button"},i.createElement(m,{size:{width:15,height:15}})),u&&d&&i.createElement(A,null)),i.createElement(l.Z,{wrapperClassName:c,label:this.getUploadButtonLabel(),onClick:this.uploadButtonOnClick,disabled:r,title:this.props.title},i.createElement("input",{ref:this.uploadInputRef,type:"file",multiple:n,accept:this.getAccept(),role:"button",tabIndex:-1,onClick:this.uploadInputOnClick,onChange:a}),o))}}o()(D,"defaultProps",{wrapperClassName:"",uploadLimitError:"",onChange:s(),multiple:!0,fileTypes:[],disabled:!1,title:""});const F=(0,f.X9)(D,{appContext:!0,toastContext:!0})},8965:(e,t,n)=>{"use strict";n.d(t,{u:()=>h});var a=n(95394),o=n.n(a),r=n(92969),s=n.n(r),i=n(80610),l=n.n(i),c=n(95004),d=n(49835),u=n(5868),p=n(2540);class m extends c.Component{constructor(){super(...arguments),s()(this,"getMatchingBreakpoint",((e,t)=>l()(t,(t=>t<=e)))),s()(this,"matchedBreakpoint",this.getMatchingBreakpoint(this.props.width,this.props.breakpoints))}shouldComponentUpdate(e){var t=e.width,n=e.breakpoints,a=e.children,o=this.getMatchingBreakpoint(t,n),r=o!==this.matchedBreakpoint||this.props.children!==a;return r&&(this.matchedBreakpoint=o),r}render(){return this.props.children(this.props.width)}}function h(e){var t=(0,p.bp)().getBrowserInfo,n=(0,u.AJ)(t());return e.width?c.createElement(m,e):c.createElement(d.U$,null,(t=>{var a=t.width,r=t.bodyWidth;return c.createElement(m,o()({},e,{width:n?r:a}))}))}},49835:(e,t,n)=>{"use strict";n.d(t,{BI:()=>a,SL:()=>i,ZP:()=>l,bc:()=>c,pG:()=>d,U$:()=>u});var a,o=n(58665),r=n.n(o),s=n(95004);!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(a||(a={}));var i=(0,s.createContext)({width:0,height:0,setViewportResizeRender:r(),isViewportMounted:!1});i.displayName="ViewportContext";const l=i.Consumer;var c=(0,s.createContext)({width:0,bodyWidth:0});c.displayName="WidthOnlyViewportContext";var d=()=>(0,s.useContext)(c),u=c.Consumer},51616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(95004),o=n(40310);const r=function(e){var t=e.children;return a.createElement(o.ZP,null,(e=>e.isMobile?null:t))}},40310:(e,t,n)=>{"use strict";n.d(t,{q5:()=>o,v$:()=>r,ZP:()=>s});var a=n(95004),o=(0,a.createContext)({});o.displayName="DeviceContext";var r=()=>(0,a.useContext)(o);const s=o.Consumer},87752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(95004),o=n(40310);const r=function(e){var t=e.children;return a.createElement(o.ZP,null,(e=>e.isMobile?t:null))}},14393:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>s,HJ:()=>i,jY:()=>l});var a=n(3575),o=n(36643),r=n(4059),s="Archive",i={name:"archive-page",isLoginRequired:!1,analyticsPageName:"Archive",cacheExpirationInSeconds:60,usePalette:!1},l=(e,t,n)=>{var s=n.year,i=n.month,l=n.selectedTag,c=n.postType;return(0,o.ZP)(e).getPosts({blogIdentifier:t,extraBlogQueryParams:[a.lM.updated,a.lM.firstPostTimestamp,a.lM.posts,a.lM.description,a.lM.topTagsAll],queryParams:{postType:c,tag:(0,r.yt)(l,!0),beforeDate:s&&i?{year:s,month:i}:void 0}})}},4039:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>a,HJ:()=>o});var a="ImagePage",o={name:"image-page",isLoginRequired:!1,analyticsPageName:"ImagePage",cacheExpirationInSeconds:60}},7130:(e,t,n)=>{"use strict";n.d(t,{ql:()=>i,x3:()=>u,Ei:()=>p,iQ:()=>m,Fz:()=>h});var a=n(4777),o=n(76155),r=n(68674),s=n(97583),i="/archive",l="/:year([0-9]{4})/:month([1-9]|1[0-2])",c="/filter-by/:postType(".concat((0,s.Z)(o.L8),")"),d="/tagged/:selectedTag",u=[d,""].flatMap((e=>[c,""].flatMap((t=>[l,""].map((n=>"".concat(i).concat(n).concat(t).concat(e))))))),p="/(/)?image/:postId",m=e=>(0,r.Z)((()=>{var t=e.month&&e.year?l:"",n=e.postType?c:"",o=e.selectedTag?d:"";return(0,a.Gn)("".concat(i).concat(t).concat(n).concat(o),e)})),h=e=>(0,r.Z)((()=>(0,a.Gn)(p,e)))},73520:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>a,HJ:()=>o});var a="EmbedPost",o={name:"embed-post",isLoginRequired:!1,analyticsPageName:"EmbedPost",cacheExpirationInSeconds:60}},45819:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"error-page",isLoginRequired:!1,analyticsPageName:"ErrorPage",usePalette:!1},o="ErrorPage"},38962:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>E,VM:()=>v,qp:()=>b,Ns:()=>f});var a=n(18630),o=n(7130),r=o.x3.map((e=>({path:e,exact:e===o.ql,component:a.GU,key:"archive-page",shouldServerSideRender:()=>false})));const s=[{path:o.Ei,component:a.vL},...r];const i=[{path:"/embed/post/:mentionKey/:postId",component:a._f,key:"embed-post",shouldServerSideRender:()=>!0}];var l=n(78315),c=n(57284),d=[{path:l.o_.dashboard,component:a.A,shouldServerSideRender:()=>!0},{path:l.o_.likes,component:a.jY},{path:l.o_.following,component:a.vH},{path:l.o_.inbox,component:a.mn},{path:l.o_.tagged,component:a.v9},{path:l.o_.explore,component:a.T8},{path:l.o_.queue,component:a.ci},{path:l.o_.followers,component:a.g3},{path:l.o_.drafts,component:a.jf},{path:l.o_.review,component:a.Cq},{path:l.o_.messages,component:a.Vm},{path:l.o_.activity,component:a.cS},{path:l.o_.creatorProfile,component:a.hT},{path:l.o_.creatorSettings,component:a.f1},{path:l.o_.payouts,component:a.Te},{path:l.o_.yearInReview,component:a.$p,usePalette:!1},{path:l.o_.blogView,component:a.JQ},{exact:!0,path:l.o_.landingPage,component:a.fy},{exact:!0,path:l.o_.legacyFollowPage,component:a.fy},{exact:!0,path:l.o_.messagingRoute,component:a.wq},{exact:!0,path:l.o_.newMessageRoute,component:a.JO},...[l.o_.conversationWindowRoute,l.o_.conversationWindowRouteSpecific].map((e=>({path:e,exact:!0,component:a.Gx}))),{path:l.o_.search,component:a.tX},{path:l.o_.nakedTimeline,component:a.F7},{path:l.o_.blogSettings,component:a.sK},{path:l.o_.settings,component:a.Zr},{path:l.o_.consent,component:a.l$}],u=[...[c.fL,c.cH,c.Xg,c.ft,c.u2].map((e=>({path:e,component:a.gW,shouldServerSideRender:()=>!0,key:"peepr"})))],p=[{exact:!0,path:l.o_.newPost,component:a.sA},{exact:!0,path:l.o_.editPost,component:a.sA},{exact:!0,path:l.o_.reblog,component:a.sA},{exact:!0,path:l.o_.videoHub,component:a.t6}];const m=[...u,...p,...d];const h=[{path:"/(.*)",component:a.eh}];var g=n(10301),v={[g.Z.Main]:d,[g.Z.BlogNetwork]:s,[g.Z.Media]:h,[g.Z.Embed]:i},b={[g.Z.Main]:p},f={[g.Z.Main]:u};const E={[g.Z.Main]:m,[g.Z.BlogNetwork]:s,[g.Z.Media]:h,[g.Z.Embed]:i}},12896:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>p,Rn:()=>m,W2:()=>g,E9:()=>E,S4:()=>y,dE:()=>w,QO:()=>N});var a=n(63240),o=n.n(a),r=n(85313),s=n.n(r),i=n(43893),l=n.n(i),c=n(48866),d=n(53551),u=n(36104),p={name:"activity",isLoginRequired:!0,analyticsPageName:"Activity",cookieBootstrap:[u.zC.ACTIVITY_GRAPH,u.zC.ACTIVITY_FILTER]},m="Activity",h=[d.gm.Ask,d.gm.AskAnswer,d.gm.Conversational,d.gm.ConversationalRollup,d.gm.Follower,d.gm.FollowerRollup,d.gm.Like,d.gm.LikeRollup,d.gm.NoteMention,d.gm.PostAttribution,d.gm.Reblog,d.gm.ReblogNaked,d.gm.ReblogNakedRollup,d.gm.Reply,d.gm.UserMention,d.gm.PostFlagged,d.gm.AppealVerdictGranted,d.gm.AppealVerdictDenied,d.gm.SpamReported,d.gm.BackInTown],g=e=>e?[...h,d.gm.Tip]:h,v=c.jp.ThreeDays,b=c.m3.Hourly,f=",",E=(e,t)=>"".concat(e).concat(f).concat(t),C=E(v,b),y=e=>{return t=(e||C).split(f),n=l()(t,2),a=n[0],o=n[1],r=Object.values(c.jp).includes(a),s=Object.values(c.m3).includes(o),[r?a:v,s?o:b];var t,n,a,o,r,s},w=(e,t,n)=>{if(!e)return[n,S(t)].join(x);var a=e.split(T).filter((e=>!!e&&!!e.split(x)[1]&&P(e.split(x)[1])&&e.split(x)[0]!==n));return a.push("".concat(n).concat(x).concat(S(t))),a.join(T)},k=Object.values(d.Ng),P=e=>e.split(f).some((e=>k.includes(e))),S=e=>{var t=Object.values(e);return Object.keys(e).filter(((e,n)=>t[n])).join(f)},T="|",x=":",N=(S(d.GV),(e,t)=>{if(!t||!t.includes(x))return d.GV;var n=t.split(T).find((t=>t.split(x)[0]===e));return n?I(n.split(x)[1]):d.GV}),I=e=>{var t,n=s()({},d.Pz),a=o()(e.split(f));try{for(a.s();!(t=a.n()).done;){n[t.value]=!0}}catch(e){a.e(e)}finally{a.f()}return R(n)},R=e=>Object.keys(e).every((e=>e in d.GV))?e:d.GV},80333:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>o,Jq:()=>r,Rn:()=>s});var a=n(36643),o={name:"blog-view",isLoginRequired:!0,analyticsPageName:"BlogView"},r=(e,t)=>(0,a.ZP)(e).getPosts({blogIdentifier:t,includePinnedPosts:!0}),s="BlogView"},38708:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"dashboard",isLoginRequired:!0,analyticsPageName:"Dashboard"},o="Dashboard"},70098:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"drafts",isLoginRequired:!0,analyticsPageName:"Drafts"},o="Drafts"},61012:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>i,HJ:()=>l,GI:()=>c,iz:()=>d,_O:()=>u,kh:()=>p,Aw:()=>m});var a=n(43893),o=n.n(a),r=n(67289),s=n(36643),i="Explore",l={name:"explore-page",isLoginRequired:!1,analyticsPageName:"ExplorePage"},c=4;function d(e,t,n){var a=n?{sub_component:"curated_tags"}:void 0,r=t?(0,s.ZP)(e).getFollowedTags().fetch():Promise.resolve({response:{}}),i=t?C(e):Promise.resolve({response:{}}),l=n?g(e,a).fetch():Promise.resolve({response:{}});return Promise.all([r,E(e),i,l]).then((e=>{var t=o()(e,4),n=t[0].response.timeline,a=t[1].response.timeline;return{followedTagsTimeline:n,recommendedTagsTimeline:t[2].response.timeline,trendingTagsTimeline:a,staffPicksTagsTimeline:t[3].response.timeline}})).catch((()=>({hasFetchError:!0})))}function u(e,t){var n=t?b(e):Promise.resolve({response:{}});return Promise.all([n,f(e)]).then((e=>{var t=o()(e,2);return{recommendedBlogsTimeline:t[0].response.timeline,trendingBlogsTimeline:t[1].response.timeline}})).catch((()=>({hasFetchError:!0})))}var p=(e,t,n)=>{var a=n&&t===r.Ru.StaffPicks?{sub_component:"post"}:void 0;return Promise.all([m(e,t,a).fetch()]).then((e=>{var n=o()(e,1)[0].response.timeline;return{timeline:{[t]:n},hasFetchError:!1}})).catch((()=>({timeline:{[t]:null},hasFetchError:!0})))};function m(e,t,n){switch(t){case r.Ru.Recommended:return h(e);case r.Ru.StaffPicks:return g(e,n);case r.Ru.Trending:return v(e);default:return(0,s.ZP)(e).getPostsByType(t)}}var h=e=>(0,s.ZP)(e).getRecommendedPosts(),g=(e,t)=>(0,s.ZP)(e).getStaffPicksPosts(t),v=e=>(0,s.ZP)(e).getTrendingPosts(),b=e=>(0,s.ZP)(e).getRecommendedBlogs().fetch(),f=e=>(0,s.ZP)(e).getTrendingBlogs().fetch(),E=e=>(0,s.ZP)(e).getTrendingTags().fetch(),C=e=>(0,s.ZP)(e).getRecommendedTags().fetch()},44730:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"followers",isLoginRequired:!0,analyticsPageName:"Followers"},o="Followers"},66840:(e,t,n)=>{"use strict";n.d(t,{BC:()=>d,Rn:()=>l,Jh:()=>u,sq:()=>v,Pu:()=>h,OM:()=>g,HJ:()=>c});var a=n(85313),o=n.n(a),r=n(35811),s=n(36643),i=n(4059),l="Tagged",c={name:"tagged-page",isLoginRequired:!1,analyticsPageName:"CommunityHub"},d=4,u=(e,t,n)=>Promise.all([p(e,t,n),m(e,t)]).then((e=>e.reduce(((e,t)=>o()(o()({},e),t)),{}))),p=(e,t,n)=>(0,s.ZP)(e).getHubsHeader((0,i.yt)(t.params.tag,n)).fetch((e=>({header:e.response.header,emptyResultsTextSeed:Date.now().toString()})),g),m=(e,t)=>{var n=t.params.tag;return(0,s.ZP)(e).getRelatedTags(n).fetch((e=>({relatedTags:e.response[n]})))},h=(e,t,n)=>{var a=t.params.tag,o=n.isLoggedIn,r=n.sort,l=n.isFollowed,c=void 0===l||l,d=n.tagUrlCleanup;return(0,s.ZP)(e).getHubsTimeline((0,i.yt)(a,d),v(o,r,c))},g=e=>{var t=e.detailedErrors;return null!=t&&t.some((e=>13001===e.code))?{shouldRedirect:!0}:{shouldRedirect:!1}},v=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t&&Object.values(r.f8).includes(t)?t:e&&n?r.f8.Recent:r.f8.Top}},58368:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"inbox",isLoginRequired:!0,analyticsPageName:"Inbox"},o="Inbox"},88025:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>o,HJ:()=>r,OL:()=>s});var a=n(54016),o="Likes",r={name:"likes",isLoginRequired:!0,analyticsPageName:"Likes"},s=e=>(0,a.b)(e||"")},26027:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>l,HJ:()=>c,Cb:()=>u});var a=n(85313),o=n.n(a),r=n(3575),s=n(36643),i=n(16439),l="CreatorSettings",c={name:"creator-settings-page",isLoginRequired:!0,analyticsPageName:"CreatorSettingsPage"},d=[r.lM.name,r.lM.admin,r.lM.isPaywallOn,r.lM.isTumblrpayOnboarded,r.lM.canOnboardToPaywall,r.lM.wasPaywallOn,r.lM.isPasswordProtected,r.lM.isGroupChannel,r.lM.isTippingOn],u=(e,t)=>p(e,t).then((n=>m(e,t,n))).then((e=>({blog:e,isFetching:!1}))).catch(s.OO),p=(e,t)=>(0,s.ZP)(e).getBlogInfo(t,(0,i.n9)(d)).fetch((e=>e.response.blog)),m=(e,t,n)=>(0,s.ZP)(e).getSubscriptionPlan(t).fetch((e=>{var t=e.response;return o()(o()({},n),{},{subscriptionPlan:t})}),(e=>n.isPasswordProtected||n.isGroupChannel?Promise.resolve(n):(0,s.OO)(e)))},84857:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>c,HJ:()=>d,ue:()=>u,aY:()=>m});var a=n(85313),o=n.n(a),r=n(43893),s=n.n(r),i=n(3575),l=n(36643),c="Subscriptions",d={name:"memberships-route",isLoginRequired:!1,analyticsPageName:"MembershipsRoute"},u=[i.lM.theme,i.lM.canMessage,i.lM.canBeFollowed,i.lM.followed,i.lM.analyticsUrl,i.lM.isPaywallOn,i.lM.isTumblrpayOnboarded,i.lM.subscriptionPlan,i.lM.paywallAccess,i.lM.topTags],p={initialTimeline:{objects:[]},blog:null,subscriptionPlan:null,requestedPost:null};function m(e,t,n){return(n?Promise.all([h(e,t,n),g(e,t)]).then((e=>{var t=s()(e,2),n=t[0],a=t[1];return o()(o()({},n),a)})):g(e,t)).then((n=>n.subscriptionPlan?n:(0,l.ZP)(e).getSubscriptionPlan(t).fetch((e=>{var t=e.response;return o()(o()({},n),{},{subscriptionPlan:t})})))).then((e=>o()(o()({},e),{},{isFetching:!1}))).catch((e=>o()(o()({},p),{},{isFetching:!1})))}function h(e,t,n){return(0,l.ZP)(e).getPermalink(t,n,u).fetch((e=>({postPermalinkIsMissing:!1,requestedPost:e.response.timeline.elements[0]}))).catch((e=>{if(404!==e.status)throw e;return{postPermalinkIsMissing:!0,requestedPost:null}}))}function g(e,t){return(0,l.ZP)(e).getPosts({blogIdentifier:t,extraBlogQueryParams:u,includePinnedPosts:!0}).fetch((e=>{var t=e.response,n=t.blog,a=t.links,o=t.posts;return{blog:n,subscriptionPlan:n.subscriptionPlan||null,initialTimeline:{objects:o,nextLink:null==a?void 0:a.next}}}))}},96061:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"messages",isLoginRequired:!0,analyticsPageName:"Messages"},o="Messages"},71995:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,H:()=>o});var a="Conversation",o={name:"conversation-window",isLoginRequired:!0,analyticsPageName:"ConversationWindow"}},85964:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,H:()=>o});var a="NewMessage",o={name:"new-message",isLoginRequired:!0,analyticsPageName:"NewMessage"}},80437:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>o,HJ:()=>r,wE:()=>s});var a=n(36643),o="NakedTimeline",r={name:"naked-timeline-page",isLoginRequired:!1,analyticsPageName:"NakedTimeline"},s=(e,t,n)=>{var o=t.params;return(0,a.ZP)(e).getNakedTimeline(o.timelineName,n)}},78315:(e,t,n)=>{"use strict";n.d(t,{o_:()=>P,Ms:()=>A,BR:()=>F,vw:()=>N,XU:()=>H,nh:()=>T,ti:()=>S,vD:()=>I,yj:()=>D,FD:()=>M,gZ:()=>_,Z7:()=>Z,TL:()=>O,su:()=>x,Kt:()=>R,oh:()=>L,eR:()=>B,W8:()=>z,B9:()=>U,fO:()=>V,hc:()=>W,kP:()=>G,dn:()=>ae,BX:()=>ne,HU:()=>X,hT:()=>K,lc:()=>Q,XB:()=>ee,cz:()=>te,Lv:()=>q,c_:()=>$,LX:()=>j,Uv:()=>Y,C4:()=>J});var a=n(4777),o=n(18485),r=n(48866),s=n(86810),i=n(67289),l=n(76097),c=n(76155),d=n(35811),u=n(13032),p=n(68674),m=n(97583),h=n(4059),g=n(43893),v=n.n(g);function b(e){var t=e.split("?",2);return v()(t,1)[0]}var f,E=l.c.Register,C=l.c.Login,y=l.c.Onboarding,w=l.c.LinkAccount,k=l.c.TwoFactorAuthentication;!function(e){e.DASHBOARD="dashboard",e.TAGGED="tagged",e.EXPLORE="explore",e.SEARCH="search",e.NEW="newPost",e.EDIT="editPost",e.REBLOG="reblog",e.QUEUE="queue",e.DRAFTS="drafts",e.LIKES="likes",e.CREATOR_PROFILE="creatorProfile",e.CREATOR_SETTINGS="creatorSettings",e.PAYOUTS="payouts",e.HELP="help",e.INBOX="inbox",e.MESSAGES="messages",e.MESSAGING="messaging",e.MESSAGING_ROUTE="messagingRoute",e.NEW_MESSAGE_ROUTE="newMessageRoute",e.CONVERSATION_WINDOW_ROUTE="conversationWindowRoute",e.CONVERSATION_WINDOW_ROUTE_SPECIFIC="conversationWindowRouteSpecific",e.FOLLOWING="following",e.FOLLOWERS="followers",e.BLOG_VIEW="blogView",e.ACTIVITY="activity",e.REVIEW="review",e.LANDING_PAGE="landingPage",e.LEGACY_FOLLOW_PAGE="legacyFollowPage",e.LINK_ACCOUNT="linkAccount",e.ONBOARDING="onboarding",e.NAKED_TIMELINE="nakedTimeline",e.BLOG_SETTINGS="blogSettings",e.ACCOUNT_SETTINGS="accountSettings",e.SETTINGS="settings",e.CONSENT="consent",e.TWO_FACTOR_AUTHENTICATION="twoFactorAuthentication",e.YEAR_IN_REVIEW="yearInReview",e.VIDEO_HUB="videoHub"}(f||(f={}));var P={[f.DASHBOARD]:"/dashboard",[f.TAGGED]:"/tagged/:tag",[f.EXPLORE]:"/explore/:exploreMode(".concat((0,m.Z)(i.Ru),")?"),[f.SEARCH]:"/search/:searchTerm/:searchMode(".concat(d.f8.Recent,")?/:selectedPostType(").concat((0,m.Z)(c.hr),")?"),[f.NEW]:"/new/:postType(".concat((0,m.Z)(c.L8),")?/:otherBlogName?"),[f.EDIT]:"/edit/:blogName/:postId",[f.REBLOG]:"/reblog/:blogName/:postId/:reblogKey",[f.QUEUE]:"/blog/:blogName/queue",[f.DRAFTS]:"/blog/:blogName/drafts",[f.CREATOR_PROFILE]:"/creator/:blogName/:postId?",[f.CREATOR_SETTINGS]:"/blog/:blogName/post-plus/:creatorPageContents(".concat((0,m.Z)(s.tT),")?"),[f.PAYOUTS]:"/blog/:blogName/payouts",[f.LIKES]:"/likes",[f.HELP]:"/help",[f.INBOX]:"/inbox",[f.MESSAGES]:"/blog/:blogName/messages",[f.MESSAGING]:"/messaging",[f.MESSAGING_ROUTE]:"/messaging/:blogName?",[f.NEW_MESSAGE_ROUTE]:"/messaging/new/:blogName",[f.CONVERSATION_WINDOW_ROUTE]:"/message/:otherBlogName",[f.CONVERSATION_WINDOW_ROUTE_SPECIFIC]:"/messaging/conversation/:blogName/:otherBlogName",[f.FOLLOWING]:"/following",[f.FOLLOWERS]:"/blog/:blogName/followers",[f.BLOG_VIEW]:"/blog/:blogName",[f.ACTIVITY]:"/blog/:blogName/activity/:graph(".concat((0,m.Z)(r.Ej),")?/:range(").concat((0,m.Z)(r.jp),")?/:granularity(").concat(r.m3.Hourly,"|").concat(r.m3.Daily,")?"),[f.REVIEW]:"/blog/:blogName/review",[f.LANDING_PAGE]:"/:formToShow(".concat(E,"|").concat(C,"|").concat(y,"|").concat(w,"|").concat(k,")?"),[f.ONBOARDING]:"/:formToShow(".concat(y,")?"),[f.LINK_ACCOUNT]:"/:formToShow(".concat(w,")?"),[f.TWO_FACTOR_AUTHENTICATION]:"/:formToShow(".concat(k,")?"),[f.LEGACY_FOLLOW_PAGE]:"/:formToShow(".concat(E,"|").concat(C,")/follow/:legacyFollowPageBlogName"),[f.NAKED_TIMELINE]:"/timeline/:timelineName",[f.BLOG_SETTINGS]:"/settings/blog/:blogName",[f.ACCOUNT_SETTINGS]:"/settings/account",[f.SETTINGS]:"/settings/:page(".concat((0,m.Z)(u.f),")?"),[f.CONSENT]:"/privacy/consent/begin",[f.YEAR_IN_REVIEW]:"/your2021yir/:blogName?",[f.VIDEO_HUB]:"/video-hub/:hubName"},S=e=>(0,p.Z)((()=>(0,a.Gn)(P.creatorSettings,e))),T=e=>(0,p.Z)((()=>(0,a.Gn)(P.creatorProfile,e))),x=e=>(0,p.Z)((()=>(0,a.Gn)(P.payouts,e))),N=e=>(0,p.Z)((()=>(0,a.Gn)(P.blogView,e))),I=e=>(0,p.Z)((()=>(0,a.Gn)(P.drafts,e))),R=e=>(0,p.Z)((()=>(0,a.Gn)(P.queue,e))),M=e=>(0,p.Z)((()=>(0,a.Gn)(P.followers,e))),A=e=>(0,p.Z)((()=>(0,a.Gn)(P.activity,e))),B=e=>(0,p.Z)((()=>(0,a.Gn)(P.review,e))),Z=e=>(0,p.Z)((()=>(0,a.Gn)(P.messages,e))),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.Z)((()=>(0,o.Z)((0,a.Gn)(P.reblog,e),t)))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.Z)((()=>(0,o.Z)((0,a.Gn)(P.newPost,e),t)))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.Z)((()=>(0,o.Z)((0,a.Gn)(P.editPost,e),t)))},F=e=>(0,p.Z)((()=>(0,a.Gn)(P.blogSettings,e))),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.legacyFollowPageBlogName?P.legacyFollowPage:P.landingPage;return(0,p.Z)((()=>(0,o.Z)((0,a.Gn)(n,e),t)))},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.Z)((()=>(0,o.Z)((0,a.Gn)(P.consent),e)))},U=e=>(0,p.Z)((()=>(0,a.Gn)(P.settings,e))),z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"/search/".concat((0,h.Mh)(e,t))},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"/tagged/".concat((0,h.Mh)(e,t))},W=e=>(0,p.Z)((()=>(0,a.Gn)(P.videoHub,e))),G=e=>(0,p.Z)((()=>(0,a.Gn)(P.yearInReview,{blogName:e}))),q=e=>{var t;return!(null===(t=(0,a.LX)(b(e),{path:P.newPost,exact:!0}))||void 0===t||!t.path)},j=e=>{var t;return!(null===(t=(0,a.LX)(b(e),{path:P.reblog,exact:!0}))||void 0===t||!t.path)},K=e=>{var t;return!(null===(t=(0,a.LX)(b(e),{path:P.editPost,exact:!0}))||void 0===t||!t.path)},Q=e=>{var t;return!(null===(t=(0,a.LX)(b(e),{path:P.explore,exact:!0}))||void 0===t||!t.path)},J=e=>!!(0,a.LX)(b(e),{path:P.tagged,exact:!0}),Y=e=>!!(0,a.LX)(b(e),{path:P.search,exact:!0}),X=e=>{var t;return!(null===(t=(0,a.LX)(b(e),{path:P.drafts,exact:!0}))||void 0===t||!t.path)},$=e=>{var t;return!(null===(t=(0,a.LX)(b(e),{path:P.queue,exact:!0}))||void 0===t||!t.path)},ee=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!(null===(e=(0,a.LX)(b(t),{path:P.inbox}))||void 0===e||!e.path)},te=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!(null===(e=(0,a.LX)(b(t),{path:P.landingPage,exact:!0}))||void 0===e||!e.path)},ne=e=>{var t;return!(null===(t=(0,a.LX)(b(function(e){var t=e.split("#",2);return v()(t,1)[0]}(e)),{path:P.accountSettings,exact:!0}))||void 0===t||!t.path)},ae=e=>{var t,n,o=(0,a.LX)(e,{path:P.creatorSettings});return o?null!==(t=null==o||null===(n=o.params)||void 0===n?void 0:n.creatorPageContents)&&void 0!==t?t:s.Pd:null}},58691:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"payouts",isLoginRequired:!0,analyticsPageName:"Payouts"},o="Payouts"},57284:(e,t,n)=>{"use strict";n.d(t,{u2:()=>m,cH:()=>h,fL:()=>g,Xg:()=>v,ft:()=>b,SS:()=>f,s6:()=>E});var a=n(85313),o=n.n(a),r=n(4777),s=n(76155),i=n(35811),l=n(97583),c=":peeprSelectedPostType(".concat((0,l.Z)(s.L8),")"),d=":peeprSearchMode(".concat(i.f8.Top,")"),u=":peeprPostRole(".concat(s.QL.Original,")"),p=":peeprBlogname",m="/blog/view/".concat(p),h="/blog/view/".concat(p,"/search/:peeprSearchTerm/").concat(d,"?/").concat(u,"?/").concat(c,"?"),g="/blog/view/".concat(p,"/filter-by/").concat(c),v="/blog/view/".concat(p,"/support"),b="/blog/view/".concat(p,"/:peeprPostId");function f(e,t,n){if(null==e||!e.peeprBlogname)return null;var a=null!=n&&n.isSupport?v:t&&""===(null==t?void 0:t.peeprSearchTerm)&&t.peeprSelectedPostType?g:null!=t&&t.peeprSearchTerm?h:e.peeprPostId?b:m;return(0,r.Gn)(a,o()(o()({},e),!!t&&o()(o()({},t),{},{peeprSearchTerm:t.peeprSearchTerm})))}function E(e){return e===v}},76599:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>u,Rn:()=>p,f1:()=>b,T_:()=>y});var a=n(85313),o=n.n(a),r=n(43893),s=n.n(r),i=n(3575),l=n(93523),c=n(36643),d=n(16439),u={name:"peepr-route",isLoginRequired:!1,analyticsPageName:"peepr-route"},p="PeeprRoute",m=[i.lM.avatar,i.lM.name,i.lM.title,i.lM.url,i.lM.descriptionNpf,i.lM.theme,i.lM.uuid,i.lM.canMessage,i.lM.canBeFollowed,i.lM.followed,i.lM.isMember,i.lM.shareLikes,i.lM.shareFollowing,i.lM.canSubscribe,i.lM.subscribed,i.lM.ask,i.lM.canSubmit,i.lM.isBlockedFromPrimary,i.lM.tweet,i.lM.analyticsUrl,i.lM.primary,i.lM.advertiserName,i.lM.isBloglessAdvertiser,i.lM.isPaywallOn,i.lM.subscriptionPlan],h=[i.lM.admin,i.lM.theme,i.lM.canMessage,i.lM.canBeFollowed,i.lM.followed,i.lM.analyticsUrl,i.lM.topTags],g=[i.lM.isPaywallOn,i.lM.subscriptionPlan],v={hasErrored:!0};function b(e,t,n,a,r){var i=r&&!r.peeprSearchTerm&&r.peeprSelectedPostType||void 0;return(a?Promise.all([E(e,t),C(e,t,a)]).then((e=>{var t=s()(e,2),n=t[0],a=t[1];return o()(o()({},a),n)})):null!=r&&r.peeprSearchTerm?Promise.all([E(e,t),f(e,t,r).catch((e=>[]))]).then((e=>{var t=s()(e,2),n=t[0],a=t[1];return o()(o()({},a),n)})):function(e,t,n,a){return y(e,t,n,a).fetch((e=>{var t=e.response,n=t.blog,a=t.links;return{blog:n,initialTimeline:{objects:t.posts,nextLink:null==a?void 0:a.next}}}))}(e,t,n,i)).catch((e=>o()(o()({},v),{},{error:e})))}function f(e,t,n){return(0,c.ZP)(e).getPostsByQuery(t,n.peeprSearchTerm,(0,l.r)(n)).fetch((e=>{var t=e.response,n=t.posts,a=t.links;return{initialTimeline:{objects:n,nextLink:null==a?void 0:a.next}}}))}function E(e,t){return(0,c.ZP)(e).getBlogInfo(t,o()(o()({},(0,d.n9)(m)),{},{reblog_info:!0})).fetch((e=>({blog:e.response.blog})))}function C(e,t,n){return(0,c.ZP)(e).getPermalink(t,n,g).fetch((e=>{var t,n=e.response.timeline;return{initialTimeline:{objects:n.elements,nextLink:null===(t=n.links)||void 0===t?void 0:t.next}}})).catch((e=>{if(404!==e.status)throw e;return{postPermalinkIsMissing:!0,initialTimeline:{objects:[]}}}))}var y=(e,t,n,a,r)=>(0,c.ZP)(e).getPosts({postId:r,shouldIncludeBlogSummary:n,blogIdentifier:t,extraBlogQueryParams:h,includePinnedPosts:!0,queryParams:o()({},a&&{postType:a})})},42366:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>p,HJ:()=>m,rJ:()=>g});var a=n(85313),o=n.n(a),r=n(3575),s=n(29694),i=n(76155),l=n(52385),c=n(36643),d=n(90672),u=n(78315),p="PostForm",m={name:"post-form",isLoginRequired:!0,analyticsPageName:"Canvas"},h={hasFetchedPostData:!0},g=(e,t,n)=>{var a=t.path,s=t.params,l=s.blogName,p=s.postId,m=s.postType;if((0,u.LX)(a)||(0,u.hT)(a))return(0,c.ZP)(e).getPosts({postId:p,blogIdentifier:l,extraBlogQueryParams:[r.lM.timezoneOffset,r.lM.isPremiumPartner,r.lM.isBloglessAdvertiser]}).fetch((e=>b(e,a,n)));if((0,u.Lv)(a)){var g=(0,d.B)(null==n?void 0:n.tags),v=!!g[0]&&{tags:g};return v&&m===i.hQ.Photo&&null!=n&&n.src&&null!=n&&n.caption&&(v.content=[{type:i.kH.Image,media:[{url:null==n?void 0:n.src}]},{type:i.kH.Text,text:null==n?void 0:n.caption}]),Promise.resolve(o()(o()({},h),v&&{editablePost:v}))}return Promise.resolve(h)},v=(e,t)=>(0,i.eb)(e)&&e.post.isPaywalled&&t&&e.post.paywallAccess!==s.bv.Disabled?o()(o()({},e),{},{content:t.content,layout:t.layout}):e,b=(e,t,n)=>{var a=e.response.posts[0],r=a.trail,s=a.content,i=a.layout,l=a.tags,c=a.blog,d=a.id,p=a.reblogKey,m=a.placementId,g=a.paywallReblogView,b=a.paywallAccess,E=a.isPaywalled,C=f(n)||a.earnedId||"",y=(r||[]).map((e=>v(e,g))),w=v({content:s,layout:i,blog:c,post:{id:d,reblogKey:p,paywallAccess:b,isPaywalled:E}},g);return o()(o()(o()(o()({},h),(0,u.hT)(t)&&(null==a?void 0:a.canEdit)&&o()(o()({},r?{trail:[...y]}:{}),{},{editablePost:a})),(0,u.LX)(t)&&a&&o()({trail:[...y,w]},C&&{editablePost:{earnedId:C,placementId:m}})),(null==l?void 0:l.length)&&{reblogTags:l})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e[l.PC.AdvertiserId],n=e[l.PC.CampaignId],a=e[l.PC.CreativeId],o=e[l.PC.AdGroupId],r=e[l.PC.AdId],s={advertiser_id:t,campaign_id:n,creative_id:a,ad_group_id:o,ad_id:r};return Object.values(s).every((e=>"string"==typeof e||null===e))?JSON.stringify(s):""}},18734:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"queue",isLoginRequired:!0,analyticsPageName:"Queue"},o="Queue"},77083:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"review",isLoginRequired:!0,analyticsPageName:"review"},o="Review"},49238:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>o.R,kq:()=>r});var a=n(35811),o=n(71683),r={searchTerm:"",searchMode:a.f8.Top,selectedPostType:void 0,selectedTime:a.Ak.AllTime,activeTimeline:a.Kg.Post}},20011:(e,t,n)=>{"use strict";n.d(t,{BD:()=>u,Ud:()=>p});var a=n(85313),o=n.n(a),r=n(35811),s=n(82048),i=n(80261),l=n(4059),c={[r.Kg.Post]:{skipComponent:"related_tags,blog_search",limit:20},[r.Kg.Blog]:{limit:20},[r.Kg.Tag]:{limit:20}},d=(e,t,n)=>(0,i.Z)((0,s.o)(e,o()({searchKeyword:n.searchTerm,requestMode:n.searchMode,postType:n.selectedPostType,days:n.selectedTime,timelineType:t},c[t])).fetch()),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[r.Kg.Blog,r.Kg.Post,r.Kg.Tag],a=n.map((n=>d(e,n,t)));return(0,i.Z)(Promise.all(a).then((e=>n.reduce(((t,n,a)=>(t[n]=e[a],t)),{}))),(()=>{a.forEach((e=>e.cancel()))}))};function p(e,t,n){var a=e.params,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=a.selectedPostType,i=a.searchMode,c=a.searchTerm,d=(0,l.yt)(c,o),u=t||{},p=u.v,m=u.t,h=Number(m),g=h<36e3&&h>=0?h:n.selectedTime,v=Object.values(r.Kg).includes(p)?p:n.activeTimeline,b=null!=i?i:n.searchMode;return{searchTerm:d,selectedTime:g,activeTimeline:v,searchMode:b,selectedPostType:s}}},71683:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,R:()=>o});var a={name:"search",isLoginRequired:!1,analyticsPageName:"Search"},o="SearchRoute"},73792:(e,t,n)=>{"use strict";n.d(t,{WJ:()=>so,HJ:()=>io,L0:()=>uo});var a=n(13032),o=n(95004),r=n(85313),s=n.n(r),i=n(86057),l=n.n(i),c=n(51742);const d="mvtqT";var u=["children","className","as"];const p=e=>{var t=e.children,n=e.className,a=e.as,r=void 0===a?"h2":a,i=l()(e,u);return o.createElement(r,s()({className:(0,c.Z)([d,n])},i),t)};var m=n(64018),h=n(2540),g=n(27884),v=n.n(g),b=n(43893),f=n.n(b),E=n(19195),C=n.n(E),y=n(29359),w=n(40138),k=n(53107),P=n(6957),S=n(2978),T=n(64653),x=n(62513),N=n.n(x);const I="SYqpq",R="A0pGQ",M="hhA25",A="Gh6jR",B="NVhYO",Z="W19cD",L="s4DSF",O="pGaw3";const D=()=>{var e=(0,h.bp)(),t=e._t,n=e.apiFetch,a=e.logEvent,r=(0,o.useState)(""),s=f()(r,2),i=s[0],l=s[1],c=(0,o.useState)([]),d=f()(c,2),u=d[0],p=d[1],m=(0,o.useState)(""),g=f()(m,2),b=g[0],E=g[1],x=(0,o.useCallback)(v()(C().mark((function e(){var t,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.yY)(n).fetch();case 3:t=e.sent,a=t.response,l(a.email),p(a.thirdPartyAuthProviders||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E("Error getting auth details");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[n]);return(0,o.useEffect)((()=>{x()}),[x]),i&&u.length>0||b?o.createElement(k.Z,{label:t("Login Options"),isFocused:!1},b?o.createElement("div",{"data-testid":"error",className:L},b):o.createElement("div",{className:I},u.map((e=>{var r=e.providerId,s=function(){var e=v()(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.sk)(n,{providerId:r}).fetch();case 3:a({eventName:1===r?S.JE.GoogleAuthDisconnectSuccess:S.JE.AppleAuthDisconnectSuccess}),p(u.filter((e=>e.providerId!==r))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a({eventName:1===r?S.JE.GoogleAuthDisconnectError:S.JE.AppleAuthDisconnectError}),E("Error disconnecting");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return o.createElement("div",{className:O,key:r},o.createElement("div",{className:R},o.createElement("div",{className:B},1===r?o.createElement(w.Z,null):o.createElement(y.Z,null)," ",o.createElement("div",{className:Z},e.name)),o.createElement("div",{"data-testid":"email",className:A},i),o.createElement("div",{"data-testid":"error",className:L},b)),o.createElement(P.ZP,{wrapperClassName:M,backgroundColor:N().paletteAccent,textColor:N().paletteNavy,disabledTheme:P.tl.Default,disabledBackgroundColor:N().paletteGray13,disabledTextColor:N().paletteGray40,size:P.jf.Small,label:t("Disconnect"),onClick:s,type:"button"},t("Disconnect")))})))):null};var F=n(14431),_=n(22654),H=n(83019),U=n(56646),z=n(14199),V=n(87251),W=n(36643),G=n(84726);const q=e=>{var t=e.setBlurred,n=(0,G.rV)(),a=n.settings,r=a.email,s=a.allowFindByEmail,i=n.set,l=(0,h.bp)(),c=l._t,d=l._c,u=l.apiFetch,p=(0,o.useState)(!1),g=f()(p,2),b=g[0],E=g[1],y=(0,o.useState)(!1),w=f()(y,2),P=w[0],S=w[1],T=(0,o.useState)(r),N=f()(T,2),I=N[0],R=N[1],M=(0,o.useState)(""),A=f()(M,2),B=A[0],Z=A[1],L=(0,o.useState)({emailAddress:!1,password:!1}),O=f()(L,2),D=O[0],q=O[1];(0,o.useEffect)((()=>R(r)),[r]);var j=function(){var e=v()(C().mark((function e(n){var a,o,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s=void 0,l=void 0,s=!1,l={emailAddress:!1,password:!1},0!==I.length||l.emailAddress||(l.emailAddress=d("Account settings email address empty error message","You need to enter an email address"),s=!0),0!==B.length||l.password||(l.password=d("Account settings password empty error message when changing email address","You need to enter your password to change your email address"),s=!0),q(l),!s){e.next=3;break}return e.abrupt("return");case 3:return S(!0),e.prev=4,e.next=7,(0,W.ZP)(u).changeEmailAddress(I,B).fetch();case 7:i("email",I),t(!1),E(!1),Z(""),q({emailAddress:!1,password:!1}),e.next=23;break;case 14:if(e.prev=14,e.t0=e.catch(4),!(400===(null===e.t0||void 0===e.t0?void 0:e.t0.status)&&(null===e.t0||void 0===e.t0||null===(a=e.t0.body)||void 0===a||null===(o=a.errors)||void 0===o?void 0:o.length)>0)){e.next=22;break}if(r={emailAddress:!1,password:!1},e.t0.body.errors.map((e=>{1030===(null==e?void 0:e.code)||1029===(null==e?void 0:e.code)?r.password=e.detail:1028===(null==e?void 0:e.code)&&(r.emailAddress=e.detail)})),!r.password&&!r.emailAddress){e.next=22;break}return q(r),e.abrupt("return");case 22:K();case 23:return e.prev=23,S(!1),e.finish(23);case 26:case"end":return e.stop()}var s,l}),e,null,[[4,14,23,26]])})));return function(t){return e.apply(this,arguments)}}(),K=()=>{E(!1),t(!1),R(r),Z(""),q({emailAddress:!1,password:!1})},Q=[{text:o.createElement(m.ZP,null,"Cancel"),label:c("Cancel changes"),onClick:K,buttonStyle:F.Z.Cancel,disabled:P,type:"button"},{text:P?o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Horizontal,color:x.paletteWhite}):o.createElement(m.ZP,null,"Save"),label:c("Save changes"),buttonStyle:F.Z.Confirm,disabled:P,type:"submit"}];return o.createElement(k.Z,{label:c("Email"),isFocused:b},o.createElement(V.Z,{controlled:!0,isOpen:b,onToggle:()=>{E(!0),t(!0)},label:{buttonLabel:c("Change your email address"),label:r}},o.createElement("form",{onSubmit:j},o.createElement(H.Z,{value:I,onChange:e=>R(e.target.value),error:D.emailAddress,placeholder:c("Your email address")}),o.createElement(H.Z,{value:B,onChange:e=>Z(e.target.value),placeholder:c("Confirm password"),type:"password",error:D.password}),o.createElement(F.C,{buttons:Q}))),o.createElement(z.Z,{onChange:e=>{i("allowFindByEmail",e.target.checked)},label:o.createElement(U.Z,null,o.createElement(m.ZP,null,"Let people find your blogs through this address.")),id:"find-you-via-email-toggle",checked:s}))};var j=n(81059);const K="OY7m1",Q="D9uaF",J="z3fHG";const Y=e=>{var t=e.onAdd,n=(0,h.bp)()._t,a=(0,o.useState)(""),r=f()(a,2),s=r[0],i=r[1];return o.createElement("form",{className:J,onSubmit:e=>{e.preventDefault(),i(""),t(s)}},o.createElement(H.Z,{placeholder:n("Add a filter"),onChange:e=>{i(e.target.value)},value:s,className:Q}),o.createElement(j.Z,{type:"submit",wrapperClassName:K,label:n("Add new filter")},n("Add")))};var X=n(95394),$=n.n(X);const ee="WufiE",te="pRdpD",ne="ApYbk";const ae=e=>{var t=e.filter,n=e.onRemove,a=e.prefix,r=(0,h.bp)()._t;return o.createElement("li",{className:te},o.createElement("span",{className:ne},a,t),o.createElement(j.Z,{onClick:e=>{e.preventDefault(),n(t)},wrapperClassName:ee,label:r("Remove filter")},o.createElement(m.ZP,null,"Remove")))},oe="QRLai";var re=["filters"];const se=e=>{var t=e.filters,n=l()(e,re);return o.createElement("ul",{className:oe},t.map((e=>o.createElement(ae,$()({key:e,filter:e},n)))))},ie="oWAHi",le="iAkIE";const ce=e=>{var t=e.filters,n=e.prefix,a=e.onItemClick;return o.createElement("ul",{className:ie},t.map((e=>o.createElement("li",{key:e,className:le,onClick:a},a?o.createElement("button",{type:"button",onClick:a},n,e):o.createElement(o.Fragment,null,n,e)))))},de="bW5Hw",ue="sZGoV";const pe=()=>{var e=(0,h.bp)()._t,t=(0,G.rV)(),n=t.settings.filteredContent,a=t.set;return o.createElement("div",{className:ue},o.createElement(U.Z,{className:de},o.createElement(m.ZP,null,"Filtered Post Content")," (",o.createElement("a",{href:"https://tumblr.zendesk.com/hc/articles/360046752174",target:"_blank"},o.createElement(m.ZP,null,"Help")),")"),o.createElement(V.Z,{label:{buttonLabel:e("Edit filtered content"),label:0===n.length?o.createElement(m.ZP,null,"You are not filtering any post content"):e=>o.createElement(ce,{filters:n,onItemClick:e})}},o.createElement(Y,{onAdd:e=>{-1===n.indexOf(e)&&0!==e.length&&a("filteredContent",[...n,e])}}),o.createElement(se,{filters:n,onRemove:e=>{-1!==n.indexOf(e)&&a("filteredContent",n.filter((t=>t!==e)))}})))};const me=()=>{var e=(0,G.rV)(),t=e.settings,n=e.toggle,a=o.useState(!1),r=f()(a,2),s=r[0],i=r[1],l=o.useCallback((()=>{n("hideSensitiveContent")(),i(!0)}),[n,i]);return o.createElement("div",{className:ue},o.createElement(U.Z,{className:de},o.createElement(m.ZP,null,"Sensitive Content")),o.createElement(z.Z,{onChange:l,label:o.createElement(m.ZP,null,"Hide Sensitive Content"),id:"hide-sensitive-content-toggle",helpText:o.createElement(m.ZP,null,"By default, we hide sensitive content in the Tumblr iOS app. Disable this setting to show sensitive content."),checked:t.hideSensitiveContent}),s&&o.createElement(U.Z,null,o.createElement(m.ZP,null,"You'll need to restart the iOS app for the setting to take effect.")))};const he=()=>{var e=(0,h.bp)()._t,t=(0,G.rV)(),n=t.settings.filteredTags,a=t.set;return o.createElement("div",{className:ue},o.createElement(U.Z,{className:de,id:"filtered-tags-heading"},o.createElement(m.ZP,null,"Filtered Tags")," (",o.createElement("a",{href:"https://tumblr.zendesk.com/hc/articles/360046752174",target:"_blank"},o.createElement(m.ZP,null,"Help")),")"),o.createElement(V.Z,{label:{buttonLabel:e("Edit filtered tags"),label:0===n.length?o.createElement(m.ZP,null,"You are not filtering any tags"):e=>o.createElement(ce,{filters:n,prefix:"#",onItemClick:e})}},o.createElement(Y,{onAdd:e=>{-1===n.indexOf(e)&&0!==e.length&&a("filteredTags",[...n,e])}}),o.createElement(se,{filters:n,onRemove:e=>{-1!==n.indexOf(e)&&a("filteredTags",n.filter((t=>t!==e)))},prefix:"#","aria-labelledby":"filtered-tags-heading"})))};const ge=()=>{var e=(0,h.bp)().features.safeModeToggle;return o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Filtering")},o.createElement(he,null),o.createElement(pe,null),e&&o.createElement(me,null))},ve="irkyW";const be=e=>o.createElement("select",$()({className:ve},e),e.children);var fe=n(46665);const Ee=()=>{var e=(0,G.rV)(),t=e.settings.language,n=e.set;return o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Language")},o.createElement(be,{onChange:e=>{n("language",e.target.value,!0)},value:t},Object.entries(fe.zX).map((e=>{var n=f()(e,2),a=n[0],r=n[1];return o.createElement("option",{value:a,key:a,"aria-selected":a===t},r.localizedName)}))))};var Ce=n(60352),ye=n.n(Ce),we=n(39501);const ke="yHeHp";const Pe=e=>{var t=e.setBlurred,n={currentPassword:!1,newPassword:!1,confirmedPassword:!1},a=(0,h.bp)(),r=a.apiFetch,s=a._t,i=(0,o.useState)(!1),l=f()(i,2),c=l[0],d=l[1],u=(0,o.useState)(!1),p=f()(u,2),g=p[0],b=p[1],E=(0,o.useState)(n),y=f()(E,2),w=y[0],P=y[1],S=(0,o.useState)(""),N=f()(S,2),I=N[0],R=N[1],M=(0,o.useState)(""),A=f()(M,2),B=A[0],Z=A[1],L=(0,o.useState)(""),O=f()(L,2),D=O[0],U=O[1],z=(0,o.useState)(0),G=f()(z,2),q=G[0],j=G[1],K=()=>{var e=!1,t={currentPassword:!1,newPassword:!1,confirmedPassword:!1};return I.length||(e=!0,t.currentPassword=s("Password is empty.")),B.length||(e=!0,t.newPassword=s("Password is empty.")),B.length&&B!==D&&(e=!0,t.confirmedPassword=s("Passwords don't match.")),P(t),e},Q=()=>{j(void 0),Z(""),R(""),U(""),P(n)},J=()=>{Q(),d(!1),t(!1)},Y=function(){var e=v()(C().mark((function e(t){var n,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!K()){e.next=3;break}return e.abrupt("return");case 3:return b(!0),e.prev=4,e.next=7,(0,W.ZP)(r).changePassword(I,B).fetch();case 7:J(),e.next=19;break;case 10:if(e.prev=10,e.t0=e.catch(4),!(400===e.t0.status&&(null===e.t0||void 0===e.t0||null===(n=e.t0.body)||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.length)>0)){e.next=18;break}if(o={currentPassword:!1,newPassword:!1,confirmedPassword:!1},e.t0.body.errors.map((e=>{o.currentPassword||1030!==(null==e?void 0:e.code)?o.newPassword||1029!==(null==e?void 0:e.code)||(o.newPassword=e.detail):o.currentPassword=e.detail})),!o.currentPassword&&!o.newPassword){e.next=18;break}return P(o),e.abrupt("return");case 18:J();case 19:return e.prev=19,b(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,10,19,22]])})));return function(t){return e.apply(this,arguments)}}(),X=(e,t)=>n=>{e(n.target.value),P((e=>Object.assign({},e,{[t]:!1})))},$=ye()((()=>{if(B.length)return(0,T.Vs)(r,{password:B}).fetch((e=>{var t=e.response;j(t.score)})).catch((()=>j(void 0)));j(void 0)}),250);(0,o.useEffect)((()=>{$()}),[B,$]);var ee=[{text:o.createElement(m.ZP,null,"Cancel"),label:s("Cancel"),onClick:()=>{Q(),d(!1),t(!1)},buttonStyle:F.Z.Cancel,disabled:g,type:"button"},{text:g?o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Horizontal,color:x.paletteWhite}):o.createElement(m.ZP,null,"Change password"),label:s("Change password"),buttonStyle:F.Z.Confirm,disabled:g,type:"submit"}];return o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Password"),isFocused:c},o.createElement(V.Z,{controlled:!0,isOpen:c,onToggle:()=>{d(!0),t(!0)},label:{buttonLabel:s("Change your password"),label:"••••••••••"}},o.createElement("form",{method:"post",onSubmit:Y},o.createElement(H.Z,{name:"current-password",placeholder:s("Current password"),type:"password",value:I,onChange:X(R,"currentPassword"),error:w.currentPassword}),o.createElement(H.Z,{name:"new-password",placeholder:s("New password"),type:"password",value:B,onChange:X(Z,"newPassword"),suffix:o.createElement(we.Z,{score:q,className:ke}),error:w.newPassword}),o.createElement(H.Z,{name:"confirm-password",placeholder:s("Confirm new password"),type:"password",value:D,onChange:X(U,"confirmedPassword"),error:w.confirmedPassword}),o.createElement(F.C,{buttons:ee}))))};const Se=e=>{var t=e.onStart,n=e.onEnd,a=e.onCancel,r=e.confirmLabel,s=e.cancelLabel,i=e.className,l=e.inputPlaceholder,c=e.label,d=e.confirmStyle,u=void 0===d?F.Z.Confirm:d,p=e.cancelStyle,g=void 0===p?F.Z.Cancel:p,b=(0,h.bp)(),E=b._t,y=b.apiFetch,w=(0,o.useState)(!1),k=f()(w,2),P=k[0],S=k[1],T=(0,o.useState)(""),x=f()(T,2),I=x[0],R=x[1],M=(0,o.useState)(""),A=f()(M,2),B=A[0],Z=A[1],L=function(){var e=v()(C().mark((function e(){var a,o,r,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==t||t(),S(!0),e.prev=2,e.next=5,y("/v2/password/confirm",{method:"POST",body:{password:I}});case 5:n(!0,I),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),400===(null===e.t0||void 0===e.t0?void 0:e.t0.status)&&1030===(null===e.t0||void 0===e.t0||null===(a=e.t0.body)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.code)&&Z(null===e.t0||void 0===e.t0||null===(r=e.t0.body)||void 0===r||null===(s=r.errors[0])||void 0===s?void 0:s.detail),n(!1,I);case 12:return e.prev=12,R(""),S(!1),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[2,8,12,16]])})));return function(){return e.apply(this,arguments)}}(),O=[{text:s||o.createElement(m.ZP,null,"Cancel"),onClick:()=>{R(""),a()},buttonStyle:g,disabled:P},{text:P?o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Horizontal,color:N().paletteWhite}):r||o.createElement(m.ZP,null,"Check password"),disabled:P||0===I.length,onClick:L,buttonStyle:u}];return o.createElement("div",{className:i},c,o.createElement(H.Z,{placeholder:l||E("Account password"),type:"password",autoComplete:"current-password",onChange:e=>R(e.target.value),value:I,error:B}),o.createElement(F.C,{buttons:O}))};var Te=n(55383);const xe="Mx5PA",Ne="cS1BO";const Ie=e=>{var t=e.onCancel,n=e.onConfirmed,a=e.password,r=(0,h.bp)(),s=r._t,i=r.apiFetch,l=(0,o.useState)(!1),c=f()(l,2),d=c[0],u=c[1],p=(0,o.useState)(null),g=f()(p,2),b=g[0],E=g[1],y=(0,o.useState)(""),w=f()(y,2),k=w[0],P=w[1],S=(0,o.useState)(!1),T=f()(S,2),x=T[0],I=T[1];(0,o.useEffect)((()=>{v()(C().mark((function e(){var t,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("/v2/user/tfa/totp/start",{method:"POST",body:{password:a}});case 2:null!=(n=e.sent)&&null!==(t=n.response)&&void 0!==t&&t.totpQrcode&&E(n.response.totpQrcode.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})));case 4:case"end":return e.stop()}}),e)})))()}),[]);var R=function(){var e=v()(C().mark((function e(t){var o,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),6===k.length){e.next=3;break}return e.abrupt("return");case 3:return u(!0),e.prev=4,e.next=7,i("/v2/user/tfa/totp/verify",{method:"POST",body:{password:a,token:k}});case 7:n(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),I(null===e.t0||void 0===e.t0||null===(o=e.t0.body)||void 0===o||null===(r=o.errors[0])||void 0===r?void 0:r.detail);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),M=[{text:o.createElement(m.ZP,null,"Cancel"),onClick:t,buttonStyle:F.Z.Cancel,disabled:d,type:"button"},{text:d?o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Horizontal}):o.createElement(m.ZP,null,"Enable"),disabled:d||6!==k.length,buttonStyle:F.Z.Confirm,type:"submit"}];return o.createElement("form",{className:Ne,onSubmit:R},o.createElement("div",null,o.createElement(U.Z,null,o.createElement(m.ZP,null,"Use the authenticator app to scan the barcode below")),b?o.createElement(Te.Z,{value:b,size:130}):o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Vertical,color:N().paletteGray40})),o.createElement("div",null,o.createElement(U.Z,{as:"label",htmlFor:"authenticator-code"},o.createElement(m.ZP,null,"Enter the code generated by the authenticator app")),o.createElement(H.Z,{name:"code",placeholder:s("Enter 6-digit code"),value:k,onChange:e=>{P(e.target.value)},maxLength:6,minLength:6,id:"authenticator-code",error:x})),o.createElement(F.C,{buttons:M}))};var Re;!function(e){e.Enabled="enabled",e.Disabled="disabled",e.Enabling="enabling",e.Disabling="disabling"}(Re||(Re={}));const Me=e=>{var t=e.password,n=e.setBlurred,a=(0,G.rV)(),r=a.settings.tfaAuthenticatorEnabled,s=a.set,i=(0,h.bp)().apiFetch,l=(0,o.useState)(r?Re.Enabled:Re.Disabled),c=f()(l,2),d=c[0],u=c[1];o.useEffect((()=>{u(r?Re.Enabled:Re.Disabled)}),[r]),o.useEffect((()=>{n(d===Re.Disabling)}),[d,n]);var p=()=>{switch(d){case Re.Enabled:u(Re.Disabling);break;case Re.Disabled:u(Re.Enabling);break;case Re.Disabling:u(Re.Enabled);break;case Re.Enabling:u(Re.Disabled)}},g=function(){var e=v()(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i("/v2/user/tfa/totp/disable",{method:"POST",body:{password:n}});case 5:s("tfaAuthenticatorEnabled",!1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}();return o.createElement(o.Fragment,null,o.createElement(z.Z,{controlled:!0,checked:d!==Re.Disabled,label:o.createElement(m.ZP,null,"Generate code via authenticator app"),id:"use-authenticator-app-toggle",onChange:p}),d===Re.Enabling&&o.createElement(Ie,{onCancel:()=>{u(Re.Disabled)},password:t,onConfirmed:()=>{s("tfaAuthenticatorEnabled",!0)}}),d===Re.Disabling&&o.createElement(Se,{className:xe,label:o.createElement(U.Z,null,o.createElement(m.ZP,null,"If you disable the authenticator app, you will not be able to login without receiving the code via SMS.")),onEnd:g,onCancel:p,confirmLabel:o.createElement(m.ZP,null,"Disable"),confirmStyle:F.Z.Danger}))},Ae="AYoSP";const Be=e=>{var t,n=e.tfaAuthenticatorEnabled,a=e.tfaSmsEnabled,r=e.isChecked,s=e.changeCheckbox,i=e.twoFactorEnabled,l=e.state;return o.createElement(z.Z,{label:o.createElement("div",{className:Ae},o.createElement("span",null,o.createElement(m.ZP,null,"Two-factor authentication")),o.createElement(U.Z,{as:"small"},(t="",a&&n?t=o.createElement(m.ZP,null,"via SMS and authenticator app"):a?t=o.createElement(m.ZP,null,"via SMS"):n&&(t=o.createElement(m.ZP,null,"via authenticator app")),t))),id:"two-factor-auth-toggle",checked:r,controlled:!0,onChange:s,helpText:!i&&l!==je.Enabling&&o.createElement(m.ZP,null,"Enabling two factor authentication makes it extra difficult for anyone other than you to access your account. Learn more.")})};var Ze;!function(e){e.AD="Andorra",e.AE="United Arab Emirates",e.AF="Afghanistan",e.AG="Antigua And Barbuda",e.AI="Anguilla",e.AL="Albania",e.AM="Armenia",e.AN="Netherlands Antilles",e.AO="Angola",e.AQ="Antarctica",e.AR="Argentina",e.AS="American Samoa",e.AT="Austria",e.AU="Australia",e.AW="Aruba",e.AX="ÅLand Islands",e.AZ="Azerbaijan",e.BA="Bosnia And Herzegovina",e.BB="Barbados",e.BD="Bangladesh",e.BE="Belgium",e.BF="Burkina Faso",e.BG="Bulgaria",e.BH="Bahrain",e.BI="Burundi",e.BJ="Benin",e.BL="Saint Barthélemy",e.BM="Bermuda",e.BN="Brunei Darussalam",e.BO="Bolivia",e.BR="Brazil",e.BS="Bahamas",e.BT="Bhutan",e.BV="Bouvet Island",e.BW="Botswana",e.BY="Belarus",e.BZ="Belize",e.CA="Canada",e.CC="Cocos Islands",e.CD="Congo",e.CF="Central African Republic",e.CG="Congo",e.CH="Switzerland",e.CI="Côte D'ivoire",e.CK="Cook Islands",e.CL="Chile",e.CM="Cameroon",e.CN="China",e.CO="Colombia",e.CR="Costa Rica",e.CU="Cuba",e.CV="Cape Verde",e.CW="Curacao",e.CX="Christmas Island",e.CY="Cyprus",e.CZ="Czech Republic",e.DE="Germany",e.DJ="Djibouti",e.DK="Denmark",e.DM="Dominica",e.DO="Dominican Republic",e.DZ="Algeria",e.EC="Ecuador",e.EE="Estonia",e.EG="Egypt",e.EH="Western Sahara",e.ER="Eritrea",e.ES="Spain",e.ET="Ethiopia",e.FI="Finland",e.FJ="Fiji",e.FK="Falkland Islands",e.FM="Micronesia",e.FO="Faroe Islands",e.FR="France",e.GA="Gabon",e.GB="United Kingdom",e.GD="Grenada",e.GE="Georgia",e.GF="French Guiana",e.GG="Guernsey",e.GH="Ghana",e.GI="Gibraltar",e.GL="Greenland",e.GM="Gambia",e.GN="Guinea",e.GP="Guadeloupe",e.GQ="Equatorial Guinea",e.GR="Greece",e.GS="South Georgia",e.GT="Guatemala",e.GU="Guam",e.GW="Guinea-bissau",e.GY="Guyana",e.HK="Hong Kong",e.HM="Heard Island And Mcdonald Islands",e.HN="Honduras",e.HR="Croatia",e.HT="Haiti",e.HU="Hungary",e.ID="Indonesia",e.IE="Ireland",e.IL="Israel",e.IM="Isle Of Man",e.IN="India",e.IO="Indian Ocean",e.IQ="Iraq",e.IR="Iran",e.IS="Iceland",e.IT="Italy",e.JE="Jersey",e.JM="Jamaica",e.JO="Jordan",e.JP="Japan",e.KE="Kenya",e.KG="Kyrgyzstan",e.KH="Cambodia",e.KI="Kiribati",e.KM="Comoros",e.KN="Saint Kitts And Nevis",e.KP="North Korea",e.KR="Korea",e.KW="Kuwait",e.KY="Cayman Islands",e.KZ="Kazakhstan",e.LA="Lao People's Democratic Republic",e.LB="Lebanon",e.LC="Saint Lucia",e.LI="Liechtenstein",e.LK="Sri Lanka",e.LR="Liberia",e.LS="Lesotho",e.LT="Lithuania",e.LU="Luxembourg",e.LV="Latvia",e.LY="Libyan Arab Jamahiriya",e.MA="Morocco",e.MC="Monaco",e.MD="Moldova",e.ME="Montenegro",e.MF="Saint Martin",e.MG="Madagascar",e.MH="Marshall Islands",e.MK="Macedonia",e.ML="Mali",e.MM="Myanmar",e.MN="Mongolia",e.MO="Macao",e.MP="Northern Mariana Islands",e.MQ="Martinique",e.MR="Mauritania",e.MS="Montserrat",e.MT="Malta",e.MU="Mauritius",e.MV="Maldives",e.MW="Malawi",e.MX="Mexico",e.MY="Malaysia",e.MZ="Mozambique",e.NA="Namibia",e.NC="New Caledonia",e.NE="Niger",e.NF="Norfolk Island",e.NG="Nigeria",e.NI="Nicaragua",e.NL="Netherlands",e.NO="Norway",e.NP="Nepal",e.NR="Nauru",e.NU="Niue",e.NZ="New Zealand",e.OM="Oman",e.PA="Panama",e.PE="Peru",e.PF="French Polynesia",e.PG="Papua New Guinea",e.PH="Philippines",e.PK="Pakistan",e.PL="Poland",e.PM="Saint Pierre And Miquelon",e.PN="Pitcairn",e.PR="Puerto Rico",e.PS="Palestinian Territory",e.PT="Portugal",e.PW="Palau",e.PY="Paraguay",e.QA="Qatar",e.RE="Reunion",e.RO="Romania",e.RS="Serbia",e.RU="Russian Federation",e.RW="Rwanda",e.SA="Saudi Arabia",e.SB="Solomon Islands",e.SC="Seychelles",e.SD="Sudan",e.SE="Sweden",e.SG="Singapore",e.SH="Saint Helena",e.SI="Slovenia",e.SJ="Svalbard And Jan Mayen",e.SK="Slovakia",e.SL="Sierra Leone",e.SM="San Marino",e.SN="Senegal",e.SO="Somalia",e.SR="Suriname",e.SS="South Sudan",e.ST="Sao Tome And Principe",e.SV="El Salvador",e.SY="Syrian Arab Republic",e.SZ="Swaziland",e.TC="Turks And Caicos Islands",e.TD="Chad",e.TF="French Southern Territories",e.TG="Togo",e.TH="Thailand",e.TI="Tibet",e.TJ="Tajikistan",e.TK="Tokelau",e.TL="Timor-leste",e.TM="Turkmenistan",e.TN="Tunisia",e.TO="Tonga",e.TR="Turkey",e.TT="Trinidad And Tobago",e.TV="Tuvalu",e.TW="Taiwan",e.TZ="Tanzania",e.UA="Ukraine",e.UG="Uganda",e.UM="U.S. Territory",e.US="United States",e.UY="Uruguay",e.UZ="Uzbekistan",e.VA="Vatican City",e.VC="Saint Vincent",e.VE="Venezuela",e.VG="British Virgin Islands",e.VI="U.S. Virgin Islands",e.VN="Viet Nam",e.VU="Vanuatu",e.WF="Wallis And Futuna",e.WS="Samoa",e.XK="Kosovo",e.YE="Yemen",e.YT="Mayotte",e.ZA="South Africa",e.ZM="Zambia",e.ZW="Zimbabwe"}(Ze||(Ze={}));var Le={[Ze.AF]:"+93",[Ze.AL]:"+355",[Ze.AX]:"+358",[Ze.DZ]:"+213",[Ze.AS]:"+1 684",[Ze.AD]:"+376",[Ze.AO]:"+244",[Ze.AI]:"+1 264",[Ze.AQ]:"+672",[Ze.AG]:"+1 268",[Ze.AR]:"+54",[Ze.AM]:"+374",[Ze.AW]:"+297",[Ze.AU]:"+61",[Ze.AT]:"+43",[Ze.AZ]:"+994",[Ze.BS]:"+1 242",[Ze.BH]:"+973",[Ze.BD]:"+880",[Ze.BB]:"+1 246",[Ze.BY]:"+375",[Ze.BE]:"+32",[Ze.BZ]:"+501",[Ze.BJ]:"+229",[Ze.BM]:"+1 441",[Ze.BT]:"+975",[Ze.BV]:"+55",[Ze.BO]:"+591",[Ze.BA]:"+387",[Ze.BW]:"+267",[Ze.BR]:"+55",[Ze.VG]:"+1 284",[Ze.BN]:"+673",[Ze.BG]:"+359",[Ze.BF]:"+226",[Ze.MM]:"+95",[Ze.BI]:"+257",[Ze.KH]:"+855",[Ze.CM]:"+237",[Ze.CA]:"+1",[Ze.CV]:"+238",[Ze.KY]:"+1 345",[Ze.CF]:"+236",[Ze.TD]:"+235",[Ze.CL]:"+56",[Ze.CN]:"+86",[Ze.CX]:"+61",[Ze.CC]:"+61",[Ze.CO]:"+57",[Ze.KM]:"+269",[Ze.CK]:"+682",[Ze.CR]:"+506",[Ze.HR]:"+385",[Ze.CU]:"+53",[Ze.CW]:"+599",[Ze.CY]:"+357",[Ze.CZ]:"+420",[Ze.CD]:"+243",[Ze.DK]:"+45",[Ze.DJ]:"+253",[Ze.DM]:"+1 767",[Ze.DO]:"+1 809",[Ze.EC]:"+593",[Ze.EG]:"+20",[Ze.EH]:"+212",[Ze.SV]:"+503",[Ze.GQ]:"+240",[Ze.ER]:"+291",[Ze.EE]:"+372",[Ze.ET]:"+251",[Ze.FK]:"+500",[Ze.FO]:"+298",[Ze.FJ]:"+679",[Ze.FI]:"+358",[Ze.FR]:"+33",[Ze.PF]:"+689",[Ze.GA]:"+241",[Ze.GM]:"+220",[Ze.GE]:"+995",[Ze.GF]:"+594",[Ze.GG]:"+44",[Ze.DE]:"+49",[Ze.GH]:"+233",[Ze.GI]:"+350",[Ze.GR]:"+30",[Ze.GS]:"+500",[Ze.GL]:"+299",[Ze.GD]:"+1 473",[Ze.GU]:"+1 671",[Ze.GT]:"+502",[Ze.GN]:"+224",[Ze.GP]:"+590",[Ze.GW]:"+245",[Ze.GY]:"+592",[Ze.HT]:"+509",[Ze.VA]:"+39",[Ze.HN]:"+504",[Ze.HK]:"+852",[Ze.HM]:"+672",[Ze.HU]:"+36",[Ze.IS]:"+354",[Ze.IN]:"+91",[Ze.IO]:"+246",[Ze.ID]:"+62",[Ze.IR]:"+98",[Ze.IQ]:"+964",[Ze.IE]:"+353",[Ze.IM]:"+44",[Ze.IL]:"+972",[Ze.IT]:"+39",[Ze.JE]:"+44",[Ze.CI]:"+225",[Ze.JM]:"+1 876",[Ze.JP]:"+81",[Ze.JO]:"+962",[Ze.KZ]:"+7",[Ze.KE]:"+254",[Ze.KI]:"+686",[Ze.KW]:"+965",[Ze.KG]:"+996",[Ze.LA]:"+856",[Ze.LV]:"+371",[Ze.LB]:"+961",[Ze.LS]:"+266",[Ze.LR]:"+231",[Ze.LY]:"+218",[Ze.LI]:"+423",[Ze.LT]:"+370",[Ze.LU]:"+352",[Ze.MO]:"+853",[Ze.MK]:"+389",[Ze.MG]:"+261",[Ze.MW]:"+265",[Ze.MY]:"+60",[Ze.MV]:"+960",[Ze.ML]:"+223",[Ze.MT]:"+356",[Ze.MH]:"+692",[Ze.MR]:"+222",[Ze.MU]:"+230",[Ze.YT]:"+262",[Ze.MX]:"+52",[Ze.FM]:"+691",[Ze.MD]:"+373",[Ze.MC]:"+377",[Ze.MN]:"+976",[Ze.ME]:"+382",[Ze.MS]:"+1 664",[Ze.MA]:"+212",[Ze.MZ]:"+258",[Ze.NA]:"+264",[Ze.NR]:"+674",[Ze.NP]:"+977",[Ze.NL]:"+31",[Ze.AN]:"+599",[Ze.NC]:"+687",[Ze.NZ]:"+64",[Ze.NI]:"+505",[Ze.NE]:"+227",[Ze.NG]:"+234",[Ze.NU]:"+683",[Ze.KP]:"+850",[Ze.MP]:"+1 670",[Ze.NO]:"+47",[Ze.OM]:"+968",[Ze.PK]:"+92",[Ze.PW]:"+680",[Ze.PA]:"+507",[Ze.PG]:"+675",[Ze.PY]:"+595",[Ze.PE]:"+51",[Ze.PH]:"+63",[Ze.PN]:"+870",[Ze.PL]:"+48",[Ze.PT]:"+351",[Ze.PR]:"+1",[Ze.QA]:"+974",[Ze.CG]:"+242",[Ze.RO]:"+40",[Ze.RU]:"+7",[Ze.RW]:"+250",[Ze.BL]:"+590",[Ze.SH]:"+290",[Ze.KN]:"+1 869",[Ze.LC]:"+1 758",[Ze.MF]:"+1 599",[Ze.PM]:"+508",[Ze.VC]:"+1 784",[Ze.WS]:"+685",[Ze.SM]:"+378",[Ze.ST]:"+239",[Ze.SA]:"+966",[Ze.SN]:"+221",[Ze.RS]:"+381",[Ze.SC]:"+248",[Ze.SL]:"+232",[Ze.SG]:"+65",[Ze.SK]:"+421",[Ze.SI]:"+386",[Ze.SB]:"+677",[Ze.SO]:"+252",[Ze.ZA]:"+27",[Ze.KR]:"+82",[Ze.ES]:"+34",[Ze.LK]:"+94",[Ze.SD]:"+249",[Ze.SR]:"+597",[Ze.SZ]:"+268",[Ze.SE]:"+46",[Ze.CH]:"+41",[Ze.SY]:"+963",[Ze.TW]:"+886",[Ze.TJ]:"+992",[Ze.TZ]:"+255",[Ze.TH]:"+66",[Ze.TL]:"+670",[Ze.TG]:"+228",[Ze.TK]:"+690",[Ze.TO]:"+676",[Ze.TT]:"+1 868",[Ze.TN]:"+216",[Ze.TR]:"+90",[Ze.TM]:"+993",[Ze.TC]:"+1 649",[Ze.TV]:"+688",[Ze.UG]:"+256",[Ze.UA]:"+380",[Ze.AE]:"+971",[Ze.GB]:"+44",[Ze.US]:"+1",[Ze.UY]:"+598",[Ze.VI]:"+1 340",[Ze.UZ]:"+998",[Ze.VU]:"+678",[Ze.VE]:"+58",[Ze.VN]:"+84",[Ze.WF]:"+681",[Ze.YE]:"+967",[Ze.ZM]:"+260",[Ze.ZW]:"+263",[Ze.MQ]:"+596",[Ze.NF]:"+672",[Ze.PS]:"+970",[Ze.RE]:"+262",[Ze.SJ]:"+47",[Ze.SS]:"+211",[Ze.TF]:"+262",[Ze.TI]:"+86",[Ze.UM]:"+1",[Ze.XK]:"+383"};const Oe="FuD76",De="c4pHa";const Fe=e=>{var t=e.onCancel,n=e.onGetToken,a=e.password,r=(0,h.bp)(),s=r._t,i=r.apiFetch,l=(0,o.useState)(!1),c=f()(l,2),d=c[0],u=c[1],p=(0,o.useState)("US"),g=f()(p,2),b=g[0],E=g[1],y=(0,o.useState)(""),w=f()(y,2),k=w[0],P=w[1],S=(0,o.useState)(null),T=f()(S,2),x=T[0],I=T[1],R=function(){var e=v()(C().mark((function e(t){var o,r,s,l,c;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==k.length){e.next=3;break}return e.abrupt("return");case 3:return u(!0),e.prev=4,e.next=7,i("/v2/user/tfa/sms/start",{method:"POST",body:{country_code:Le[Ze[b]],phone_no:k,password:a}});case 7:s=e.sent,n(null==s||null===(o=s.response)||void 0===o?void 0:o.tfaFormKey,null==s||null===(r=s.response)||void 0===r?void 0:r.phoneNo),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),I(null===e.t0||void 0===e.t0||null===(l=e.t0.body)||void 0===l||null===(c=l.errors[0])||void 0===c?void 0:c.detail);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),M=[{text:o.createElement(m.ZP,null,"Cancel"),onClick:t,buttonStyle:F.Z.Cancel,disabled:d,type:"button"},{text:d?o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Horizontal,color:N().paletteWhite}):o.createElement(m.ZP,null,"Enable"),disabled:d||0===k.length,buttonStyle:F.Z.Confirm,type:"submit"}];return o.createElement("form",{className:De,onSubmit:R},o.createElement("select",{defaultValue:b,onBlur:e=>{E(e.target.value)},className:Oe},Object.entries(Ze).map((e=>{var t=f()(e,2),n=t[0],a=t[1];return o.createElement("option",{key:n,value:n,"aria-selected":n===b},a)}))),o.createElement(H.Z,{name:"mobile_number",placeholder:s("Mobile Number"),value:k,onChange:e=>{P(e.target.value)},prefix:Le[Ze[b]],error:x}),o.createElement(F.C,{buttons:M}))};const _e=e=>{var t=e.token,n=e.onCancel,a=e.onConfirmed,r=e.password,s=(0,h.bp)(),i=s._t,l=s.apiFetch,c=(0,o.useState)(!1),d=f()(c,2),u=d[0],p=d[1],g=(0,o.useState)(""),b=f()(g,2),E=b[0],y=b[1],w=(0,o.useState)(!1),k=f()(w,2),P=k[0],S=k[1],T=function(){var e=v()(C().mark((function e(n){var o,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),6===E.length){e.next=3;break}return e.abrupt("return");case 3:return p(!0),e.prev=4,e.next=7,l("/v2/user/tfa/sms/verify",{method:"POST",body:{form_key:t,token:E,password:r}});case 7:a(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),S(null===e.t0||void 0===e.t0||null===(o=e.t0.body)||void 0===o||null===(s=o.errors[0])||void 0===s?void 0:s.detail);case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),x=[{text:o.createElement(m.ZP,null,"Cancel"),onClick:n,buttonStyle:F.Z.Cancel,disabled:u,type:"button"},{text:u?o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Horizontal,color:N().paletteWhite}):o.createElement(m.ZP,null,"Enable"),disabled:u||6!==E.length,buttonStyle:F.Z.Confirm,type:"submit"}];return o.createElement("form",{style:{marginBottom:50},onSubmit:T},o.createElement(U.Z,{as:"label",style:{marginBottom:20}},"Confirm mobile number"),o.createElement(H.Z,{name:"code",placeholder:i("Enter 6-digit code"),value:E,onChange:e=>{y(e.target.value)},maxLength:6,minLength:6,error:P}),o.createElement(F.C,{buttons:x}))},He="FPcze",Ue="Ww_QU";var ze;!function(e){e.Enabled="enabled",e.Disabled="disabled",e.Enabling="enabling",e.Disabling="disabling",e.ConfirmToken="confirm-token"}(ze||(ze={}));const Ve=e=>{var t=e.password,n=e.setBlurred,a=(0,G.rV)(),r=a.settings,s=r.tfaSmsEnabled,i=r.tfaSmsPhoneNo,l=a.set,c=a.merge,d=(0,h.bp)().apiFetch,u=(0,o.useState)(null),p=f()(u,2),g=p[0],b=p[1],E=(0,o.useState)(s?ze.Enabled:ze.Disabled),y=f()(E,2),w=y[0],k=y[1];o.useEffect((()=>{k(s?ze.Enabled:ze.Disabled)}),[s]),o.useEffect((()=>{n(w===ze.Disabling)}),[w]);var P=()=>{switch(w){case ze.Enabled:k(ze.Disabling);break;case ze.Disabled:k(ze.Enabling);break;case ze.Disabling:k(ze.Enabled);break;case ze.Enabling:k(ze.Disabled)}},S=()=>{k(ze.Disabled),b(null),l("tfaSmsPhoneNo","")},T=function(){var e=v()(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,d("/v2/user/tfa/sms/disable",{method:"POST",body:{password:n}});case 5:c({tfaSmsEnabled:!1,tfaSmsPhoneNo:""}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}();return w===ze.ConfirmToken&&g&&t?o.createElement(_e,{token:g,onCancel:S,password:t,onConfirmed:()=>{l("tfaSmsEnabled",!0)}}):o.createElement(o.Fragment,null,o.createElement(z.Z,{controlled:!0,checked:w!==ze.Disabled,label:o.createElement("div",{className:He},o.createElement("span",null,o.createElement(m.ZP,null,"Send code via SMS")),w===ze.Enabled&&o.createElement(U.Z,{as:"span"},"+",i)),id:"send-code-via-sms-toggle",helpText:o.createElement(m.ZP,null,"Standard messaging rates apply"),onChange:P}),w===ze.Enabling&&o.createElement(Fe,{onCancel:S,onGetToken:(e,t)=>{k(ze.ConfirmToken),b(e),l("tfaSmsPhoneNo",t)},password:t}),w===ze.Disabling&&o.createElement(Se,{className:Ue,label:o.createElement(U.Z,null,o.createElement(m.ZP,null,"Disable automatic SMS for Two-Factor Authentication")),onEnd:T,onCancel:P,confirmLabel:o.createElement(m.ZP,null,"Disable"),confirmStyle:F.Z.Danger}))},We="vffsM",Ge="tdnMh",qe="SkFZP";var je;!function(e){e.Default="default",e.Enabling="enabling",e.Disabling="disabling",e.Editing="editing"}(je||(je={}));const Ke=e=>{var t=e.unlocked,n=e.lock,a=e.unlock,r=e.password,s=e.setBlurred,i=(0,h.bp)(),l=i._t,d=i.apiFetch,u=(0,G.rV)(),p=u.settings,g=p.tfaAuthenticatorEnabled,b=p.tfaSmsEnabled,E=u.merge,y=b||g,w=(0,o.useState)(je.Default),k=f()(w,2),P=k[0],S=k[1],T=y||P===je.Enabling,x=function(){var e=v()(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("/v2/user/tfa/disable",{method:"POST",body:{password:t}});case 3:E({tfaSmsEnabled:!1,tfaAuthenticatorEnabled:!1,tfaSmsPhoneNo:""}),s(!1),S(je.Default),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=v()(C().mark((function e(t,o){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n(),e.abrupt("return");case 3:if(P!==je.Disabling){e.next=7;break}return e.next=6,x(o);case 6:return e.abrupt("return");case 7:a(o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return o.createElement(V.Z,{label:{buttonLabel:l("Change your two-factor authentication settings"),label:o.createElement(Be,{tfaSmsEnabled:b,tfaAuthenticatorEnabled:g,isChecked:T,changeCheckbox:e=>{y?(S(e.target.checked?je.Default:je.Disabling),s(!e.target.checked)):(S(e.target.checked?je.Enabling:je.Default),n())},twoFactorEnabled:y,state:P}),hideWhenEditing:!1,showEditButton:y},controlled:!0,isOpen:P!==je.Default,onToggle:e=>S(e?je.Editing:je.Default),contentClassName:We,aboveBlurWhenOpen:!1},P===je.Disabling&&o.createElement(U.Z,{className:qe},o.createElement(m.ZP,null,"We strongly advise against this. Your account is far less likely to get compromised if you've enabled Two-Factor Authentication.")),(!t||P===je.Disabling)&&o.createElement(Se,{onEnd:N,onCancel:()=>{S(je.Default),s(!1)},confirmLabel:P===je.Enabling&&o.createElement(m.ZP,null,"Enable")||P===je.Disabling&&o.createElement(m.ZP,null,"Disable"),confirmStyle:F.Z.Danger,label:P===je.Disabling&&o.createElement(U.Z,null,o.createElement(m.ZP,null,"But if you must, enter your password below:")),className:(0,c.Z)({[qe]:P===je.Disabling})}),t&&o.createElement(o.Fragment,null,o.createElement(U.Z,{className:Ge},"Each time you log in, you'll receive a unique, single-use code via text or through an authenticator app—your choice."," ",o.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication"},"Learn more")),o.createElement(Ve,{password:r,setBlurred:s}),o.createElement(Me,{password:r,setBlurred:s})))};var Qe=n(80630),Je=n(22320),Ye=(0,Qe.qv)(o.createElement("svg",{viewBox:"0 0 297 619"},o.createElement("path",{d:"M53.842 0h189.316c18.722 0 25.511 1.95 32.356 5.61 6.844 3.66 12.216 9.032 15.876 15.876 3.66 6.845 5.61 13.634 5.61 32.356v511.316c0 18.722-1.95 25.511-5.61 32.356-3.66 6.844-9.032 12.216-15.876 15.876-6.845 3.66-13.634 5.61-32.356 5.61H53.842c-18.722 0-25.511-1.95-32.356-5.61-6.844-3.66-12.216-9.032-15.876-15.876C1.95 590.669 0 583.88 0 565.158V53.842C0 35.12 1.95 28.33 5.61 21.486 9.27 14.642 14.642 9.27 21.486 5.61 28.331 1.95 35.12 0 53.842 0zM16.226 544.618h264.548V73.368H16.226v471.25zm133.333 58.553c12.467 0 22.574-10.107 22.574-22.575s-10.107-22.575-22.574-22.575c-12.468 0-22.576 10.107-22.576 22.575s10.108 22.575 22.576 22.575z"})));Ye.defaultProps={size:Je.Z.desktop.reblogIconSize,fill:x.white};const Xe=Ye,$e={wrapper:"FyNuo",lock:"QpFlt",generateButton:"ha0dc",otpWrapper:"AspDb",newPasswordButton:"HLnJd",otp:"d8HPJ"};const et=e=>{var t=e.unlocked,n=e.unlock,a=e.password,r=(0,h.bp)().apiFetch,s=(0,o.useState)(!1),i=f()(s,2),l=i[0],c=i[1],d=(0,o.useState)(null),u=f()(d,2),p=u[0],g=u[1],b=(0,o.useState)(!1),E=f()(b,2),y=E[0],w=E[1],k=function(){var e=v()(C().mark((function e(t){var n,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,r("/v2/user/tfa/generate_otp",{method:"POST",body:{password:t}});case 4:a=e.sent,g(null==a||null===(n=a.response)||void 0===n?void 0:n.otp),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,w(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,8,10,13]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=v()(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=3;break}return c(!0),e.abrupt("return");case 3:return e.next=5,k(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=v()(C().mark((function e(t,a){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n(a),c(!1),e.next=6,k(a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return o.createElement("div",{className:$e.wrapper},o.createElement("div",{className:$e.lock},o.createElement(Xe,{size:{width:40,height:51},fill:N().paletteGray80})),o.createElement("div",{className:$e.content},l&&o.createElement(Se,{onEnd:S,onCancel:()=>{c(!1)}}),!l&&!p&&!y&&o.createElement(F.C,{buttons:[{text:o.createElement(m.ZP,null,"Generate app password"),onClick:P,buttonStyle:F.Z.Neutral}]}),t&&(y||p)&&o.createElement("div",{className:$e.otpWrapper},y&&o.createElement(_.Z,{small:!0,centerOrientation:_.Q.Horizontal,color:N().transparentBlack75}),!y&&o.createElement(o.Fragment,null,o.createElement("span",{className:$e.otp},p),o.createElement(j.Z,{type:"button",onClick:P,className:$e.newPasswordButton},o.createElement(m.ZP,null,"New password")))),o.createElement(U.Z,{style:{marginTop:10}},o.createElement(m.ZP,null,"Some apps require a specific one-time-use password to access your Tumblr account. Get one here."))))};var tt=n(18174),nt=n(79153),at=["children"];const ot=e=>{var t=e.children,n=l()(e,at),a=(0,o.useState)(null),r=f()(a,2),s=r[0],i=r[1];return o.useEffect((()=>{var e=(e=>{var t=e.target,n=void 0===t?"":t,a=e.title,o=void 0===a?"":a,r=e.bodyClassName,s=e.onClose,i=e.onMount,l=window.open("",n),c=null;return l&&(l.document.body.innerHTML="",r&&l.document.body.classList.add(r),c=l.document.createElement("div"),l.document.body.appendChild(c),Array.from(document.styleSheets).forEach((e=>{var t,n=e;if(e.href){var a=l.document.createElement("link");a.rel="stylesheet",a.href=e.href,l.document.head.appendChild(a)}else if((null==n||null===(t=n.cssRules)||void 0===t?void 0:t.length)>0){var o=l.document.createElement("style");Array.from(n.cssRules).forEach((e=>{o.appendChild(l.document.createTextNode(e.cssText))})),l.document.head.appendChild(o)}})),l.document.title=o,l.addEventListener("beforeunload",(()=>{s&&s()})),i&&i(l)),{externalWindow:l,containerElement:c}})(n),t=e.externalWindow,a=e.containerElement;return i(a),()=>null==t?void 0:t.close()}),[]),s?nt.createPortal(t,s):null},rt="Iaw2_",st="K1HxJ",it="lwRBs",lt="CUUVy",ct="oqOHo";const dt=e=>{var t=e.backupCodes,n=e.onClose;return o.createElement(ot,{bodyClassName:rt,onMount:e=>{e.focus(),setTimeout((()=>{e.print()}),500)},onClose:n,target:"TumblrBackupCodesPrintView"},o.createElement("div",{className:it},o.createElement("img",{src:"https://assets.tumblr.com/images/logo_page/1x/wordmark-black.png",srcSet:"https://assets.tumblr.com/images/logo_page/2x/wordmark-black@2x.png 2x",className:st,alt:"tumblr"}),o.createElement(U.Z,{className:lt},o.createElement(m.ZP,null,"Enter one of these backup codes when prompted for a two-factor authentication code. Keep in mind: Each code can only be used once. Learn more at https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication.")),o.createElement("div",{className:ct},t.map((e=>o.createElement("span",{key:e},e))))))},ut={wrapper:"Jki5o",lock:"qmVlD",generateButton:"hkcH8",printButton:"I2aAI",codeWrapper:"BVJcC",buttons:"UNRuR"};const pt=e=>{var t=e.unlocked,n=e.unlock,a=e.lock,r=e.password,s=(0,o.useState)(!1),i=f()(s,2),l=i[0],c=i[1],d=(0,o.useState)(!1),u=f()(d,2),p=u[0],g=u[1],b=(0,o.useState)([]),E=f()(b,2),y=E[0],w=E[1],k=(0,o.useState)(!1),P=f()(k,2),S=P[0],T=P[1],x=(0,h.bp)().apiFetch,I=function(){var e=v()(C().mark((function e(t){var n,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,x("/v2/user/tfa/generate_backup_codes",{method:"POST",body:{password:t}});case 4:a=e.sent,w(null==a||null===(n=a.response)||void 0===n?void 0:n.backupCodes),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,g(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,8,10,13]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=v()(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=3;break}return c(!0),e.abrupt("return");case 3:return e.next=5,I(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=v()(C().mark((function e(t,o){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return a(),c(!1),e.abrupt("return");case 4:return n(o),c(!1),e.next=8,I(o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return o.createElement("div",{className:ut.wrapper},o.createElement("div",{className:ut.lock},o.createElement(tt.Z,{size:{width:40,height:51},fill:N().paletteGray80})),o.createElement("div",{className:ut.content},l&&!t&&o.createElement(Se,{onEnd:M,onCancel:()=>{a(),c(!1)}}),!l&&(!t||0===y.length&&!p)&&o.createElement(o.Fragment,null,o.createElement(F.C,{buttons:[{text:o.createElement(m.ZP,null,"Generate backup codes"),onClick:R,buttonStyle:F.Z.Neutral}]}),o.createElement(U.Z,{style:{marginTop:10}},o.createElement(m.ZP,null,"Sometimes you can't get to your phone for the two-factor authentication verification codes. Download backup codes for those times. Get them here.")," ",o.createElement("a",{href:"https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication",target:"_blank",rel:"noopener"},o.createElement(m.ZP,null,"Learn more")),".")),t&&(0!==y.length||p)&&o.createElement(o.Fragment,null,o.createElement("div",{className:ut.codeWrapper},!p&&y.map((e=>o.createElement("span",{key:e},e))),p&&o.createElement(_.Z,{centerOrientation:_.Q.Horizontal,color:N().transparentBlack25})),o.createElement(U.Z,{style:{marginTop:10}},o.createElement(m.ZP,null,"Enter one of these backup codes when prompted for a two-factor authentication code. Keep in mind: Each code can only be used once.")," ",o.createElement("a",{href:"https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication",target:"_blank",rel:"noopener"},o.createElement(m.ZP,null,"Learn more")),"."),!p&&o.createElement("div",{className:ut.buttons},S&&o.createElement(dt,{backupCodes:y,onClose:()=>T(!1)}),o.createElement(F.C,{buttons:[{text:o.createElement(m.ZP,null,"Print Codes"),onClick:()=>T(!0),buttonStyle:F.Z.Confirm},{text:o.createElement(m.ZP,null,"Generate new"),onClick:R,buttonStyle:F.Z.Neutral}]})))))};const mt=e=>{var t=e.setBlurred,n=(0,G.rV)(),a=n.settings,r=a.accountActivityEmails,s=a.tfaAuthenticatorEnabled,i=a.tfaSmsEnabled,l=n.set,c=i||s,d=(0,o.useState)(null),u=f()(d,2),p=u[0],h=u[1],g=e=>{h(e)},v=()=>{h(null)};return o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Security")},o.createElement(z.Z,{onChange:e=>l("accountActivityEmails",e.target.checked),label:o.createElement(m.ZP,null,"Email me about account activity."),id:"email-me-account-activity-toggle",helpText:o.createElement(m.ZP,null,"You will receive an email when someone logs into your account or a new app is authorized."),checked:r}),o.createElement(Ke,{unlocked:null!==p,unlock:g,lock:v,password:p,setBlurred:t}),c&&o.createElement(o.Fragment,null,o.createElement("hr",null),o.createElement(et,{unlocked:null!==p,unlock:g,lock:v,password:p}),o.createElement(pt,{unlocked:null!==p,lock:v,unlock:g,password:p})))};var ht=n(31107);const gt="E1RbQ",vt="pEKDO";const bt=e=>{var t=e.session,n=e.current,a=e.onRemove;return o.createElement("tr",{className:gt},o.createElement("td",null,o.createElement("strong",null,t.parsedUa),t.parsedOs&&o.createElement(U.Z,null,t.parsedOs)),o.createElement("td",null,o.createElement("strong",null,t.location),t.clientIp&&o.createElement(U.Z,null,t.clientIp)),n&&o.createElement("td",{colSpan:2,className:vt},o.createElement("strong",null,o.createElement(m.ZP,null,"Current session"))),!n&&o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("strong",null,t.lastSeenText),t.lastSeenDate&&o.createElement(U.Z,null,o.createElement(m.ZP,{params:{lastSeenDate:t.lastSeenDate}},"on [lastSeenDate]"))),o.createElement("td",null,o.createElement(j.Z,{onClick:()=>{a()}},o.createElement(ht.Z,{fill:"gray"})))))},ft="Zj8Vp";const Et=()=>{var e=(0,h.bp)().apiFetch,t=(0,o.useState)(!1),n=f()(t,2),a=n[0],r=n[1],s=(0,o.useState)([]),i=f()(s,2),l=i[0],c=i[1];o.useEffect((()=>{r(!0),(0,W.ZP)(e).getUserSessions().fetch((e=>{var t=e.response;c(null==t?void 0:t.sessions),r(!1)}))}),[]);var d=function(){var t=v()(C().mark((function t(n){var a;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("/v2/user/sessions/".concat(l[n].id),{method:"DELETE"});case 2:a=l.slice(0,n).concat(l.slice(n+1,l.length)),c(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Active Sessions"),subLabel:o.createElement(m.ZP,null,"Past 30 days")},a&&o.createElement(_.Z,{centerOrientation:_.Q.Horizontal,color:N().transparentBlack25}),!a&&o.createElement("table",{className:ft},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,o.createElement(m.ZP,null,"Browser")),o.createElement("th",null,o.createElement(m.ZP,null,"Location")),o.createElement("th",{colSpan:2},o.createElement(m.ZP,null,"Last seen")))),o.createElement("tbody",null,null==l?void 0:l.map(((e,t)=>o.createElement(bt,{key:e.id,current:0===t,session:e,onRemove:()=>d(t)}))))))},Ct="FKK97",yt="wdSm_";const wt=e=>{var t=e.setBlurred,n=(0,h.bp)().features.redpopThirdPartyAuthentication;return o.createElement("div",{className:yt},o.createElement(p,null,o.createElement(m.ZP,null,"Account")),o.createElement(q,{setBlurred:t}),n&&o.createElement(D,null),o.createElement(Pe,{setBlurred:t}),o.createElement(mt,{setBlurred:t}),o.createElement(Ee,null),o.createElement(ge,null),o.createElement(Et,null),o.createElement("div",{className:Ct},o.createElement("a",{href:"/account/delete?redirect_to=/setting/account",tabIndex:-1},o.createElement(m.ZP,null,"Delete account"))))},kt="CNM5x",Pt="BXlw4",St="vW450",Tt="Cn_DY";const xt=()=>{var e=(0,G.rV)(),t=e.settings,n=e.toggle;return o.createElement("div",{className:kt},o.createElement(p,null,o.createElement(m.ZP,null,"Admin")),o.createElement("div",{className:Pt},o.createElement(z.Z,{"data-testid":"disableAdminOnlyFeatures",onChange:n("disableAdminOnlyFeatures"),label:o.createElement("div",{className:St},"Disable admin-only site features",o.createElement(U.Z,{className:Tt},"Use for demos and screenshots!")),id:"disable-admin-only-features",helpText:o.createElement(o.Fragment,null,"Opt out of preview access to upcoming features. Does not affect access to Admin Panel.",o.createElement("br",null),o.createElement("strong",null,"Please allow five minutes for changes to take effect.")),checked:t.disableAdminOnlyFeatures}),o.createElement(z.Z,{"data-testid":"disableAdminTagButtons",onChange:n("disableAdminTagButtons"),label:"Disable admin-only site tag page buttons",id:"disable-admin-tag-buttons",helpText:"Opt out of NSFW, Adult, and Spam buttons in view on tag pages.",checked:t.disableAdminTagButtons}),o.createElement(z.Z,{"data-testid":"tumblrPremium",onChange:n("tumblrPremium"),label:"Tumblr Premium™",id:"tumblr-premium",helpText:"Enable this to opt out of ads on Tumblr and get some premium features.",checked:t.tumblrPremium})))},Nt="RVtii";const It=()=>{var e=(0,h.bp)(),t=e._t,n=e.features.timestampsEverywhere,a=(0,G.rV)(),r=a.settings,s=a.toggle,i=a.select;return o.createElement("div",{className:Nt},o.createElement(p,null,t("Dashboard")),o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Interface")},o.createElement(z.Z,{"data-testid":"endlessScrolling",onChange:s("endlessScrolling"),label:o.createElement(m.ZP,null,"Enable endless scrolling"),id:"endless-scrolling-toggle",helpText:o.createElement(m.ZP,null,"Surf your dashboard page-by-page instead of as an infinitely-scrolling feed. To update the URL for each page in your browser, you'll also need to disable Best Stuff First."),checked:r.endlessScrolling}),n&&o.createElement(z.Z,{"data-testid":"timestamps",onChange:s("timestamps"),label:o.createElement(m.ZP,null,"Show timestamps on posts, reblogs, and notes."),id:"timestamps-toggle",helpText:o.createElement(m.ZP,null,"Enabling this displays timestamps in the post, reblog trail, and notes views. By default, timestamps are only visible in the meatballs menu on posts."),checked:r.timestamps})),o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Text Editor")},o.createElement(be,{id:"defaultPostFormat",onBlur:i,defaultValue:r.defaultPostFormat},o.createElement("option",{value:0},t("Rich text editor")),o.createElement("option",{value:1},t("Plain text/HTML")),o.createElement("option",{value:2},t("Markdown")))),o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Sounds")},o.createElement(z.Z,{"data-testid":"messagingSounds",onChange:s("messagingSounds"),label:o.createElement(m.ZP,null,"Messaging sounds"),id:"messaging-sounds-toggle",helpText:o.createElement(m.ZP,null,"Assorted 'shling!' and 'fwip!' noises in messaging."),checked:r.messagingSounds})),o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Preferences")},o.createElement(z.Z,{"data-testid":"dashboardBestStuffFirst",onChange:s("dashboardBestStuffFirst"),label:o.createElement(m.ZP,null,"Best Stuff First"),id:"best-stuff-first-toggle",helpText:o.createElement(m.ZP,null,"This switch puts stuff you'll like at the top of your dash."),checked:r.dashboardBestStuffFirst}),o.createElement(z.Z,{"data-testid":"dashboardInYourOrbit",onChange:s("dashboardInYourOrbit"),label:o.createElement(m.ZP,null,"Include stuff in your orbit"),id:"in-your-orbit-toggle",helpText:o.createElement(m.ZP,null,"Posts that your favorite people liked."),checked:r.dashboardInYourOrbit}),o.createElement(z.Z,{"data-testid":"dashboardBasedOnYourLikes",onChange:s("dashboardBasedOnYourLikes"),label:o.createElement(m.ZP,null,'Include "Based On Your Likes!"'),id:"based-on-your-likes-toggle",helpText:o.createElement(m.ZP,null,'Show "Based On Your Likes!" in the following tab alongside posts from blogs you follow.'),checked:r.dashboardBasedOnYourLikes}),o.createElement(z.Z,{"data-testid":"dashboardFollowedTagsPosts",onChange:s("dashboardFollowedTagsPosts"),label:o.createElement(m.ZP,null,"Include followed tag posts"),id:"inclued-followed-tag-posts-toggle",helpText:o.createElement(m.ZP,null,"Posts from the tags you follow."),checked:r.dashboardFollowedTagsPosts}),o.createElement(z.Z,{"data-testid":"colorizedTags",onChange:s("colorizedTags"),label:o.createElement(m.ZP,null,"Enable colorized tags"),id:"enable-colorized-tags-toggle",helpText:o.createElement(m.ZP,null,"Colorize matching tags on the dashboard. Colorized tags add a nice touch to your dashboard but they might be harder to read."),checked:r.colorizedTags})))};var Rt=n(97137);const Mt="KpXL_",At="N5rfV",Bt="jAB8C",Zt="To1a0",Lt="boieV";const Ot=()=>{var e=(0,G.rV)(),t=e.settings,n=t.labsEnabled,a=t.labsExperiments,r=e.toggle,s=e.merge,i=e.set;return o.createElement("div",{className:Mt},o.createElement("div",{className:At},o.createElement("img",{src:Rt,alt:""})),o.createElement("div",{className:Bt},o.createElement(k.Z,{label:o.createElement(m.ZP,{comment:"Next to the toggle to enable or disable tumblr labs experiments"},"Watch your step")},o.createElement(z.Z,{"data-testid":"labsEnabled",onChange:()=>{if(n){var e=a.map((e=>(e.optIn=!1,e)));s({labsEnabled:!n,labsExperiments:e})}else r("labsEnabled")()},label:o.createElement(m.ZP,null,"Enable Tumblr Labs"),id:"labs-enabled-toggle",helpText:o.createElement(m.ZP,{comment:"Description of tumblr labs experiments",components:{br:o.createElement("br",null)}},"Tumblr Labs is a collection of experiments we're working on that might turn out to be useful, fun, both, or neither.[br/][br/]They're not official or anything, so if something overly weird happens, don't contact our support team. Just turn the dang thing off."),checked:n})),a.length>0&&o.createElement(k.Z,{label:o.createElement(m.ZP,null,"Experiments")},o.createElement(o.Fragment,null,a.map((e=>{return o.createElement(z.Z,{className:Zt,key:e.key,"data-testid":e.key,id:e.key,onChange:(t=e.id,()=>{var e=a.map((e=>(e.id===t&&(e.optIn=!e.optIn),e)));i("labsExperiments",e)}),label:e.title,helpText:o.createElement(o.Fragment,null,o.createElement("div",{className:Lt,dangerouslySetInnerHTML:{__html:e.description}}),e.bannerImage&&o.createElement("img",{src:e.bannerImage,alt:""}),e.optIn&&e.options&&e.options.map((t=>{return o.createElement(z.Z,{key:t.key,"data-testid":t.key,id:t.key,onChange:(n=e.id,r=t.key,()=>{var e=a.map((e=>(e.id===n&&e.options&&e.options.forEach((e=>{e.key===r&&(e.optIn=!e.optIn)})),e)));i("labsExperiments",e)}),label:t.title,helpText:t.description,checked:t.optIn,controlled:!0});var n,r}))),helpTextAs:"span",checked:n&&e.optIn,disabled:!n,controlled:!0});var t}))))))};var Dt=n(4777),Ft=n(94781),_t=n(7544),Ht=(0,o.createContext)(void 0),Ut=()=>{var e=(0,o.useContext)(Ht);if(void 0===e)throw new Error("usePremiumContext must be used within a PremiumContextProvider");return e},zt=n(3901),Vt=e=>(0,W.ZP)(e).getUserInfo().fetch((t=>{var n=t.response.user,a=n.hasTumblrPremium,o=n.usedToHaveTumblrPremium;return Promise.all([(0,W.ZP)(e).getPremiumBenefits().fetch((e=>e.response)).catch(W.OO),(0,W.ZP)(e).getPaymentMethod(zt.Ll.Premium).fetch((e=>(0,_t.Pz)(e))),a||o?(0,W.ZP)(e).getPremiumSubscription().fetch((e=>e.response)).catch((e=>404===e.status?null:(0,W.OO)(e))):Promise.resolve(null)]).then((e=>{var t=f()(e,3),n=t[0],r=t[1],i=t[2];return s()({hasTumblrPremium:a,usedToHaveTumblrPremium:o,subscription:i,paymentMethod:r},n)}))})),Wt={price:999,currencyCode:"USD",period:zt.zF.Month,periodAbbreviation:"mo",periodAdverb:"monthly"},Gt={price:1e4,currencyCode:"USD",period:zt.zF.Year,periodAbbreviation:"yr",periodAdverb:"yearly"},qt=n(58445),jt=n(78315),Kt=n(76097),Qt=n(69),Jt=n(60275);const Yt="NWfwL";const Xt=e=>{var t=e.period,n=e.label,r=e.textColor,s=e.backgroundColor,i=e.loaderColor,l=e.theme,d=e.className,u=e.disabled,p=e.changePlan,m=e.onClick,g=(0,h.bp)(),v=g.apiFetch,b=g.isLoggedIn,E=g._t,C=(0,Jt.V)().toggleToast,y=(0,o.useState)(!1),w=f()(y,2),k=w[0],S=w[1],T=e=>{b&&(S(!0),function(e,t,n,a){return(0,W.ZP)(e).generatePremiumCheckoutUrl(t,n,a)}(v,e,window.location.host,p).fetch((e=>{var t=e.response;window.location.assign(t.url)})).catch((()=>{S(!1),C(E("Oops. Something went wrong.",Qt.p.Error))})))},x=b?void 0:(0,jt.gZ)({formToShow:Kt.c.Login},{redirect_to:(0,jt.B9)({page:a.f.Premium})}),I=u?{disabled:u,disabledTheme:P.tl.Default,disabledBackgroundColor:N().paletteGray13,disabledTextColor:N().paletteGray40}:{};return o.createElement(P.ZP,$()({wrapperClassName:(0,c.Z)([Yt,d]),label:n,theme:l,size:P.jf.Small,textColor:r,backgroundColor:s,onClick:()=>{null==m||m(),T(t)},href:x},I),k?o.createElement(o.Fragment,null," ",o.createElement(_.Z,{color:i,small:!0})):n)},$t="YEFNX",en="UX_E2",tn="jbtjN",nn="RmcFk",an="iZRZc",on="SfxhY",rn="WsrYW",sn="e8doN";const ln=()=>{var e=Ut().benefits,t=(0,h.bp)(),n=t._getPriceInCurrency,a=t.logEvent,r=(0,o.useState)(!1),s=f()(r,2),i=s[0],l=s[1];(0,o.useEffect)((()=>{i||(l(!0),a({eventName:S.JE.PremiumPerksScreenShown}))}),[i,a]);var c="".concat((0,_t.T4)(Wt.price,Wt.currencyCode,n),"/").concat(Wt.period),d="".concat((0,_t.T4)(Gt.price,Gt.currencyCode,n),"/").concat(Gt.period),u=e=>{a({eventName:S.JE.PremiumPurchaseTap,eventDetails:{period:e===zt.zF.Year?"yearly":"monthly"}})};return o.createElement(o.Fragment,null,o.createElement("div",{className:$t},o.createElement("h2",null,"Enhance your experience with exclusive perks"),o.createElement("p",{className:en},"Tumblr Premium gives you ad-free browsing, double the amount of likes, posts, and queues you can have per day, and even more image and video uploads. Experience Tumblr in a whole new way."),o.createElement("div",{className:tn},o.createElement(Xt,{label:d,theme:P.tl.Default,textColor:N().paletteNavy,backgroundColor:N().paletteAccent,loaderColor:N().paletteNavy,period:zt.zF.Year,onClick:()=>u(zt.zF.Year)}),o.createElement(Xt,{label:c,theme:P.tl.Default,textColor:N().paletteNavy,backgroundColor:N().paletteAccent,loaderColor:N().paletteNavy,period:zt.zF.Month,onClick:()=>u(zt.zF.Month)})),o.createElement("p",{className:nn},"Subscriptions automatically renew")),o.createElement("div",{className:an},o.createElement("div",{className:on},e.map(((e,t)=>{var n=e.description.split(" "),a=n.pop(),r=n.join(" ");return o.createElement("div",{key:e.id,"data-background":(t+1)%4,className:rn},o.createElement("h3",null,e.name),(0,qt.Z)(e.image)?o.createElement("img",{src:e.image,alt:""}):o.createElement("span",{className:sn,"aria-hidden":"true"},e.image),o.createElement("p",null,r," ",a))})))))},cn={details:"zj68G",cc:"Gy2oW",ccMissingInfo:"lERTF",ccTypeText:"ldDPS",ccTypeLogo:"vkfBQ",americanexpress:"svfPR",discover:"LoAU_",mastercard:"xBYxD",visa:"a_FCR",ccNumber:"xBlTR",ccExpiry:"FcKVd"};var dn=["american express","discover","mastercard","visa"];const un=e=>{var t=e.className,n=e.baseRoute,a=e.ccType,r=e.ccNumber,s=e.ccExpiryMonth,i=e.ccExpiryYear,l=(0,h.bp)(),d=l._c,u=l._t,p=l.apiFetch,m=l.logEvent,g=(0,Jt.V)().toggleToast,v=(0,o.useState)(!1),b=f()(v,2),E=b[0],C=b[1],y=(0,o.useState)(!1),w=f()(y,2),k=w[0],T=w[1];o.useEffect((()=>{(0,_t.C5)(window.location.search)&&!k&&(m({eventName:n===zt.Ll.Premium?S.JE.PremiumPaymentMethodDone:S.JE.PostpPaymentMethodDone}),g(u("Payment method successfully updated."),Qt.p.Success),T(!0))}),[u,n,m,k,g]);var x=dn.includes(a);return o.createElement("div",{className:(0,c.Z)([cn.details,t]),"data-testid":"paymentMethod"},o.createElement("div",{className:(0,c.Z)({[cn.ccMissingInfo]:!s,[cn.cc]:!0})},o.createElement("span",{className:(0,c.Z)({[cn.ccTypeText]:!x,[cn.ccTypeLogo]:x,[cn[a]]:x}),"data-testid":"paymentMethodCardType"},!x&&a),s&&o.createElement(o.Fragment,null,o.createElement("span",{className:cn.ccNumber},r),o.createElement("span",{className:cn.ccExpiry},"".concat(d("Abbreviation for expires.","Exp.")," ").concat(s.toString().padStart(2,"0"),"/").concat(i.toString().substring(2))))),o.createElement("div",{className:cn.action},o.createElement(P.ZP,{disabled:E,onClick:()=>{m({eventName:n===zt.Ll.Premium?S.JE.PremiumPaymentMethodTap:S.JE.PostpPaymentMethodTap}),C(!0),((e,t)=>(0,W.ZP)(e).getPaymentMethod(n,t).fetch((e=>(0,_t.Pz)(e))))(p,window.location.host).then((e=>window.location.assign(e.updateUrl))).catch((()=>{C(!1),g(u("Oops! Something went wrong."))}))},label:u("Update your payment method"),theme:P.tl.Border,size:P.jf.Small,disabledTheme:P.tl.Border,disabledTextColor:N().paletteGray65,disabledBackgroundColor:N().paletteGray65,textColor:N().paletteGray65,backgroundColor:N().paletteGray65},E?o.createElement(o.Fragment,null," ",o.createElement(_.Z,{color:N().paletteGray65,small:!0})):d("Payment method update button","Update"))))},pn="ae6fW";const mn=()=>{var e,t=Ut(),n=t.subscription,a=t.paymentMethod,r=n.status,s=(0,_t.PP)(n),i=(0,_t.o$)(n,"nextBillingTime");switch(r){case zt.Ti.PendingCancel:case zt.Ti.Cancelled:case zt.Ti.Expired:e=o.createElement(o.Fragment,null,"You will not be charged for Tumblr Premium again unless you resubscribe.");break;case zt.Ti.OnHold:e=o.createElement(o.Fragment,null,"There's an issue with your payment method.");break;case zt.Ti.Active:default:e=a.isInvalid?o.createElement(o.Fragment,null,"There's an issue with your payment method."):o.createElement(o.Fragment,null,"Next payment: ",o.createElement("strong",null,s)," on ",o.createElement("strong",null,i))}var l="apple_in_app_purchase"===n.paymentMethod;return o.createElement(o.Fragment,null,o.createElement("p",null,e),l?o.createElement("p",null,o.createElement(m.ZP,null,"Your payment method is managed on another platform. You can manage your subscription with your Apple ID.")):o.createElement(un,$()({className:pn,baseRoute:zt.Ll.Premium},a)))};var hn=n(38012),gn=n(22123),vn=n(24988),bn=n(88910);const fn="vffGc",En="UH33k",Cn="Wu9wb",yn="Vz97X",wn="hGvNs";const kn=()=>{var e=(0,h.bp)(),t=e.apiFetch,n=e._t,a=e.logEvent,r=(0,Jt.V)().toggleToast,s=Ut(),i=s.subscription,l=s.setSubscription,c=(0,o.useState)(!1),d=f()(c,2),u=d[0],p=d[1],m=(0,o.useState)(!1),g=f()(m,2),v=g[0],b=g[1],E=(0,_t.o$)(i,"nextBillingTime"),C=(0,o.useCallback)((()=>{y(),b(!0),a({eventName:S.JE.PremiumCancelConfirm}),(0,W.ZP)(t).unsubscribeToPremium().fetch((e=>{var t=e.response;b(!1),l(t)})).catch((()=>{b(!1),r(n("Something went wrong. Please try again."),Qt.p.Error)}))}),[a,t,l,r,n]),y=()=>p(!1);return o.createElement(o.Fragment,null,u&&o.createElement(gn.Z,{centerContent:!0,onGlassClick:y},o.createElement(vn.ZP,{disable:vn.z9}),o.createElement(bn.Z,{className:En,buttonContainerClassname:yn,title:n("Are you sure you want to cancel?"),body:o.createElement(o.Fragment,null,o.createElement("div",{className:Cn},"Let's take a moment to think about this. If you cancel your Premium subscription, you'll lose these perks:",o.createElement("ul",null,o.createElement("li",null,"Hidden ads on Tumblr in the apps and on desktop."),o.createElement("li",null,"Increased limits for your queue, posting, likes, and following."))),o.createElement("div",{className:wn},"Your subscription will still be active until the end of your current billing period. Cancellation will be effective on ",o.createElement("strong",null,E),".")),buttons:[{text:n("Cancel subscription"),onClick:C,buttonStyle:bn.X.Cancel},{text:n("Nevermind"),onClick:y,buttonStyle:bn.X.Confirm}]})),o.createElement(P.ZP,{wrapperClassName:fn,label:"Cancel subscription",theme:P.tl.Border,size:P.jf.Small,textColor:N().paletteGray65,backgroundColor:N().paletteGray65,onClick:()=>{a({eventName:S.JE.PremiumCancelTap}),p(!0)}},v?o.createElement(_.Z,{color:N().paletteGray65,small:!0}):o.createElement(o.Fragment,null,"Cancel subscription")))};var Pn=n(60562),Sn=n(81058);const Tn={description:"gBTvu",price:"qlTXd",label:"CcjZu",nextButton:"gwEwk",planGroup:"JSt1e"};const xn=e=>{var t=e.plan,n=Ut().subscription.period,a=(0,h.bp)()._getPriceInCurrency,r=(0,_t.aJ)(12*Wt.price,Gt.price);return o.createElement("div",{className:Tn.priceGroup},o.createElement("span",{className:Tn.price},"".concat((0,_t.T4)(t.price,t.currencyCode,a))),o.createElement("span",{className:Tn.label}," ","/ ",t.period,"  ",n===t.period&&o.createElement(o.Fragment,null,"(current plan)"),t.period===Gt.period&&n!==Gt.period&&o.createElement(o.Fragment,null,"(save ",r,")")))};const Nn=()=>{var e=Ut().subscription.period,t=(0,h.bp)(),n=t._t,a=t.logEvent,r=(0,Jt.V)().toggleToast,s=(0,o.useState)(!1),i=f()(s,2),l=i[0],c=i[1];o.useEffect((()=>{(0,_t.Kw)(window.location.search)&&!l&&(r("Plan change successful!",Qt.p.Success),a({eventName:S.JE.PremiumChangePlanDone}),c(!0))}),[n,l,a,r]);var d=(0,_t.aJ)(12*Wt.price,Gt.price),u=[{value:zt.zF.Month,children:o.createElement(xn,{plan:Wt})},{value:zt.zF.Year,children:o.createElement(xn,{plan:Gt})}],p=u.findIndex((t=>t.value===e)),m=(0,o.useState)(p),g=f()(m,2),v=g[0],b=g[1],E=(0,o.useState)(!1),C=f()(E,2),y=C[0],w=C[1],k=p===v;return o.createElement(o.Fragment,null,y&&o.createElement(Pn.Z,{title:"Change plan",onClose:()=>w(!1),theme:Pn.L.Rounded},o.createElement(o.Fragment,null,o.createElement("p",{className:Tn.description},e===zt.zF.Month?o.createElement(o.Fragment,null,"Switch to a yearly plan and save some money. It’s like getting 2 months free!"):o.createElement(o.Fragment,null,"Your current plan saves you ",d,".")),o.createElement(Sn.Z,{className:Tn.planGroup,groupLabel:"Plan",name:"plan",options:u,selectedOptionIndex:v,onChange:b}),o.createElement(Xt,{changePlan:!0,label:"Next",className:Tn.nextButton,theme:P.tl.Default,textColor:N().paletteNavy,backgroundColor:N().paletteAccent,loaderColor:N().paletteNavy,period:0===v?zt.zF.Month:zt.zF.Year,disabled:k,onClick:()=>{a({eventName:S.JE.PremiumChangePlanNext,eventDetails:{current:e===zt.zF.Year?"yearly":"monthly",new:0===v?"monthly":"yearly"}})}}))),o.createElement(P.ZP,{wrapperClassName:fn,label:"Change plan",theme:P.tl.Default,size:P.jf.Small,textColor:N().paletteNavy,backgroundColor:N().paletteAccent,onClick:()=>{a({eventName:S.JE.PremiumChangePlanTap}),w(!0)}},"Change plan"))};const In=()=>{var e=(0,h.bp)(),t=e.apiFetch,n=e._t,a=e.logEvent,r=(0,o.useState)(!1),s=f()(r,2),i=s[0],l=s[1],c=Ut(),d=c.subscription,u=d.status,p=d.period,m=c.setSubscription,g=(0,Jt.V)().toggleToast,v=(0,o.useCallback)((()=>{l(!0),a({eventName:S.JE.PremiumResubscribe}),(0,W.ZP)(t).resubscribeToPremium().fetch((e=>{var t=e.response;l(!1),m(t)})).catch((()=>{l(!1),g(n("Something went wrong. Please try again."),Qt.p.Error)}))}),[a,t,m,g,n]);return u===zt.Ti.PendingCancel?o.createElement(P.ZP,{wrapperClassName:fn,label:"Resubscribe",theme:P.tl.Default,size:P.jf.Small,textColor:N().paletteNavy,backgroundColor:N().paletteAccent,onClick:v},i?o.createElement(o.Fragment,null," ",o.createElement(_.Z,{color:N().paletteNavy,small:!0})):o.createElement(o.Fragment,null,"Resubscribe")):o.createElement(Xt,{label:"Resubscribe",theme:P.tl.Default,textColor:N().paletteBlack,backgroundColor:N().paletteAccent,loaderColor:N().paletteNavy,period:p})},Rn={actions:"lQ3b6",alertMessage:"LSnDP"};const Mn=()=>{var e,t,n,a,r=Ut(),s=r.subscription,i=r.paymentMethod,l=s.status,c=s.paymentMethod,d=(0,h.bp)().logEvent,u=(0,_t.VU)(s,!0),p=(0,_t.o$)(s,"endTime"),m=(0,_t.o$)(s,"nextBillingTime"),g=(0,o.useState)(!1),v=f()(g,2),b=v[0],E=v[1];switch((0,o.useEffect)((()=>{b||(E(!0),l===zt.Ti.OnHold&&d({eventName:S.JE.PremiumOnHoldView}),l===zt.Ti.Active&&i.isInvalid&&d({eventName:S.JE.PremiumInvalidPaymentView}))}),[b,l,i,d]),l){case zt.Ti.PendingCancel:e=o.createElement(o.Fragment,null,"Your subscription has been canceled"),t=o.createElement("p",null,"Enjoy exclusive Premium perks until the end of your current billing period. Your subscription will end on ",o.createElement("strong",null,p),"."),n=hn.o.Info,a=o.createElement(In,null);break;case zt.Ti.OnHold:e=o.createElement(o.Fragment,null,"Update your payment method"),t=o.createElement("p",null,"This subscription is paused due to a payment issue. Please fix the issue with your payment so you don't miss out on Premium perks. On-hold since ",o.createElement("strong",null,p),"."),n=hn.o.Warning,a=o.createElement(o.Fragment,null);break;case zt.Ti.Cancelled:case zt.Ti.Expired:e=o.createElement(o.Fragment,null,"Your subscription expired"),t=o.createElement("p",null,"Your subscription ended on ",o.createElement("strong",null,p),". If you'd like to resume Tumblr Premium, please resubscribe."),n=hn.o.Warning,a=o.createElement(In,null);break;case zt.Ti.Active:default:i.isInvalid?(e=o.createElement(o.Fragment,null,"Update your payment method"),t=o.createElement(o.Fragment,null,o.createElement("p",null,"Please fix the issue with your payment so you don't miss out on Premium perks. Your subscription will end on ",o.createElement("strong",null,m),".")),n=hn.o.Warning,a=o.createElement(kn,null)):(e=o.createElement(o.Fragment,null,"Your subscription is active"),t=o.createElement(o.Fragment,null,o.createElement("p",null,"You have extra perks like no ads, increased posting limits, and more."),o.createElement("p",null,"Plan: ",o.createElement("strong",null,u))),n=hn.o.Success,a=o.createElement(o.Fragment,null,o.createElement(Nn,null),o.createElement(kn,null)))}return"apple_in_app_purchase"===c&&(a=o.createElement(o.Fragment,null)),o.createElement(o.Fragment,null,o.createElement(hn.Z,{message:o.createElement("div",{className:Rn.alertMessage},o.createElement("p",null,o.createElement("strong",null,e)),o.createElement("div",{className:Rn.message},t)),theme:n}),o.createElement("div",{className:Rn.actions},a))},An="Ve3b5",Bn="C2x46",Zn="vnlw6",Ln="AnmzE",On="r_hbX",Dn="azmx7",Fn="B8sAl",_n="GnFpN",Hn="NXrvJ",Un="wEMQA",zn="SKWZr";const Vn=()=>{var e=(0,h.bp)(),t=e.wwwBaseUrl,n=e.logEvent,a=Ut().benefits,r=(0,o.useState)(!1),s=f()(r,2),i=s[0],l=s[1];return(0,o.useEffect)((()=>{i||(l(!0),n({eventName:S.JE.PremiumSubscriptionManagementScreenShown}))}),[i,n]),o.createElement("section",{className:An},o.createElement("section",{className:Bn},o.createElement("div",{className:Zn},o.createElement("div",{className:Ln},o.createElement("h2",{className:Dn},"Your subscription")),o.createElement("div",{className:On},o.createElement(Mn,null)))),o.createElement("section",{className:Bn},o.createElement("div",{className:Zn},o.createElement("div",{className:Ln},o.createElement("h2",{className:Dn},"Payment method")),o.createElement("div",{className:On},o.createElement(mn,null)))),o.createElement("section",{className:Bn},o.createElement("div",{className:Zn},o.createElement("div",{className:Ln},o.createElement("h2",{className:Dn},"Premium perks")),o.createElement("div",{className:On},a.map(((e,t)=>o.createElement("div",{key:e.id,className:Fn,"data-background":(t+1)%4},o.createElement("div",{className:_n},(0,qt.Z)(e.image)?o.createElement("img",{src:e.image,alt:""}):o.createElement("span",{className:Hn,"aria-hidden":"true"},e.image)),o.createElement("div",{className:Un},o.createElement("h3",null,e.name),o.createElement("p",null,e.description)))))))),o.createElement("section",{className:Bn},o.createElement("div",{className:Zn},o.createElement("div",{className:Ln},o.createElement("h2",{className:Dn},"Need help?")),o.createElement("div",{className:On},o.createElement("p",null,"Need some help with your premium subscription?"),o.createElement(P.ZP,{className:zn,label:"Contact support",theme:P.tl.Border,size:P.jf.Small,textColor:N().paletteGray65,backgroundColor:N().paletteGray65,feature:!1,href:"".concat(t,"/support")},o.createElement("span",null,"Contact support"))))))},Wn="LwKqE",Gn="igA7s";const qn=()=>{var e,t=(0,h.bp)(),n=t.getBootstrap,a=t.apiFetch,r=t.logEvent,s=null==n?void 0:n(Ft.Rn),i=(0,o.useState)(s.benefits||[]),l=f()(i,2),c=l[0],d=l[1],u=(0,o.useState)(s.subscription),p=f()(u,2),m=p[0],g=p[1],v=(0,o.useState)(s.paymentMethod),b=f()(v,2),E=b[0],C=b[1],y=(0,o.useState)(s.hasTumblrPremium),w=f()(y,2),k=w[0],P=w[1],T=(0,o.useState)(s.usedToHaveTumblrPremium),x=f()(T,2),N=x[0],I=x[1],R=(0,o.useState)(0===(null===(e=s.benefits)||void 0===e?void 0:e.length)),M=f()(R,2),A=M[0],B=M[1],Z=(0,Dt.TH)().search,L=(0,o.useState)((0,_t.zc)(Z)&&!s.hasTumblrPremium),O=f()(L,2),D=O[0],F=O[1];if((0,o.useEffect)((()=>{var e=()=>{B(!0),Vt(a).then((e=>{d(e.benefits),g(e.subscription),C(e.paymentMethod),I(e.usedToHaveTumblrPremium),P(e.hasTumblrPremium),B(!1),D&&e.hasTumblrPremium&&(F(!1),r({eventName:S.JE.PremiumPurchaseDone}))}))};!D||A||k?c.length>0||A||e():setTimeout((function(){B(!0),e()}),4e3)}),[a,c,D,A,k,m,N,r]),A||D)return o.createElement("div",{className:Gn},o.createElement(_.Z,null));var H={hasTumblrPremium:k,usedToHaveTumblrPremium:N,benefits:c,subscription:m,setSubscription:g,paymentMethod:E},U=k&&(null==m?void 0:m.id)||N;return c.length?o.createElement("div",{className:Wn},o.createElement("h1",null,"Tumblr Premium"),o.createElement(Ht.Provider,{value:H},U?o.createElement(Vn,null):o.createElement(ln,null))):null};var jn=n(89393);class Kn extends jn.Z{constructor(e,t,n){super("Server error".concat(n?" at ".concat(n):""," (").concat(e,": ").concat(t,")")),this.status=e}}var Qn=function(){var e=v()(C().mark((function e(t,n){var o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.userConfigRequest;case 2:if(o=e.sent,o.features.tumblrIntergalactic){e.next=6;break}throw new Kn(404,"Not found",(0,jt.B9)({page:a.f.Premium}));case 6:return e.abrupt("return",Vt(t).then((e=>e)));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jn=n(51641),Yn=n(4569),Xn=n(93073);const $n="KpwLh",ea="y07kV",ta="SjDjC",na="gSuAz",aa="dcoVy",oa="XhNuj";const ra=()=>{var e=(0,h.bp)(),t=e.apiFetch,n=e.wwwBaseUrl,a=e.features,r=(0,o.useState)(""),s=f()(r,2),i=s[0],l=s[1],d=(0,G.rV)(),u=d.settings,g=d.extraData,v=d.toggle,b=d.refetch,E=(0,Dt.TH)(),C=(0,Jn.useMutation)((()=>(0,Xn.Zr)(t,i).fetch()),{onSuccess:()=>{l(""),b()}}),y=(0,Jn.useMutation)((()=>(0,Xn.JQ)(t).fetch()),{onSuccess:()=>{b()}});if(!g)throw new Error("Requesting ExtraDataPrivacySettings is required");var w=a.ccpa,k=a.ccpaOptOutSwitch,S=g.downloadRequests||[],T=S.some((e=>e.isInProgress||e.isPending));return o.createElement("div",{className:$n},o.createElement(p,null,o.createElement(m.ZP,null,"Privacy")),o.createElement("section",{className:ea},o.createElement(z.Z,{id:"online_status_indicator",onChange:v("onlineStatusIndicator"),label:o.createElement(m.ZP,null,"Let others see that you're active"),helpText:o.createElement(m.ZP,null,"A green dot next to your avatar will show people that you're active."),checked:u.onlineStatusIndicator}),o.createElement(z.Z,{id:"improved_search",onChange:v("improvedSearch"),label:o.createElement(m.ZP,null,"Improved search"),helpText:o.createElement(m.ZP,null,"Let Tumblr use your search history to help provide more relevant recommendations."),checked:u.improvedSearch}),w&&k&&o.createElement(z.Z,{id:"ccpa_opted_out",onChange:v("ccpaOptedOut"),disabled:!g.olderThanMinimumCcpaAge,label:o.createElement(m.ZP,null,"Do not sell my personal information"),helpText:g.olderThanMinimumCcpaAge?o.createElement(m.ZP,{components:{aboutAds:o.createElement("a",{href:"https://optout.aboutads.info",target:"_blank"}),networkAdvertising:o.createElement("a",{href:"https://optout.networkadvertising.org/",target:"_blank"})}},"Opt-out of seeing ads personalized by our ads partners based on information from your visits to Tumblr. After you opt out you will still see ads on Tumblr, and some of them may be ads that Tumblr personalized for you. To learn more about interest-based advertising and to opt out from seeing interest-based ads on other publisher sites, please visit [aboutAds]optout.aboutads.info[/aboutAds] or [networkAdvertising]optout.networkadvertising.org[/networkAdvertising]."):o.createElement(m.ZP,null,"You are automatically opted out of this experience because you are under 16 years old."),checked:!!g.olderThanMinimumCcpaAge&&u.ccpaOptedOut}),w&&!k&&o.createElement(P.ZP,{backgroundColor:x.paletteGray40,textColor:x.paletteWhite,href:"https://tumblr.zendesk.com/hc/en-us/articles/360041012973",target:"_blank",rel:"noreferrer,noopener",feature:!1,style:{width:"fit-content"}},o.createElement(m.ZP,null,"Do not sell my personal information")),g.canUpdateConsent&&o.createElement(o.Fragment,null,o.createElement(P.ZP,{backgroundColor:x.paletteGray40,textColor:x.paletteWhite,href:"".concat(n).concat((0,jt.XU)({[Yn.A.Redirect]:E.pathname})),style:{width:"fit-content"},feature:!1},o.createElement(m.ZP,null,"Update Privacy Consent")),o.createElement(U.Z,{style:{marginTop:10}},o.createElement(m.ZP,null,"Click this to update your GDPR privacy consents.")))),o.createElement("section",{className:ea},o.createElement(p,null,o.createElement(m.ZP,null,"Download Requests")),o.createElement("div",null,o.createElement("ul",{className:ta},S.map((e=>o.createElement("li",{key:e.transactionId,className:(0,c.Z)({[na]:!e.isValid})},o.createElement("div",{className:aa},o.createElement("div",null,o.createElement("strong",null,o.createElement(m.ZP,null,"Requested on"),":"," "),e.createdOn," "),e.isComplete&&e.downloadExpiry&&o.createElement("div",null,o.createElement("strong",null,o.createElement(m.ZP,null,"Available until"),":"," "),e.downloadExpiry," "),o.createElement("div",null,o.createElement("strong",null,o.createElement(m.ZP,null,"Status"),":"," "),e.isComplete&&e.downloadExpired?o.createElement(m.ZP,null,"Expired"):e.statusMessage," ")),o.createElement("div",{className:oa},e.isComplete&&e.downloadUrl?o.createElement(P.ZP,{backgroundColor:x.paletteGray40,textColor:x.paletteWhite,href:e.downloadUrl,target:"_blank",rel:"noreferrer,noopener",feature:!1},o.createElement(m.ZP,null,"Download")):null,e.isPending||e.isComplete&&!e.downloadExpired?o.createElement(F.C,{buttons:[{text:e.isPending?o.createElement(m.ZP,null,"Cancel"):o.createElement(m.ZP,null,"Delete"),onClick:()=>l(e.transactionId),buttonStyle:F.Z.Danger}]}):null)))))),o.createElement(U.Z,{style:{marginTop:10}},o.createElement(m.ZP,null,"It may take up to 30 days for downloads to become available.")),T?null:o.createElement(o.Fragment,null,o.createElement(F.C,{buttons:[{text:y.isLoading?o.createElement(o.Fragment,null,o.createElement(_.Z,{small:!0})," ",o.createElement(m.ZP,null,"Request Privacy Data")):o.createElement(m.ZP,null,"Request Privacy Data"),onClick:()=>y.mutate(),buttonStyle:F.Z.Neutral,disabled:y.isLoading}]}),o.createElement(U.Z,{style:{marginTop:10}},o.createElement(m.ZP,{components:{gdpr:o.createElement("a",{href:"https://ec.europa.eu/info/",target:"_blank"})}},"Download your privacy data, as required by [gdpr]GDPR[/gdpr].")))),i&&o.createElement(gn.Z,{onGlassClick:()=>l(""),glassIsClickable:!1},o.createElement(bn.Z,{body:o.createElement(m.ZP,null,"Are you sure you want to cancel/delete this download request?"),buttons:[{text:o.createElement(m.ZP,null,"Cancel"),onClick:()=>l(""),buttonStyle:bn.X.Neutral},{text:C.isLoading?o.createElement(o.Fragment,null,o.createElement(_.Z,{small:!0})," ",o.createElement(m.ZP,null,"Ok")):o.createElement(m.ZP,null,"Ok"),onClick:()=>C.mutate(),buttonStyle:bn.X.Cancel,disabled:C.isLoading}]})))};var sa,ia=n(92969),la=n.n(ia),ca=n(58665),da=n.n(ca),ua=n(30436);!function(e){e.Active="active",e.Inactive="inactive"}(sa||(sa={}));const pa="yNw3u",ma="M1c2r",ha="BuQvB";const ga=e=>{var t=e.filter,n=t===sa.Active?o.createElement(m.ZP,{comment:"Title when no active subscriptions"},"No Active Subscriptions"):o.createElement(m.ZP,{comment:"Title when no inactive subscriptions"},"No Inactive Subscriptions"),a=t===sa.Active?o.createElement(m.ZP,{comment:"Message when no active subscriptions"},"Your subscriptions will appear here once they are active."):o.createElement(m.ZP,{comment:"Message when no inactive subscriptions"},"Your past subscriptions will appear here once they are inactive.");return o.createElement("div",{className:pa},o.createElement("span",{className:ma},n),o.createElement("span",{className:ha},a))};var va=n(52385),ba=n(90553),fa=n(80261),Ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Promise.all([Ca(e,sa.Active),Ca(e,sa.Inactive),ya(e,t)]).then((e=>{var t=f()(e,3),n=t[0],a=t[1],o=t[2];return{isFetching:!1,activeFilter:sa.Active,activeSubscriptions:n.timelineContent,activeCount:n.count,inactiveSubscriptions:a.timelineContent,inactiveCount:a.count,isInvalid:o.isInvalid,ccNumber:o.ccNumber,ccExpiryMonth:o.ccExpiryMonth,ccExpiryYear:o.ccExpiryYear,ccType:o.ccType,updateUrl:o.updateUrl}})).catch(W.OO)};function Ca(e,t){return(0,W.ZP)(e).getSubscriptions(t).fetch((e=>{var t,n,a=e.response;return{timelineContent:{objects:a.timeline.elements,nextLink:null===(t=a.timeline.links)||void 0===t?void 0:t.next,prevLink:null===(n=a.timeline.links)||void 0===n?void 0:n.prev},count:a.timeline.count}}))}function ya(e,t){return(0,W.ZP)(e).getPaymentMethod(zt.Ll.Memberships,t).fetch((e=>(0,_t.Pz)(e)))}function wa(e,t){return e.filter((e=>e.objectType===va.TE.PaywallSubscriptionInfo&&("Tumblrpay"===t?e.subscription.isManagedByTumblrpay:!e.subscription.isManagedByTumblrpay)))}var ka=n(70532),Pa=n(99107);const Sa="jDY_G",Ta="zcn7A",xa="chWk3",Na="_sHe1",Ia="gDeKG",Ra="IGXCi",Ma="IidE2",Aa="GPfOD",Ba="QPAYt";const Za=e=>{var t=e.isInvalid,n=(0,h.bp)()._t,a=(0,o.useState)(!1),r=f()(a,2),s=r[0],i=r[1];return o.createElement("div",{className:Sa},o.createElement("div",{className:Ta},o.createElement("div",{className:xa},o.createElement("span",{className:Na},n("Payment method")),o.createElement("span",{className:Ia},n("Your payment method is used across all your subscriptions."))),o.createElement(j.Z,{label:n("Edit your payment method"),wrapperClassName:Ra,onClick:()=>{i(!s)}},s?o.createElement(ka.Cq,{fill:N().paletteGray65}):o.createElement(ka.nT,{fill:N().paletteGray65}))),s&&o.createElement(o.Fragment,null,o.createElement(un,$()({baseRoute:zt.Ll.Memberships},e)),t&&o.createElement("div",{className:Ma},o.createElement("span",{className:Aa},o.createElement(Pa.Z,{fill:N().paletteOrange})),o.createElement("div",{className:Ba},o.createElement("h3",null,n("Update your payment method")),o.createElement("p",null,n("Your payment method is no longer valid. Please update it to resume your Post+ subscription."))))))};var La=n(75903);const Oa="Z1Cpp",Da="R_GcI",Fa="_Nb1x";const _a=()=>o.createElement("div",{className:Oa},o.createElement("span",{className:Da},o.createElement(m.ZP,null,"Blog")),o.createElement("span",{className:Fa},o.createElement(m.ZP,null,"Inactive status"))),Ha="sl6qr",Ua="dec5l",za="Wl5Z2",Va="z05cA";const Wa=()=>o.createElement("div",{className:Ha},o.createElement("span",{className:Ua},o.createElement(m.ZP,null,"Blog")),o.createElement("span",{className:za},o.createElement(m.ZP,null,"Plan")),o.createElement("span",{className:Va},o.createElement(m.ZP,null,"Next billing date"))),Ga="czdsB",qa="dOTgj",ja="RbK2k";class Ka extends o.Component{constructor(){super(...arguments),la()(this,"state",{hasError:!1,isEmpty:!this.props.initialPage}),la()(this,"getInitialPage",(()=>this.props.initialPage)),la()(this,"onPagination",(e=>{var t=e.objects;this.setState({isEmpty:0===t.length,hasError:!1})})),la()(this,"onPaginationError",(()=>{this.setState({hasError:!0})})),la()(this,"getSubscribers",(e=>(0,W.ZP)(e).getSubscriptions(this.props.filter))),la()(this,"getObjectsFromResponse",(e=>wa(e.response.timeline.elements,this.props.paymentManager))),la()(this,"getNextLink",(e=>{var t;return null===(t=e.response.timeline.links)||void 0===t?void 0:t.next}))}render(){var e=this.state,t=e.hasError,n=e.isEmpty,a=this.props.filter,r=this.props.appContext.apiFetch;return o.createElement("div",null,o.createElement("div",{className:(0,c.Z)({[Ga]:!0,[ja]:t||n})},!(t||n)&&(a===sa.Active?o.createElement(Wa,null):o.createElement(_a,null)),o.createElement("div",{className:qa},o.createElement(La.Z,{getInitialPage:this.getInitialPage,endpointApiRequest:this.getSubscribers(r),getObjectsFromResponse:this.getObjectsFromResponse,getNextLink:this.getNextLink,onPaginationError:this.onPaginationError,onPagination:this.onPagination,knightRiderLoaderColor:N().transparentBlack65}))))}}const Qa=(0,h.HJ)(Ka),Ja="k53SA",Ya="GPkuc",Xa="qJDLB",$a="lZRX9",eo="jw0sU",to="wqddf";var no=[sa.Active,sa.Inactive];class ao extends o.Component{constructor(){super(...arguments),la()(this,"state",this.props.appContext.getBootstrap(Ft.Rn)),la()(this,"fetchPageData",(()=>(this.setState({isFetching:!0}),Ea(this.props.appContext.apiFetch,window.location.host).then((e=>this.setState(e)))))),la()(this,"renderLoader",(()=>o.createElement("div",{className:Ja},o.createElement(_.Z,{centerOrientation:_.Q.Horizontal,color:N().paletteTransparentWhite65})))),la()(this,"renderBody",(()=>{var e=this.state,t=e.activeFilter,n=e.ccExpiryMonth,a=e.ccExpiryYear,r=e.ccNumber,s=e.ccType,i=e.isInvalid,l=e.updateUrl,c=this.props.appContext._t,d=this.getPaginatorContent("Tumblrpay"),u=this.getPaginatorContent("Ios");return o.createElement("div",{className:Ya},o.createElement("h2",{className:Xa},o.createElement(m.ZP,null,"Post+ subscriptions")),o.createElement(ua.Z,{timelineOptions:no,viewsShown:[],onViewClick:da(),getButtonProps:this.getTimelineChangeButtonProps,currentView:va.mt.List,activeOption:t}),o.createElement("main",null,0!==d.objects.length&&o.createElement("div",{className:$a},o.createElement("h3",{className:eo},c("Tumblr subscriptions")),o.createElement("p",{className:to},c("Purchased via tumblr.com")),l&&o.createElement(Za,{isInvalid:i,ccType:s,ccNumber:r,ccExpiryMonth:n,ccExpiryYear:a}),o.createElement("div",null,o.createElement(Qa,{initialPage:d,filter:t,paymentManager:"Tumblrpay"}))),0!==u.objects.length&&o.createElement("div",{className:$a},o.createElement("h3",{className:eo},c("Mobile subscriptions")),o.createElement("p",{className:to},c("Purchased on other platforms")),o.createElement(hn.Z,{message:c("Manage mobile Post+ subscriptions on the Tumblr app. Just go to Account settings > Post+ subscriptions to get started."),theme:hn.o.Info}),o.createElement("div",null,o.createElement(Qa,{initialPage:u,filter:t,paymentManager:"Ios"}))),0===d.objects.length&&0===u.objects.length&&o.createElement("div",{className:$a},o.createElement(ga,{filter:t}))))})),la()(this,"getPaginatorContent",(e=>{var t=this.state,n=t.activeFilter,a=t.activeSubscriptions,o=t.inactiveSubscriptions,r=n===sa.Active?a:o,i=wa((null==r?void 0:r.objects)||[],e);return s()(s()({},r),{},{objects:i})})),la()(this,"getTimelineChangeButtonProps",(e=>{var t=this.props.appContext._cn,n=this.state,a=n.activeCount,o=n.inactiveCount,r=e===sa.Active?t("Label for the amount of active Post+ subscriptions","Active","Active",a):t("Label for the amount of inactive Post+ subscriptions","Inactive","Inactive",o),s=e===sa.Active?a:o;return{label:"".concat(s," ").concat(r),onClick:()=>this.setFilterMode(e)}})),la()(this,"setFilterMode",(e=>this.setState({activeFilter:e}))),la()(this,"cancelInProgressFetchIfNecessary",(()=>{var e;return null===(e=this.fetchInProgress)||void 0===e?void 0:e.cancel()}))}componentDidMount(){return this.fetchInProgress=(0,fa.Z)(null==this.state.isFetching?this.fetchPageData():Promise.resolve()),this.fetchInProgress}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}render(){return this.state.isFetching?this.renderLoader():this.renderBody()}}const oo=(0,ba.X9)(ao,{appContext:!0});var ro=function(){var e=v()(C().mark((function e(t,n){var a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.userConfigRequest;case 2:if(a=e.sent,a.features.paywallConsumption){e.next=6;break}throw new Kn(404,"Not found","/settings/subscriptions");case 6:return e.abrupt("return",Ea(t));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),so=(a.f.Subscriptions,a.f.Premium,{[a.f.Privacy]:function(e){return(0,W.ZP)(e).getConfig().fetch().then((e=>{var t,n=e.response,a=n.redpop;return{gdprIsEu:a.gdprIsEu,olderThanMinimumCcpaAge:a.olderThanMinimumCcpaAge,canUpdateConsent:a.canUpdateConsent,downloadRequests:null===(t=n.gdpr)||void 0===t?void 0:t.downloadRequests}}))}}),io={name:"settings",isLoginRequired:!0,analyticsPageName:"Settings"},lo=["The good stuff","Look around. Be Amazed","What?","Keep Out","More like sadmin","We are awesome","Flips, switches & toggles","Enable the lasers","Let the dogs out","Meow"],co=()=>null,uo={[a.f.Account]:{title:e=>(0,e._c)("Account settings page title","Account"),description:e=>(0,e._c)("Account settings page description","The essentials"),isRedpop:!0,isVisible:!0,component:wt},[a.f.Dashboard]:{title:e=>(0,e._c)("Dashboard Settings | Tumblr","Dashboard"),description:e=>(0,e._c)("Dashboard settings page description","Appearance options, text editor"),isRedpop:!0,isVisible:!0,component:It},[a.f.Notifications]:{title:e=>(0,e._c)("Notification settings page title","Notifications"),description:e=>(0,e._c)("Notification settings page description","Via email & mobile"),isRedpop:!1,isVisible:!0,component:co},[a.f.Premium]:{title:e=>{e._c;return"Premium"},description:e=>{e._c;return"Manage your Premium subscription"},isRedpop:!0,isVisible:e=>!!e.features.tumblrIntergalactic,prefetch:Qn,component:qn},[a.f.Subscriptions]:{title:e=>(0,e._c)("Post+ subscriptions settings page title","Post+ subscriptions"),description:e=>(0,e._c)("Subscriptions settings page description","Manage your Post+ subscriptions"),isRedpop:!0,isVisible:e=>!!e.features.paywallConsumption,prefetch:ro,component:oo},[a.f.Apps]:{title:e=>(0,e._c)("App settings page title","Apps"),description:e=>(0,e._c)("App settings page description","Things you've connected"),isRedpop:!1,isVisible:!0,component:co},[a.f.Privacy]:{title:e=>(0,e._c)("Privacy settings page title","Privacy"),description:e=>(0,e._c)("Privacy settings page description","Manage your privacy settings"),isRedpop:e=>!!e.features.redpopPrivacySettings,isVisible:!0,component:ra},[a.f.Admin]:{title:e=>(0,e._c)("Administration settings page title","Admin"),description:()=>lo[new Date((new Date).setHours(0,0,0,0)).getTime()%10],isRedpop:!0,isVisible:e=>!!e.isAdmin,component:xt},[a.f.Labs]:{title:e=>(0,e._c)("Tumblr Labs settings page title","Labs"),description:e=>(0,e._c)("Tumblr Labs settings page title","Weird new stuff we're making"),isRedpop:!0,isVisible:e=>!!e.features.labs,component:Ot},[a.f.Password]:{title:e=>(0,e._c)("Change password settings page title","Change password"),description:e=>(0,e._c)("Change password settings page description","Change password"),isRedpop:!1,isVisible:!1,component:co},[a.f.Tfa]:{title:e=>(0,e._c)("Two factor authentication settings page title","Two factor authentication"),description:e=>(0,e._c)("Two factor authentication settings page description","Two factor authentication"),isRedpop:!1,isVisible:!1,component:co}}},94781:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>c,RT:()=>p});var a=n(85313),o=n.n(a),r=n(43893),s=n.n(r),i=n(46753),l=n.n(i),c="Settings",d={accountActivityEmails:!0,allowFindByEmail:!0,asksSubmissionsHeaderBadges:!0,colorizedTags:!0,dashboardBestStuffFirst:!0,dashboardFollowedTagsPosts:!0,dashboardInYourOrbit:!0,dashboardBasedOnYourLikes:!0,defaultPostFormat:0,email:"test@example.com",endlessScrolling:!0,filteredContent:[],filteredTags:[],improvedSearch:!0,language:"en_US",messagingSounds:!0,onlineStatusIndicator:!0,gdprConsentCore:!1,ccpaOptedOut:!1,tfaAuthenticatorEnabled:!1,tfaSmsEnabled:!1,tfaSmsPhoneNo:"",timestamps:!1,hideSensitiveContent:!0,labsEnabled:!0,labsExperiments:[],disableAdminOnlyFeatures:!1,disableAdminTagButtons:!1,adminEnableDevboxRedpop:!1,tumblrPremium:!1},u=Object.entries(d).reduce(((e,t)=>{var n=s()(t,1)[0];return o()(o()({},e),{},{[n]:n})}),{}),p=l()(d,[u.email,u.tfaSmsEnabled,u.tfaSmsPhoneNo,u.tfaAuthenticatorEnabled])},3509:(e,t,n)=>{"use strict";n.d(t,{Rn:()=>a,HJ:()=>o});var a="ImageUrlPage",o={name:"image-url-page",isLoginRequired:!1,analyticsPageName:"ImageUrlPage",usePalette:!1,cacheExpirationInSeconds:3600}},18630:(e,t,n)=>{"use strict";n.d(t,{cS:()=>ce,GU:()=>Fe,sK:()=>Le,JQ:()=>b,l$:()=>Ie,Gx:()=>ye,hT:()=>M,f1:()=>Z,A:()=>h,jf:()=>N,_f:()=>Je,mf:()=>je,T8:()=>oe,g3:()=>w,vH:()=>E,vL:()=>Ue,eh:()=>We,mn:()=>X,fy:()=>u,jY:()=>q,Vm:()=>Q,wq:()=>se,F7:()=>xe,JO:()=>pe,Te:()=>D,gW:()=>fe,sA:()=>ge,ci:()=>S,Cq:()=>V,tX:()=>Pe,Zr:()=>H,v9:()=>te,t6:()=>Be,$p:()=>Me});var a=n(92969),o=n.n(a),r=n(95004),s=n(38689),i=n(41618);const l=(e,t)=>{var n,a,l=null;return i.Z.set(t,(()=>e().then((e=>{var t=e.default;l=t})))),a=n=class extends r.Component{constructor(){super(...arguments),o()(this,"state",{component:l})}static getRouteConfig(){return l?(0,s.PF)(l):l}componentDidMount(){this.state.component||e().then((e=>{var t=e.default;l=t,this.setState((()=>({component:t})))}))}render(){return this.state.component?r.createElement(this.state.component,this.props):null}},o()(n,"routeConfig",null),a};var c={name:"landing-page",isLoginRequired:!1,isLoggedOutRequired:!1,analyticsPageName:"SignupLogin",usePalette:!1,cookieBootstrap:[n(36104).zC.COPPA_REGISTRATION_BLOCKED],cacheExpirationInSeconds:e=>{var t;if(null===(t=e.cookies)||void 0===t||!t.sid)return 60}},d=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(6781)]).then(n.bind(n,72581))),"landing-page");const u=(0,s.Ms)(d,{routeConfig:c});var p=n(38708),m=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(9966)]).then(n.bind(n,24018))),"dashboard");const h=(0,s.Ms)(m,{routeConfig:p.H});var g=n(80333),v=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(435)]).then(n.bind(n,37808))),"blog-view");const b=(0,s.Ms)(v,{routeConfig:g.HJ});var f=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(556)]).then(n.bind(n,89089))),"following");const E=(0,s.Ms)(f,{routeConfig:{name:"following",isLoginRequired:!0,analyticsPageName:"Following"}});var C=n(44730),y=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(5336)]).then(n.bind(n,31515))),"followers");const w=(0,s.Ms)(y,{routeConfig:C.H});var k=n(18734),P=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(8618)]).then(n.bind(n,19449))),"queue");const S=(0,s.Ms)(P,{routeConfig:k.H});var T=n(70098),x=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(1383)]).then(n.bind(n,43587))),"drafts");const N=(0,s.Ms)(x,{routeConfig:T.H});var I=n(84857),R=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(6994)]).then(n.bind(n,12731))),"memberships-route");const M=(0,s.Ms)(R,{routeConfig:I.HJ});var A=n(26027),B=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(1912)]).then(n.bind(n,64038))),"creator-settings-page");const Z=(0,s.Ms)(B,{routeConfig:A.HJ});var L=n(58691),O=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(863)]).then(n.bind(n,68322))),"payouts");const D=(0,s.Ms)(O,{routeConfig:L.H});var F=n(73792),_=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5662),n.e(5571)]).then(n.bind(n,48869))),"settings");const H=(0,s.Ms)(_,{routeConfig:F.HJ});var U=n(77083),z=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(5915)]).then(n.bind(n,12920))),"review");const V=(0,s.Ms)(z,{routeConfig:U.H});var W=n(88025),G=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(7604)]).then(n.bind(n,92))),"likes");const q=(0,s.Ms)(G,{routeConfig:W.HJ});var j=n(96061),K=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(4158)]).then(n.bind(n,57110))),"messages");const Q=(0,s.Ms)(K,{routeConfig:j.H});var J=n(58368),Y=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2589)]).then(n.bind(n,53805))),"inbox");const X=(0,s.Ms)(Y,{routeConfig:J.H});var $=n(66840),ee=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(5653)]).then(n.bind(n,67618))),"tagged-page");const te=(0,s.Ms)(ee,{routeConfig:$.HJ});var ne=n(61012),ae=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(6341)]).then(n.bind(n,58278))),"explore-page");const oe=(0,s.Ms)(ae,{routeConfig:ne.HJ});var re=l((()=>n.e(3523).then(n.bind(n,97535))),"messaging");const se=(0,s.Ms)(re,{routeConfig:{name:"messaging",isLoginRequired:!0,analyticsPageName:"Messaging"}});var ie=n(12896),le=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(9667),n.e(1471)]).then(n.bind(n,3329))),"activity");const ce=(0,s.Ms)(le,{routeConfig:ie.HJ});var de=n(85964),ue=l((()=>Promise.all([n.e(3712),n.e(4741)]).then(n.bind(n,7061))),"new-message");const pe=(0,s.Ms)(ue,{routeConfig:de.H});var me=n(42366),he=l((()=>Promise.all([n.e(3712),n.e(3158),n.e(8224),n.e(5783)]).then(n.bind(n,58795))),"post-form");const ge=(0,s.Ms)(he,{routeConfig:me.HJ});var ve=n(76599),be=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(9147)]).then(n.bind(n,55525))),"peepr-route");const fe=(0,s.Ms)(be,{routeConfig:ve.HJ});var Ee=n(71995),Ce=l((()=>n.e(3066).then(n.bind(n,4889))),"conversation-window");const ye=(0,s.Ms)(Ce,{routeConfig:Ee.H});var we=n(71683),ke=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(6464)]).then(n.bind(n,57951))),"search");const Pe=(0,s.Ms)(ke,{routeConfig:we.H});var Se=n(80437),Te=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5103),n.e(2461),n.e(7180),n.e(2525)]).then(n.bind(n,89886))),"naked-timeline-page");const xe=(0,s.Ms)(Te,{routeConfig:Se.HJ});var Ne=l((()=>n.e(6830).then(n.bind(n,41515))),"consent");const Ie=(0,s.Ms)(Ne,{routeConfig:{name:"consent",isLoginRequired:!1,analyticsPageName:"Consent"}});var Re=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(6304)]).then(n.bind(n,94945))),"year-in-review");const Me=(0,s.Ms)(Re,{routeConfig:{name:"year-in-review",isLoginRequired:!0,analyticsPageName:"YearInReview",usePalette:!1}});var Ae=l((()=>Promise.all([n.e(3712),n.e(7181)]).then(n.bind(n,19108))),"video-hub-route");const Be=(0,s.Ms)(Ae,{routeConfig:{name:"video-hub-route",isLoginRequired:!1,analyticsPageName:"video-hub-route"}});var Ze=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(577),n.e(5662),n.e(5227)]).then(n.bind(n,91520))),"blog-settings");const Le=(0,s.Ms)(Ze,{routeConfig:{name:"blog-settings",isLoginRequired:!0,analyticsPageName:"BlogSettings"}});var Oe=n(14393),De=l((()=>Promise.all([n.e(3712),n.e(1622)]).then(n.bind(n,21217))),"archive-page");const Fe=(0,s.Ms)(De,{routeConfig:Oe.HJ});var _e=n(4039),He=l((()=>Promise.all([n.e(3712),n.e(4624)]).then(n.bind(n,47736))),"image-page");const Ue=(0,s.Ms)(He,{routeConfig:_e.HJ});var ze=n(3509),Ve=l((()=>n.e(8505).then(n.bind(n,92479))),"image-url-page");const We=(0,s.Ms)(Ve,{routeConfig:ze.HJ});var Ge=n(45819),qe=l((()=>Promise.all([n.e(3712),n.e(8371),n.e(4901),n.e(4468)]).then(n.bind(n,61002))),"error-page");const je=(0,s.Ms)(qe,{routeConfig:Ge.H});var Ke=n(73520),Qe=l((()=>n.e(1473).then(n.bind(n,92579))),"embed-post");const Je=(0,s.Ms)(Qe,{routeConfig:Ke.HJ})},9898:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var a=(0,n(95004).createContext)(void 0)},53551:(e,t,n)=>{"use strict";var a,o;n.d(t,{gm:()=>a,Ng:()=>o,Pz:()=>s,GV:()=>i,BC:()=>r}),function(e){e.Ask="ask",e.AskAnswer="ask_answer",e.Conversational="conversational",e.ConversationalRollup="conversational_rollup",e.Follower="follower",e.FollowerRollup="follower_rollup",e.GroupMember="group_member",e.Like="like",e.LikeRollup="like_rollup",e.NoteMention="note_mention",e.PostAttribution="post_attribution",e.Reblog="reblog",e.ReblogNaked="reblog_naked",e.ReblogNakedRollup="reblog_naked_rollup",e.Reply="reply",e.UserMention="user_mention",e.WhatYouMissed="what_you_missed",e.PostFlagged="post_flagged",e.AppealVerdictGranted="appeal_verdict_granted",e.AppealVerdictDenied="appeal_verdict_denied",e.SpamReported="spam_reported",e.BackInTown="back_in_town",e.Tip="tip"}(a||(a={})),function(e){e.Like="like",e.Reply="reply",e.MentionPost="mention_in_post",e.MentionReply="mention_in_reply",e.NewFollower="follow",e.ReblogWithComment="reblog_with_content",e.ReblogWithoutComment="reblog_naked",e.AskReceived="ask",e.AskAnswered="answered_ask",e.NewGroupBlogMember="new_group_blog_member",e.PostAttribution="post_attribution",e.PostFlagged="post_flagged",e.AppealAccepted="post_appeal_accepted",e.AppealRejected="post_appeal_rejected",e.WhatYouMissed="what_you_missed",e.ConversationalNote="conversational_note",e.SpamReported="spam_reported",e.BackInTown="back_in_town",e.Tip="tip",e.Tags="tags",e.Rollups="rollups"}(o||(o={}));var r,s=Object.values(o).reduce(((e,t)=>(e[t]=!1,e)),{}),i=Object.values(o).reduce(((e,t)=>(e[t]=!0,e)),{});!function(e){e.GIF="gif",e.Image="image",e.None="none"}(r||(r={}))},48866:(e,t,n)=>{"use strict";var a,o,r;n.d(t,{jp:()=>a,m3:()=>o,Ej:()=>r}),function(e){e.Day="day",e.ThreeDays="threedays",e.Week="week",e.Month="month"}(a||(a={})),function(e){e.Hourly="hourly",e.Daily="daily",e.Sum="sum"}(o||(o={})),function(e){e.Notes="notes",e.TotalFollowers="total",e.NewFollowers="new"}(r||(r={}))},66438:(e,t,n)=>{"use strict";var a,o;n.d(t,{y:()=>a,J:()=>o}),function(e){e[e.None=0]="None",e[e.Sponsored=1]="Sponsored",e[e.InHouse=2]="InHouse",e[e.Radar=3]="Radar",e[e.TrackSilently=4]="TrackSilently",e[e.Recommended=5]="Recommended"}(a||(a={})),function(e){e.LearnMore="Learn more",e.ContactUs="Contact us",e.ShopNow="Shop now",e.SignUp="Sign up",e.WatchMore="Watch more",e.Subscribe="Subscribe",e.BookNow="Book now",e.ApplyNow="Apply now",e.GetQuote="Get quote",e.DonateNow="Donate now"}(o||(o={}))},21392:(e,t,n)=>{"use strict";var a;n.d(t,{Z:()=>o}),function(e){e[e.RequiresGdprGuceConsent=1026]="RequiresGdprGuceConsent",e[e.ApiLoginRequiresGdprGuceConsent=1027]="ApiLoginRequiresGdprGuceConsent",e[e.RequiresLogin=1034]="RequiresLogin",e[e.HiddenBlog=4012]="HiddenBlog",e[e.PasswordProtectedBlog=4013]="PasswordProtectedBlog",e[e.RequestInvalidParam=5016]="RequestInvalidParam",e[e.InappropriateCursor=5039]="InappropriateCursor",e[e.PostInvalidBodyParam=8001]="PostInvalidBodyParam",e[e.PostUserUploadLimitReached=8004]="PostUserUploadLimitReached",e[e.PostBadMediaFormat=8005]="PostBadMediaFormat",e[e.PostUnknownUploadErrorNonVideo=8006]="PostUnknownUploadErrorNonVideo",e[e.PostUnknownUploadErrorVideo=8009]="PostUnknownUploadErrorVideo",e[e.PostVideoProcessing=8010]="PostVideoProcessing",e[e.PostVideoLimitReached=8011]="PostVideoLimitReached",e[e.PostInvalidNpfAnswer=8016]="PostInvalidNpfAnswer",e[e.PostQueueLimitReached=8022]="PostQueueLimitReached",e[e.PostDailyPostLimitHit=8023]="PostDailyPostLimitHit",e[e.TokenAlreadyRegistered=16004]="TokenAlreadyRegistered",e[e.PasswordInvalid=16006]="PasswordInvalid",e[e.TfaInvalid=16007]="TfaInvalid"}(a||(a={}));const o=a},97319:(e,t,n)=>{"use strict";n.d(t,{xd:()=>o,R$:()=>s,Hm:()=>i,$u:()=>r,Pf:()=>l});var a,o;n(74328);!function(e){e.adult="adult",e.nsfw="nsfw"}(a||(a={})),function(e){e.inbox="inbox",e.notifications="notifications",e.unread="unread",e.unreadMessages="unread_messages",e.nextFrom="next_from",e.blogNotificationCounts="blog_notification_counts",e.privateGroupBlogUnreadPostCounts="private_group_blog_unread_post_counts",e.blogPostCounts="blog_post_counts",e.legacyInboxUnread="legacy_inbox_unread",e.legacyInboxUnreadStatus="legacy_inbox_unread_status"}(o||(o={}));var r,s=e=>!!e.response.posts,i=e=>!!e.response.timeline;!function(e){e.Followed="followed",e.Own="own",e.Exists="exists"}(r||(r={}));var l=e=>{var t;return!(null===(t=e.response.blogs)||void 0===t||!t.data)}},15758:(e,t,n)=>{"use strict";var a;n.d(t,{U:()=>a}),function(e){e.Action="action",e.Web="web"}(a||(a={}))},61241:(e,t,n)=>{"use strict";var a;n.d(t,{o:()=>a}),function(e){e.Square="square",e.Circle="circle"}(a||(a={}))},3575:(e,t,n)=>{"use strict";n.d(t,{YQ:()=>c,lM:()=>a,w1:()=>d,WA:()=>u,O:()=>o,U0:()=>s});var a,o,r,s,i=n(85313),l=n.n(i),c=32;function d(e){return!!e.subscriptionPlan&&e.subscriptionPlan.isValid}function u(e){return l()(l()({},e),{},{posts:void 0})}!function(e){e.avatar="avatar",e.name="name",e.title="title",e.url="url",e.uuid="uuid",e.theme="theme",e.canMessage="canMessage",e.canBeFollowed="canBeFollowed",e.followed="followed",e.admin="admin",e.isAdult="isAdult",e.secondsSinceLastActivity="secondsSinceLastActivity",e.description="description",e.descriptionNpf="descriptionNpf",e.isActive="isActive",e.posts="posts",e.followers="followers",e.drafts="drafts",e.messages="messages",e.queue="queue",e.primary="primary",e.isPrivateChannel="isPrivateChannel",e.isMember="isMember",e.hasFlaggedPosts="hasFlaggedPosts",e.isOptoutAds="isOptoutAds",e.firstPostTimestamp="firstPostTimestamp",e.updated="updated",e.isGroupChannel="isGroupChannel",e.language="language",e.isNsfw="isNsfw",e.topTags="topTags",e.tweet="tweet",e.linkedAccounts="linkedAccounts",e.shareLikes="shareLikes",e.shareFollowing="shareFollowing",e.canSubscribe="canSubscribe",e.subscribed="subscribed",e.isPasswordProtected="isPasswordProtected",e.ask="ask",e.askAnon="askAnon",e.canSubmit="canSubmit",e.isBlockedFromPrimary="isBlockedFromPrimary",e.analyticsUrl="analyticsUrl",e.mentionKey="mentionKey",e.timezone="timezone",e.timezoneOffset="timezoneOffset",e.subscriptionPlan="subscriptionPlan",e.canOnboardToPaywall="canOnboardToPaywall",e.isPaywallOn="isPaywallOn",e.isTumblrpayOnboarded="isTumblrpayOnboarded",e.wasPaywallOn="wasPaywallOn",e.paywallAccess="paywallAccess",e.advertiserName="advertiserName",e.isPremiumPartner="isPremiumPartner",e.isBloglessAdvertiser="isBloglessAdvertiser",e.isFollowingYou="isFollowingYou",e.durationBlogFollowingYou="durationBlogFollowingYou",e.durationFollowingBlog="durationFollowingBlog",e.badge="badge",e.badgeText="badgeText",e.topTagsFewer="topTagsFewer",e.topTagsAll="topTagsAll",e.isTippingOn="isTippingOn"}(a||(a={})),function(e){e.Twitter="twitter"}(o||(o={})),function(e){e.Auto="auto",e.Y="y",e.Yes="yes",e.On="on",e.True="true",e.N="n",e.No="no",e.Off="off",e.False="false"}(r||(r={})),function(e){e.Big="big",e.Medium="medium",e.Small="small",e.Mini="mini"}(s||(s={}))},31626:(e,t,n)=>{"use strict";n.d(t,{vS:()=>a,fR:()=>s,J8:()=>i,GT:()=>l,ww:()=>c,Sr:()=>u,G8:()=>p,fu:()=>m,Qc:()=>h,_W:()=>g,eo:()=>v,Se:()=>b,wS:()=>f,Cl:()=>E,Zg:()=>C,jN:()=>y,Pw:()=>w,eh:()=>k});class a{constructor(e,t){this.name=e,this.extraAttributes=t}}function o(e,t){return e.name===(null==t?void 0:t.name)}function r(e,t){return e.reduce(((e,n)=>e||o(n,t)),!1)}function s(e){return o(a.home,e)}function i(e){return o(a.explore,e)}function l(e){return o(a.inbox,e)}function c(e){return o(a.messaging,e)}a.landing=new a("landing"),a.home=new a("home"),a.explore=new a("explore"),a.inbox=new a("inbox"),a.messaging=new a("messaging"),a.post=new a("post"),a.likes=new a("likes"),a.following=new a("following"),a.settings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new a("settings",{page:e})},a.activity=e=>new a("activity",{blogName:e}),a.members=e=>new a("members",{blogName:e}),a.drafts=e=>new a("drafts",{blogName:e}),a.queue=e=>new a("queue",{blogName:e}),a.messages=e=>new a("messages",{blogName:e}),a.subscriptions=e=>new a("subscriptions",{blogName:e}),a.customize=e=>new a("customize",{blogName:e}),a.analytics=e=>new a("analytics",{blogName:e}),a.posts=e=>new a("posts",{blogName:e}),a.followers=e=>new a("followers",{blogName:e}),a.flagged=e=>new a("flagged",{blogName:e}),a.creatorSettings=e=>new a("creatorSettings",{blogName:e}),a.creatorProfile=e=>new a("creatorProfile",{blogName:e}),a.payouts=e=>new a("payouts",{blogName:e}),a.search=e=>new a("search",{searchTerm:e});var d=[a.activity(""),a.members(""),a.drafts(""),a.queue(""),a.messages(""),a.subscriptions(""),a.customize(""),a.analytics(""),a.posts(""),a.followers(""),a.flagged(""),a.creatorSettings("")];function u(e){return r(d,e)}function p(e){return r([...d,a.likes,a.following,a.settings("")],e)}function m(e){return o(a.activity(""),e)}function h(e){return o(a.members(""),e)}function g(e){return o(a.drafts(""),e)}function v(e){return o(a.queue(""),e)}function b(e){return o(a.customize(""),e)}function f(e){return o(a.analytics(""),e)}function E(e){return o(a.posts(""),e)}function C(e){return o(a.followers(""),e)}function y(e){return o(a.flagged(""),e)}function w(e){return o(a.payouts(""),e)}function k(e){return o(a.search(""),e)}},95132:(e,t,n)=>{"use strict";var a;n.d(t,{Z:()=>o}),function(e){e.Development="development",e.Production="production"}(a||(a={}));const o=a},78709:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,W:()=>r});var a,o=n(31626);function r(e){return(0,o._W)(e)?{saveButtonState:a.Draft}:(0,o.eo)(e)?{saveButtonState:a.Queue}:{saveButtonState:a.New}}!function(e){e.New="new",e.Draft="draft",e.Queue="queue"}(a||(a={}))},4569:(e,t,n)=>{"use strict";var a;n.d(t,{A:()=>a}),function(e){e.Redirect="redirect",e.Save="save"}(a||(a={}))},36104:(e,t,n)=>{"use strict";n.d(t,{Ox:()=>o,R0:()=>r,zC:()=>a});var a,o="1",r="0";!function(e){e.MAIN_SETTING="redpop",e.EXPERIMENT="redpop_experiment",e.SID="sid",e.EDITOR_BETA_TOGGLED="redpop-editor-beta-toggled",e.EDITOR_GUTENBERG_TOGGLED="redpop-editor-gutenberg-toggle",e.SIGN_UP_CTA_DISMISSED="sign-up-cta-dismissed",e.EXPLORE_TAGS_EMPTY_CTA_DISMISSED="explore-tags-empty-cta-dismissed",e.COPPA_REGISTRATION_BLOCKED="cregb",e.TAGGED_DISPLAY_MODE="tagged-displayMode",e.LIKES_DISPLAY_MODE="likes-displayMode",e.SEARCH_DISPLAY_MODE="search-displayMode",e.ACTIVITY_GRAPH="activity",e.ACTIVITY_FILTER="activity-filter"}(a||(a={}))},86810:(e,t,n)=>{"use strict";var a;n.d(t,{tT:()=>a,Pd:()=>o}),function(e){e.Refunds="refunds",e.Members="supporters"}(a||(a={}));var o="settings"},21308:(e,t,n)=>{"use strict";var a,o,r;n.d(t,{Cx:()=>a,qC:()=>o,gO:()=>r}),function(e){e.Notes="notes",e.ArchiveMonth="archive-month",e.MonthNameLong="month-name-long",e.WeekdayShort="weekday-short",e.MonthDayShort="month-day-short",e.WeekdayMonthYear="weekday-month-year",e.DateAndTime="date-and-time",e.Time="time",e.TimeUTC="time-utc",e.NumericDayMonth="numeric-day-month",e.LeadingDayMonthYear="leading-day-month-year",e.NumericDayMonthHour="numeric-day-month-hour"}(a||(a={})),function(e){e.Days="days",e.Relative="relative",e.Simple="simple",e.Automatic="auto",e.AutomaticCompact="autocompact"}(o||(o={})),function(e){e.Short="short"}(r||(r={}))},17304:(e,t,n)=>{"use strict";var a,o;n.d(t,{Yi:()=>o,ZP:()=>r}),function(e){e.Smartphone="smartphone",e.Tablet="tablet",e.Desktop="desktop",e.Crawler="crawler"}(a||(a={})),function(e){e.Smartphone="smartphone",e.Tablet="tablet",e.Desktop="desktop"}(o||(o={}));const r=o},33842:(e,t,n)=>{"use strict";n.d(t,{FL:()=>a,Cr:()=>i,vj:()=>l,nw:()=>d,Ru:()=>u,np:()=>p,X_:()=>m,oS:()=>h,o9:()=>g,xQ:()=>v,Bu:()=>b,dy:()=>f,C6:()=>E,Hv:()=>C,jh:()=>y,ml:()=>w,oM:()=>k,gz:()=>P,zC:()=>S,ub:()=>T,No:()=>x,Qb:()=>N,b:()=>I,qj:()=>R,U4:()=>M,e7:()=>A,$S:()=>B,Ig:()=>Z,_s:()=>s});var a,o=n(76155),r=n(8931);!function(e){e.Title="title",e.Text="text",e.PlaceholderGif="placeholder-gif",e.PlaceholderLink="placeholder-link",e.PlaceholderVideo="placeholder-video",e.PlaceholderAudio="placeholder-audio",e.PlaceholderAudioSearch="placeholder-audio-search",e.PlaceholderImage="placeholder-image",e.LocalLink="local-link",e.RemoteLink="remote-link",e.LocalAudio="local-audio",e.RemoteAudio="remote-audio",e.LocalVideo="local-video",e.RemoteVideo="remote-video",e.LocalImage="local-image",e.RemoteImage="remote-image",e.ReadMore="read-more",e.Paywall="paywall"}(a||(a={}));var s,i={links:!0,mentions:!0},l=(e,t)=>E(e)&&E(t)&&c(e,t),c=(e,t)=>e.isAskBlock===t.isAskBlock,d=e=>(null==e?void 0:e.type)===a.LocalVideo,u=e=>(null==e?void 0:e.type)===a.RemoteVideo,p=e=>u(e)||d(e),m=e=>(null==e?void 0:e.type)===a.LocalAudio,h=e=>(null==e?void 0:e.type)===a.RemoteAudio,g=e=>(null==e?void 0:e.type)===a.RemoteImage,v=e=>(null==e?void 0:e.type)===a.LocalImage,b=e=>g(e)||v(e),f=e=>(null==e?void 0:e.type)===a.Title,E=e=>(null==e?void 0:e.type)===a.Text,C=e=>(null==e?void 0:e.type)===a.RemoteLink,y=e=>(null==e?void 0:e.type)===a.LocalLink,w=e=>(null==e?void 0:e.type)===a.PlaceholderLink,k=e=>C(e)||y(e)||w(e),P=e=>(null==e?void 0:e.type)===a.PlaceholderGif,S=e=>(null==e?void 0:e.type)===a.PlaceholderVideo,T=e=>(null==e?void 0:e.type)===a.PlaceholderAudio,x=e=>(null==e?void 0:e.type)===a.PlaceholderImage,N=e=>(null==e?void 0:e.type)===a.PlaceholderAudioSearch,I=e=>w(e)||P(e)||S(e)||T(e)||N(e)||x(e),R=e=>(null==e?void 0:e.type)===a.ReadMore,M=e=>(null==e?void 0:e.type)===a.Paywall,A=e=>v(e)||d(e)||m(e);function B(e){switch(e){case r.K.BOLD:return o.TV.Bold;case r.K.ITALIC:return o.TV.Italic;case r.K.STRIKETHROUGH:return o.TV.Strikethrough;case r.K4.SMALL:return o.TV.Small;default:return null}}function Z(e){switch(e){case o.TV.Bold:return r.K.BOLD;case o.TV.Italic:return r.K.ITALIC;case o.TV.Strikethrough:return r.K.STRIKETHROUGH;case o.TV.Small:return r.K4.SMALL;default:return null}}!function(e){e.ImageExceedsFileSizeLimit="ImageExceedsFileSizeLimit",e.VideoExceedsFileSizeLimit="VideoExceedsFileSizeLimit",e.AudioExceedsFileSizeLimit="AudioExceedsFileSizeLimit",e.ContentExceedsBlocksLimit="ContentExceedsBlocksLimit",e.ContentExceedsLinkBlocksLimit="ContentExceedsLinkBlocksLimit",e.ContentExceedsImageBlocksLimit="ContentExceedsImageBlocksLimit",e.ContentExceedsVideoBlocksLimit="ContentExceedsVideoBlocksLimit",e.ContentExceedsTumblrVideoBlocksLimit="ContentExceedsTumblrVideoBlocksLimit",e.ContentExceedsAudioBlocksLimit="ContentExceedsAudioBlocksLimit"}(s||(s={}))},8931:(e,t,n)=>{"use strict";var a,o;function r(e){return(null==e?void 0:e.type)===o.Link}function s(e){return(null==e?void 0:e.type)===o.Mention}n.d(t,{Qd:()=>a,El:()=>o,Jt:()=>r,Gl:()=>s,d1:()=>l,bn:()=>i,v2:()=>d,HP:()=>u,iQ:()=>p,K4:()=>c,K:()=>m}),function(e){e.Unstyled="unstyled"}(a||(a={})),function(e){e.Link="LINK",e.Mention="MENTION"}(o||(o={}));var i,l="Color";!function(e){e.Red="Red",e.Orange="Orange",e.Yellow="Yellow",e.Green="Green",e.Blue="Blue",e.Black="Black",e.Pink="Pink",e.Purple="Purple"}(i||(i={}));var c,d={HANDLED:"handled",NOTHANDLED:"not-handled"},u={MUTABLE:"MUTABLE",IMMUTABLE:"IMMUTABLE",SEGMENTED:"SEGMENTED"},p={ReplaceText:"replace-text"};!function(e){e.SMALL="SMALL"}(c||(c={}));var m={BOLD:"BOLD",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",CODE:"CODE",UNDERLINE:"UNDERLINE"}},67289:(e,t,n)=>{"use strict";var a;n.d(t,{Ru:()=>a,Um:()=>o,PX:()=>r}),function(e){e.Recommended="recommended-for-you",e.Trending="trending",e.StaffPicks="staff-picks",e.Text="text",e.Photos="photos",e.Gifs="gifs",e.Quotes="quotes",e.Chats="chats",e.Audio="audio",e.Video="video",e.Asks="asks"}(a||(a={}));var o=[a.Trending,a.StaffPicks,a.Text,a.Photos,a.Gifs,a.Quotes,a.Chats,a.Audio,a.Video,a.Asks],r=[a.Text,a.Photos,a.Gifs,a.Quotes,a.Chats,a.Audio,a.Video,a.Asks]},60841:(e,t,n)=>{"use strict";var a;n.d(t,{T:()=>a}),function(e){e.anonymousExplorer="anonymousExplorer",e.OneMobileWebAdSource="oneMobileWebAdSource",e.TeadsTestPlacement="teadsTestPlacement",e.TeadsLivePlacementNoCollapse="teadsLivePlacementNoCollapse",e.RedpopDesktopDashboard="redpopDesktopDashboard",e.RedpopDesktopDashboardRamp="redpopDesktopDashboardRamp",e.RedpopMoneyballAds="redpopMoneyballAds",e.RedpopDesktopEditorBeta="redpopDesktopEditorBeta",e.RedpopDesktopEditorBetaToggle="redpopDesktopEditorBetaToggle",e.RedpopPostForm="redpopPostForm",e.RedpopPostFormMobileReblog="redpopPostFormMobileReblog",e.redpopPostFormMobileEdit="redpopPostFormMobileEdit",e.RedpopPostFormMobileCreate="redpopPostFormMobileCreate",e.RedpopPostFormDesktopCreate="redpopPostFormDesktopCreate",e.RedpopPostFormReblog="redpopPostFormReblog",e.NpfFromChat="npfFromChat",e.NpfFromQuote="npfFromQuote",e.RedpopMrec="redpopMrec",e.exploreRightRailAds="exploreRightRailAds",e.hubsRightRailAds="hubsRightRailAds",e.RedpopBadAdReporting="redpopBadAdReporting",e.RedpopGroupChatLandingPage="redpopGroupChatLandingPage",e.RedpopQueuePage="redpopQueuePage",e.PaywallCreation="paywallCreation",e.PaywallConsumption="paywallConsumption",e.TippingCreation="tippingCreation",e.RedpopMemberships="redpopMemberships",e.RightRailFallback="rightRailFallback",e.Ccpa="ccpa",e.CcpaOptOutSwitch="ccpaOptOutSwitch",e.RedpopRealTimeDashboardMessaging="redpopRealTimeDashboardMessaging",e.RedpopPeeprRedesign="redpopPeeprRedesign",e.PrideMonthLogoAnimation="prideMonthLogoAnimation",e.RedpopPostFormDevInProgress="redpopPostFormDevInProgress",e.BlogCardImprovements="blogCardImprovements",e.PromotingContentApi="promotingContentApi",e.EmbeddablePostsSocial="embeddablePostsSocial",e.EmbeddablePosts="embeddablePosts",e.RedpopFastReblog="redpopFastReblog",e.RedpopFieriLogo="redpopFieriLogo",e.RedpopGroundhogLogo="redpopGroundhogLogo",e.RedpopGothLogo="redpopGothLogo",e.RedpopAutumnLogo="redpopAutumnLogo",e.RedpopHauntoberWeek2="redpopHauntoberWeek2",e.RedpopHauntoberWeek3="redpopHauntoberWeek3",e.RedpopHauntoberWeek4="redpopHauntoberWeek4",e.RedpopHauntoberWeek5="redpopHauntoberWeek5",e.RedpopHauntoberWeek6="redpopHauntoberWeek6",e.RedpopHauntoberWeek7="redpopHauntoberWeek7",e.RedpopNewYear2022Logo="redpopNewYear2022Logo",e.RedpopRelatedPostsLightbox="redpopRelatedPostsLightbox",e.GoToTagInTypeahead="goToTagInTypeahead",e.RedpopThirdPartyAuthentication="redpopThirdPartyAuthentication",e.RedpopLandingLoginDefault="redpopLandingLoginDefault",e.TspUiUpdate="tspUiUpdate",e.LoginWall="loginWall",e.TumblrLabs="labs",e.TumblrIntergalactic="tumblrIntergalactic",e.WordAdsWebAdSource="wordAdsWebAdSource",e.Nft="nft",e.IncreasedVideoUploadLimit="increasedVideoUploadLimit",e.ExperimentalBlockEditor="experimentalBlockEditor",e.CommentingUxRedesign="commentingUxRedesign",e.ShareButtonSwap="shareButtonSwap",e.SearchTimeRange="searchTimeRange",e.SearchTimeRangeWebRamp="searchTimeRangeWebRamp",e.RecommendationReasonTopTeaser="recommendationReasonTopTeaser",e.RedpopPostInteractionControls="redpopPostInteractionControls",e.RedpopActivityBackInTownFiltering="redpopActivityBackInTownFiltering",e.UseMoat="useMoat",e.VideoHubs="videoHubs",e.PaywallOnboarding="paywallOnboarding",e.LoginWithPrimaryTumblelog="loginWithPrimaryTumblelog",e.TspDirectClickThrough="tspDirectClickThrough",e.TimestampsEverywhere="timestampsEverywhere",e.ShowTspClickThroughToggle="showTspClickThroughToggle",e.TagUrlCleanup="tagUrlCleanup",e.ExploreStaffPickUseRadarCuratedTags="exploreStaffPickUseRadarCuratedTags",e.PostFooterRedesign="postFooterRedesign",e.PostCentricBlogCarousel="postCentricBlogCarousel",e.YearInReview="yearInReview",e.ExperimentalBlockEditorIsTheNewBeta="experimentalBlockEditorIsTheNewBeta",e.SafeModeToggle="safeModeToggle",e.TippingConsumption="tippingConsumption",e.RedpopUseDwellTimeImpression="redpopUseDwellTimeImpression",e.RedpopPrivacySettings="redpopPrivacySettings",e.BlogNameReleaseWait="blogNameReleaseWait"}(a||(a={}))},93370:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var a=n(76155),o={postType:void 0,postRole:a.QL.Any,postSort:a.H_.CreatedDesc}},92530:(e,t,n)=>{"use strict";n.d(t,{uO:()=>a,$5:()=>o,Cw:()=>r});var a="www.tumblr.com",o="64.".concat("media.tumblr.com"),r="https://".concat(a)},62272:(e,t,n)=>{"use strict";var a;function o(e){return!!e&&!!e.type&&!!e.type&&Object.values(a).includes(e.type)}n.d(t,{l:()=>a,h:()=>o}),function(e){e.Png="image/png",e.Jpeg="image/jpeg",e.Gif="image/gif"}(a||(a={}))},76097:(e,t,n)=>{"use strict";var a;n.d(t,{c:()=>a}),function(e){e.LoginOrRegister="",e.Login="login",e.Register="register",e.Onboarding="onboarding",e.LinkAccount="linkAccount",e.TwoFactorAuthentication="twoFactorAuthentication"}(a||(a={}))},46665:(e,t,n)=>{"use strict";var a;n.d(t,{lI:()=>a,Rv:()=>o,zX:()=>r,Sy:()=>s,uo:()=>i}),function(e){e.German="de_DE",e.English="en_US",e.Spanish="es_ES",e.French="fr_FR",e.Hindi="hi_IN",e.Indonesian="id_ID",e.Italian="it_IT",e.Japanese="ja_JP",e.Korean="ko_KR",e.Dutch="nl_NL",e.Polish="pl_PL",e.PortugueseBrazil="pt_BR",e.PortuguesePortugal="pt_PT",e.Russian="ru_RU",e.Turkish="tr_TR",e.ChineseSimplified="zh_CN",e.ChineseTraditionalHongKong="zh_HK",e.ChineseTraditionalTaiwan="zh_TW"}(a||(a={}));var o={[a.German]:"de",[a.English]:"en",[a.Spanish]:"es",[a.French]:"fr",[a.Hindi]:"hi",[a.Indonesian]:"id",[a.Italian]:"it",[a.Japanese]:"ja",[a.Korean]:"ko",[a.Dutch]:"nl",[a.Polish]:"pl",[a.PortugueseBrazil]:"pt_BR",[a.PortuguesePortugal]:"pt_PT",[a.Russian]:"ru",[a.Turkish]:"tr",[a.ChineseSimplified]:"zh_CN",[a.ChineseTraditionalHongKong]:"zh_HK",[a.ChineseTraditionalTaiwan]:"zh_TW"},r={[a.English]:{name:"English",localizedName:"English"},[a.German]:{name:"German",localizedName:"Deutsch"},[a.French]:{name:"French",localizedName:"Français"},[a.Italian]:{name:"Italian",localizedName:"Italiano"},[a.Japanese]:{name:"Japanese",localizedName:"日本語"},[a.Turkish]:{name:"Turkish",localizedName:"Türkçe"},[a.Spanish]:{name:"Spanish",localizedName:"Español"},[a.Russian]:{name:"Russian",localizedName:"Pусский"},[a.Polish]:{name:"Polish",localizedName:"Polski"},[a.PortuguesePortugal]:{name:"Portuguese (PT)",localizedName:"Português (PT)"},[a.PortugueseBrazil]:{name:"Portuguese (BR)",localizedName:"Português (BR)"},[a.Dutch]:{name:"Dutch",localizedName:"Nederlands"},[a.Korean]:{name:"Korean",localizedName:"한국어"},[a.ChineseSimplified]:{name:"Chinese (Simplified)",localizedName:"简体中文"},[a.ChineseTraditionalTaiwan]:{name:"Chinese (Traditional)",localizedName:"繁體中文 (台灣)"},[a.ChineseTraditionalHongKong]:{name:"Chinese (HK)",localizedName:"繁體中文 (香港)"},[a.Indonesian]:{name:"Indonesian",localizedName:"Bahasa Indonesia"},[a.Hindi]:{name:"Hindi",localizedName:"हिंदी"}},s="pt",i="long"},2978:(e,t,n)=>{"use strict";n.d(t,{JE:()=>a,zA:()=>o,YD:()=>u,Y3:()=>s,$O:()=>i,bg:()=>l,IV:()=>c});var a,o,r=n(76155);!function(e){e.BlogTitle="blog_title",e.CarouselSlide="carousel_slide",e.Impression="impression",e.TimeSpentOnSite="TimeSpentOnSite",e.ColorPaletteSelected="ColorPaletteSelected",e.ThirdPartyExtensionCSSMapRequest="ThirdPartyExtensions:CssMapRequest",e.ThirdPartyExtensionCSSMapFailure="ThirdPartyExtensions:CssMapFailure",e.AppDownloadClick="app_download_click",e.AppOpenClick="app_open_click",e.DarlaStartRequest="DARLA:startRequest",e.DarlaSuccess="DARLA:success",e.DarlaFailure="DARLA:failure",e.DarlaFinishPosRenderMREC="DARLA:finishPosRender:LREC",e.NewPostIndicatorShow="NewPostIndicatorShow",e.NewPostIndicatorHide="NewPostIndicatorHide",e.NewPostIndicatorTap="NewPostIndicatorTap",e.RestoreTimelineIndicatorShow="RestoreTimelineIndicatorShow",e.RestoreTimelineIndicatorHide="RestoreTimelineIndicatorHide",e.RestoreTimelineIndicatorTap="RestoreTimelineIndicatorTap",e.RestoreTimelineIndicatorRefreshTap="RestoreTimelineIndicatorRefreshTap",e.CDNMediaPageClickLogo="CDNMediaPageClick:Logo",e.CDNMediaPageClickExplore="CDNMediaPageClick:Explore",e.LoginWallOpen="LoginWallOpen",e.ClickLogin="ClickLogin",e.ClickSignup="ClickSignup",e.SignUpCTAClickDismiss="SignUpCTAClickDismiss",e.SignUpCTAClickRegister="SignUpCTAClickRegister",e.StaticSignUpCTAClickRegister="StaticSignUpCTAClickRegister",e.GroupChatLandingPageCardClick="group_chat_landing_page_card_click",e.UnsupportedBrowserMessageView="UnsupportedBrowserMessageView",e.UnsupportedBrowserMessageDismiss="UnsupportedBrowserMessageDismiss",e.BannerActionClick="BannerActionClick",e.TimelineDisplayModeToggleGrid="TimelineDisplayModeToggleGrid",e.TimelineDisplayModeToggleList="TimelineDisplayModeToggleList",e.TimelineDisplayModeToggleMasonry="TimelineDisplayModeToggleMasonry",e.SendAPostClick="SendAPostClick",e.SendAPostSelected="SendAPostSelected",e.ShareDestination="ShareDestination",e.FeatureExposed="feature_exposed",e.Like="like",e.Unlike="unlike",e.ReplyIconClick="reply_icon_click",e.Notes="notes",e.Follow="follow",e.Unfollow="unfollow",e.Share="share",e.ViewableImpression="viewable_impression",e.EditFailed="EditFailed",e.PostFailed="PostFailed",e.ReblogFailed="ReblogFailed",e.ClientReblog="client_reblog",e.EditSuccess="EditSuccess",e.PostFormsIframeError="PostFormsIframeError",e.PostSuccess="PostSuccess",e.PFNewBlock="PFNewBlock",e.PFAlertBlockLimit="PFAlertBlockLimit",e.PFAddLink="PFAddLink",e.PFAddLinkCardError="PFAddLinkCardError",e.PFSelectMedia="PFSelectMedia",e.PFAddMedia="PFAddMedia",e.PFDismiss="PFDismiss",e.PFGifSearch="PFGifSearch",e.PFGifSearchSelect="PFGifSearchSelect",e.PFDragBlock="PFDragBlock",e.PFEditAttempt="PFEditAttempt",e.PFTextStyleParagraph="PFTextStyleParagraph",e.PFTextStyleHeading1="PFTextStyleHeading1",e.PFTextStyleHeading2="PFTextStyleHeading2",e.PFTextStyleQuote="PFTextStyleQuote",e.PFTextStyleChat="PFTextStyleChat",e.PFTextStyleQuirky="PFTextStyleQuirky",e.PFTextStyleUnorderedList="PFTextStyleUnorderedList",e.PFTextStyleOrderedList="PFTextStyleOrderedList",e.PFTextStyleIndented="PFTextStyleIndented",e.PFBlogSelect="PFBlogSelect",e.PFPostAttempt="PFPostAttempt",e.PFComposePost="PFComposePost",e.PFComposePostText="PFComposePost:text",e.PFComposePostAudio="PFComposePost:audio",e.PFComposePostPhoto="PFComposePost:photo",e.PFComposePostQuote="PFComposePost:quote",e.PFComposePostLink="PFComposePost:link",e.PFComposePostChat="PFComposePost:chat",e.PFComposePostVideo="PFComposePost:video",e.PFDeleteBlock="PFDeleteBlock",e.PFTextBold="PFTextBold",e.PFTextItalic="PFTextItalic",e.PFTextStrike="PFTextStrike",e.PFTextSmall="PFTextSmall",e.PFTextRed="PFTextRed",e.PFTextOrange="PFTextOrange",e.PFTextYellow="PFTextYellow",e.PFTextGreen="PFTextGreen",e.PFTextBlue="PFTextBlue",e.PFTextBlack="PFTextBlack",e.PFTextPink="PFTextPink",e.PFTextPurple="PFTextPurple",e.PFInlineLink="PFInlineLink",e.PFTagAdd="PFTagAdd",e.PFTagRemove="PFTagRemove",e.PFOpenCanvas="PFOpenCanvas",e.PFOptionsCog="PFOptionsCog",e.PFOptionsDraft="PFOptionsDraft",e.PFOptionsSchedule="PFOptionsSchedule",e.PFOptionsPrivate="PFOptionsPrivate",e.PFBetaSwitchON="PFBetaSwitchON",e.PFBetaSwitchONConfirm="PFBetaSwitchONConfirm",e.PFBetaSwitchONDismiss="PFBetaSwitchONDismiss",e.PFBetaSwitchOFF="PFBetaSwitchOFF",e.PFBetaSwitchOFFConfirm="PFBetaSwitchOFFConfirm",e.PFBetaSwitchOFFDismiss="PFBetaSwitchOFFDismiss",e.PFBetaSwitchHelp="PFBetaSwitchHelp",e.PFOptionsQueue="PFOptionsQueue",e.PFOptionsNow="PFOptionsNow",e.PFPostOptionOpen="PFPostOptionOpen",e.PFReblogAttempt="PFReblogAttempt",e.ScreenView="ScreenView",e.MRECInitialize="MREC:initialize",e.HydraConfigLoaded="hydra_config_loaded",e.SearchPSAShown="SearchPSAShown",e.SearchResultsClearFiltersCtaTap="SearchResultsClearFiltersCtaTap",e.SearchResultsFilterChange="SearchResultsFilterChange",e.SearchResultsTagElementTap="SearchResultsTagElementTap",e.TagRibbonTagTap="TagRibbonTagTap",e.HeaderTapped="HeaderTapped",e.Photo="photo",e.PhotoClickThrough="photo_click_through",e.PinPost="PinPost",e.PinPostConfirm="PinPostConfirm",e.PinPostCancel="PinPostCancel",e.UnpinPost="UnpinPost",e.ClickedOnTagCard="ClickedOnTagCard",e.FollowTagsModal="FollowTagsModal",e.ManageTagsModal="ManageTagsModal",e.FollowedTagClick="FollowedTagClick",e.Pagination="Pagination",e.CTAButton="cta_button",e.CTAClick="action_click",e.ClickThrough="click_thru",e.VideoClickThrough="video_click_through",e.Click="click",e.WrittenUrlClickThrough="written_url_click_through",e.Permalink="Permalink",e.Posts="posts",e.Avatar="avatar",e.CopyPostLink="CopyPostLink",e.Hyperlink="caption",e.HyperlinkedImage="hyperlinked_image",e.BlogCardShown="BlogCardShown",e.TimeLineCTAClick="TimeLineCTAClick",e.LogoClick="LogoClick",e.ActivityFilterSelected="ActivityFilterSelected",e.FastReblogOld="FastReblogOld",e.FastReblog="FastReblog",e.FastQueue="FastQueue",e.BlogHeaderLinkClick="BlogHeaderLinkClick",e.BlogAvatarLinkClick="BlogAvatarLinkClick",e.BlogTitleLinkClick="BlogTitleLinkClick",e.PeeprSearchOpen="PeeprSearchOpen",e.PeeprBlogSubscribe="PeeprBlogSubscribe",e.PeeprBlogUnsubscribe="PeeprBlogUnsubscribe",e.DropDownItemClick="DropDownItemClick",e.BlogArchiveClick="BlogArchiveClick",e.BlogMessageClick="BlogMessageClick",e.BlogMessageIconClick="BlogMessageIconClick",e.BlogFollowingClick="BlogFollowingClick",e.BlogAskClick="BlogAskClick",e.BlogSubmitClick="BlogSubmitClick",e.BlogReportClick="BlogReportClick",e.BlogUnblockClick="BlogUnblockClick",e.BlogBlockClick="BlogBlockClick",e.BlogUrlClick="BlogUrlClick",e.BlogShareClick="BlogShareClick",e.BlogShareToFacebookClick="BlogShareToFacebookClick",e.BlogShareToTwitterClick="BlogShareToTwitterClick",e.VideoPlay="video_play",e.VideoAutoPlay="video_auto_play",e.VideoStop="video_stop",e.VideoEnd="video_end",e.DockElement="dock_element",e.UndockElement="undock_element",e.GoogleRegisterClick="GoogleRegisterClick",e.GoogleLoginClick="GoogleLoginClick",e.GoogleRegistrationSuccess="GoogleRegistrationSuccess",e.GooglePartialRegistrationSuccess="GooglePartialRegistrationSuccess",e.GoogleCompleteRegistrationClick="GoogleCompleteRegistrationClick",e.GoogleCompleteRegistrationSuccess="GoogleCompleteRegistrationSuccess",e.GoogleCompleteRegistrationError="GoogleCompleteRegistrationError",e.GoogleLoginSuccess="GoogleLoginSuccess",e.GoogleLinkAccountRedirect="GoogleLinkAccountRedirect",e.GoogleLinkAccountClick="GoogleLinkAccountClick",e.GoogleLinkAccountSuccess="GoogleLinkAccountSuccess",e.GoogleLinkAccountError="GoogleLinkAccountError",e.GoogleLoginUnexpectedError="GoogleLoginUnexpectedError",e.GoogleAuthDisconnectSuccess="GoogleAuthDisconnectSuccess",e.GoogleAuthDisconnectError="GoogleAuthDisconnectError",e.GoogleLoginTfaRedirect="GoogleLoginTfaRedirect",e.AppleRegisterClick="AppleRegisterClick",e.AppleLoginClick="AppleLoginClick",e.AppleRegistrationSuccess="AppleRegistrationSuccess",e.ApplePartialRegistrationSuccess="ApplePartialRegistrationSuccess",e.AppleCompleteRegistrationClick="AppleCompleteRegistrationClick",e.AppleCompleteRegistrationSuccess="AppleCompleteRegistrationSuccess",e.AppleCompleteRegistrationError="AppleCompleteRegistrationError",e.AppleLoginSuccess="AppleLoginSuccess",e.AppleLinkAccountRedirect="AppleLinkAccountRedirect",e.AppleLinkAccountClick="AppleLinkAccountClick",e.AppleLinkAccountSuccess="AppleLinkAccountSuccess",e.AppleLoginUnexpectedError="AppleLoginUnexpectedError",e.AppleLinkAccountError="AppleLinkAccountError",e.AppleAuthDisconnectSuccess="AppleAuthDisconnectSuccess",e.AppleAuthDisconnectError="AppleAuthDisconnectError",e.AppleLoginTfaRedirect="AppleLoginTfaRedirect",e.AccountPopover="AccountPopover",e.ActivityPopover="ActivityPopover",e.LoggedOutLandingBlogClick="LoggedOutLandingBlogClick",e.LoggedOutLandingAvatarClick="LoggedOutLandingAvatarClick",e.LoggedOutLandingArtistClick="LoggedOutLandingArtistClick",e.MessagesPopover="MessagesPopover",e.MessagesPopoverNewMessage="MessagesPopoverNewMessage",e.MessagesPopoverSwitchBlog="MessagesPopoverSwitchBlog",e.PostpActivate="PostpActivate",e.PostpDeactivateConfirm="PostpDeactivateConfirm",e.PostpDeactivateTap="PostpDeactivateTap",e.PostpPayment="PostpPayment",e.PostpReactivate="PostpReactivate",e.PostpSetupProfilePerkAddTap="PostpSetupProfilePerkAddTap",e.PostpSetupProfilePerkLimitReached="PostpSetupProfilePerkLimitReached",e.PostpSetupProfilePerkOpen="PostpSetupProfilePerkOpen",e.PostpSetupProfilePerkSaveTap="PostpSetupProfilePerkSaveTap",e.PostpSettingsTap="PostpSettingsTap",e.PostpSetupKycTap="PostpSetupKycTap",e.PostpSetupPriceSaveTap="PostpSetupPriceSaveTap",e.PostpSetupPriceSelected="PostpSetupPriceSelected",e.PostpSetupPriceTap="PostpSetupPriceTap",e.PostpSetupProfileSaveTap="PostpSetupProfileSaveTap",e.PostpSetupProfileTap="PostpSetupProfileTap",e.PostpSetupProfileViewTap="PostpSetupProfileViewTap",e.PostpSetVisibility="PostpSetVisibility",e.PostpStripeDashboardTap="PostpStripeDashboardTap",e.PostpSetupBannerTap="PostpSetupBannerTap",e.PostpSubscribeTap="PostpSubscribeTap",e.PostpSupportTap="PostpSupportTap",e.PostpPaymentMethodTap="PostpPaymentMethodTap",e.PostpPaymentMethodDone="PostpPaymentMethodDone",e.PremiumPerksScreenShown="PremiumPerksScreenShown",e.PremiumSubscriptionManagementScreenShown="PremiumSubscriptionManagementScreenShown",e.PremiumPurchaseTap="PremiumPurchaseTap",e.PremiumPurchaseDone="PremiumPurchaseDone",e.PremiumCancelTap="PremiumCancelTap",e.PremiumCancelConfirm="PremiumCancelConfirm",e.PremiumResubscribe="PremiumResubscribe",e.PremiumChangePlanTap="PremiumChangePlanTap",e.PremiumChangePlanNext="PremiumChangePlanNext",e.PremiumChangePlanDone="PremiumChangePlanDone",e.PremiumPaymentMethodTap="PremiumPaymentMethodTap",e.PremiumPaymentMethodDone="PremiumPaymentMethodDone",e.PremiumOnHoldView="PremiumOnHoldView",e.PremiumInvalidPaymentView="PremiumInvalidPaymentView",e.PostActivityTabSelectReplies="notes_tab_replies_selected",e.PostActivityTabSelectReblogs="notes_tab_reblogs_selected",e.PostActivityTabSelectLikes="notes_tab_likes_selected",e.PostActivitySendReply="notesScreen:replySendButtonTapped",e.PostActivityFetchMoreNotes="NotesMore",e.PostActivityReblogFilterSelectWithContentComments="notes_reblogs_with_content_comments_filter_selected",e.PostActivityReblogFilterSelectWithComments="notes_reblogs_with_comments_filter_selected",e.PostActivityReblogFilterSelectOther="notes_reblogs_only_filter_selected",e.PostActivityReplySortDirectionChange="notes_reply_sort_option_selected",e.PostActivityNoteClickBlogName="notes_username_tapped",e.PostActivityNoteClickReblog="notesScreenActionSheet:reblogTapped",e.PostActivityNoteClickFollow="notes_follow_button_tapped",e.PostActivityNoteClickExpand="notes_see_more_tapped",e.PostActivitySubscribe="conversationalNoteSubscribeButton",e.YIRLandingPageGiveMeClick="YIRLandingPageGiveMeClick",e.YIRLandingPageChangeBlog="YIRLandingPageChangeBlog",e.YIRLoadingPageShowMeClick="YIRLoadingPageShowMeClick",e.YIRResultsPageHeaderShareClick="YIRResultsPageHeaderShareClick",e.YIRResultsPageFooterShareClick="YIRResultsPageFooterShareClick",e.TipPostTap="tip_post_tap",e.StartTippingTap="start_tipping_tap",e.TipPaymentSuccess="tip_payment_success",e.ActivityNotificationTapped="activity_notification_tapped"}(a||(a={})),function(e){e.Google="google",e.Apple="apple"}(o||(o={}));var s,i,l,c,d={[r.hQ.Text]:a.PFComposePostText,[r.hQ.Audio]:a.PFComposePostAudio,[r.hQ.Photo]:a.PFComposePostPhoto,[r.hQ.Quote]:a.PFComposePostQuote,[r.hQ.Link]:a.PFComposePostLink,[r.hQ.Chat]:a.PFComposePostChat,[r.hQ.Video]:a.PFComposePostVideo},u=e=>d[e];!function(e){e.TAGGED="tagged",e.TAGGED_POST="tagged_post",e.EXPLORE="explore",e.EXPLORE_POST="explore_post"}(s||(s={})),function(e){e.SEARCH="search",e.TAGGED="tagged",e.EXPLORE="explore"}(i||(i={})),function(e){e.TOOLBAR="toolbar",e.FLOATING="floating"}(l||(l={})),function(e){e.NEW="new",e.REBLOG="reblog",e.EDIT="edit",e.ANSWER="answer",e.SUBMISSION="submission",e.ASK="ask"}(c||(c={}))},90976:(e,t,n)=>{"use strict";var a,o,r;n.d(t,{Wj:()=>a,yy:()=>o,Vu:()=>r}),function(e){e[e.EmailEmpty=0]="EmailEmpty",e[e.InputsEmpty=1]="InputsEmpty",e[e.PasswordEmpty=2]="PasswordEmpty",e[e.PasswordFail=3]="PasswordFail",e[e.ResetRequired=4]="ResetRequired",e[e.TfaFail=5]="TfaFail",e[e.TfaRequired=6]="TfaRequired",e[e.Unknown=7]="Unknown"}(a||(a={})),function(e){e.BlogFollow="blog_follow",e.HomepageExplore="homepage_explore",e.HomepageExploreBlogFollow="homepage_explore_blog_follow",e.HubsFloatingSignUpCTA="hubs_floating_sign_up",e.HubsMainFollowButton="hubs_main_follow",e.HubsRelatedTagsFollowButton="hubs_related_tags_follow",e.HubsHeaderSignUpButton="hubs_header_sign_up",e.HubsTopBlogFollow="hubs_top_blog_follow",e.HubsBlogFollow="hubs_blog_follow",e.SearchBlogFollow="search_blog_follow",e.SearchFollow="search_main_follow",e.SearchHeaderSignUpButton="search_header_sign_up",e.ExploreHeaderSignUpButton="explore_header_sign_up",e.ExploreFloatingSignUpCTA="explore_floating_sign_up",e.ExploreRightRailSignUpCTA="explore_right_rail_sign_up",e.ExploreTrendingBlogFollow="explore_trending_blog_follow",e.ExploreBlogFollow="explore_blog_follow",e.LoginRegisterHeader="login_register_header",e.LoginRegisterHeaderMobile="login_register_header_mobile",e.LoginRegisterCenter="login_register_center",e.LoginRegisterRequired="login_register_required",e.EmailNotInUseYet="email_not_used_yet",e.ImageMediaPermalinkPageHeader="image_media_header",e.NewToTumblrPrompt="new_to_tumblr",e.Unknown="unknown"}(o||(o={})),function(e){e.BlogFollowButton="blog_follow_button",e.TagFollowButton="tag_follow_button",e.HeaderSignUpButton="register_button"}(r||(r={}))},29694:(e,t,n)=>{"use strict";var a,o,r;n.d(t,{Uc:()=>a,bv:()=>o,Xh:()=>r,pW:()=>s,sD:()=>i}),function(e){e.AdditionalInfoNeeded="additional-info-needed",e.ApplicationPending="application-pending",e.PendingOnStripe="pending-on-stripe",e.Rejected="rejected",e.Successful="successful",e.Unknown="unknown",e.Empty=""}(a||(a={})),function(e){e.Member="member",e.NonMember="non-member",e.Creator="creator",e.Disabled="disabled"}(o||(o={})),function(e){e.Post="post",e.Profile="profile",e.Peepr="peepr"}(r||(r={}));var s,i;!function(e){e.Anyone="anyone",e.Supporters="supporters"}(s||(s={})),function(e){e.Profile="profile",e.Settings="settings"}(i||(i={}))},75226:(e,t,n)=>{"use strict";var a,o,r,s,i;n.d(t,{dI:()=>a,Cs:()=>o,bi:()=>i}),function(e){e.OPENED="opened",e.CLOSED="closed",e.MINIMIZED="minimized",e.MAXIMIZED="maximized"}(a||(a={})),function(e){e.Text="TEXT",e.Image="IMAGE",e.Sticker="STICKER",e.Post="POSTREF"}(o||(o={})),function(e){e.Active="ACTIVE",e.Inactive="INACTIVE"}(r||(r={})),function(e){e.Conversation="conversation",e.Message="message"}(s||(s={})),function(e){e.GIF="messaging-gif",e.POST_CHROME="post-chrome",e.FAST_POST_CHROME="fast-post-chrome"}(i||(i={}))},96604:(e,t,n)=>{"use strict";var a,o,r,s,i,l,c;n.d(t,{ql:()=>a,LI:()=>o,bI:()=>r,rB:()=>s,f_:()=>i,oG:()=>l,ts:()=>c}),function(e){e.MediationCandidateConsideration="mediation_candidate_consideration",e.SupplyOpportunityMissed="supply_opportunity_missed",e.SupplyOpportunityFilled="supply_opportunity_filled",e.MediationOpportunityMissed="mediation_opportunity_missed",e.AdDropped="ad_dropped"}(a||(a={})),function(e){e.BackfillNotNeeded="backfill_not_needed",e.WaterfallNotUsed="waterfall_not_used"}(o||(o={})),function(e){e.ForeignImpression="foreign_impression",e.Impression="impression"}(r||(r={})),function(e){e.AdRequest="ad_request"}(s||(s={})),function(e){e.IponWebSyncInit="iponweb_sync_init"}(i||(i={})),function(e){e.NoAd="noAd",e.AdServed="adAvailable",e.AdError="adError",e.TeadsImpression="impression"}(l||(l={})),function(e){e.AdFilled="AdFilled",e.NoAd="NoAd",e.AdError="AdError"}(c||(c={}))},61974:(e,t,n)=>{"use strict";var a,o,r;n.d(t,{BM:()=>a,f:()=>o,WT:()=>r}),function(e){e[e.Sponsored=1]="Sponsored",e[e.Description=2]="Description",e[e.Rating=3]="Rating",e[e.Likes=4]="Likes",e[e.Downloads=5]="Downloads",e[e.Price=6]="Price",e[e.AdditionalDesc=10]="AdditionalDesc",e[e.DispplayURL=11]="DispplayURL",e[e.CTAText=12]="CTAText"}(a||(a={})),function(e){e[e.Icon=1]="Icon",e[e.Main=3]="Main"}(o||(o={})),function(e){e[e.Impression=1]="Impression",e[e.Click=501]="Click",e[e.Like=502]="Like",e[e.Follow=503]="Follow",e[e.Reblog=504]="Reblog"}(r||(r={}))},80100:(e,t,n)=>{"use strict";var a;n.d(t,{E:()=>a}),function(e){e.DASHBOARD="dashboard",e.EXPLORE="explore",e.COMMUNITY_HUB="communityhub",e.TAKEOVER="takeover",e.RECOMMENDED="recommended",e.POST_PERMALINK="postpermalink",e.RIGHT_RAIL="rightrail",e.BLOG_PAGE="blogpage"}(a||(a={}))},46197:(e,t,n)=>{"use strict";n.d(t,{L:()=>d});var a=n(58173),o=n.n(a),r=n(63554),s=n.n(r),i=n(52385),l=n(32412),c=n(16455);function d(e,t){var n=e,a=this.props.adContext,r=a.hydraConfigInstanceId,d=a.adPlacementConfiguration,u=null==d?void 0:d.signature,p=e.objectType===i.TE.Post&&!o()(e.adm),m=e.objectType===i.TE.Announcement&&e,h=m?(0,c.w)(m).bannerId:null,g=e.adInstanceCreationTime?Date.now()-e.adInstanceCreationTime:null,v=n.adProviderId,b=n.adProviderPlacementId,f=n.adProviderForeignPlacementId,E=n.adProviderInstanceId,C=n.adRequestId,y=n.fillId,w=n.supplyRequestId,k=n.supplyProviderId,P=n.streamSessionId,S=n.streamGlobalPosition,T=n.supplyOpportunityInstanceId,x=n.mediationCandidateId,N=n.adInstanceId,I=n.price,R=n.advertiserId,M=n.campaignId,A=n.adGroupId,B=n.adId,Z=n.creativeId,L=n.earnedId,O=s()({hydraConfigInstanceId:r,hydraSignature:u,adProviderId:v,adProviderPlacementId:b,adProviderForeignPlacementId:f,adProviderInstanceId:E,adRequestId:C,fillId:y,supplyRequestId:w,supplyProviderId:k,streamSessionId:P,streamGlobalPosition:S,supplyOpportunityInstanceId:T,mediationCandidateId:x,adInstanceId:N,price:I,isTumblrSponsoredPost:p,adInstanceAge:g,advertiserId:R,campaignId:M,adGroupId:A,adId:B,banner_id:h,creativeId:Z,earnedId:L},o());return t?(0,l.v)(O):O}},3161:(e,t,n)=>{"use strict";n.d(t,{vO:()=>a,cU:()=>o,rF:()=>s,Re:()=>i});var a,o,r=n(13467);!function(e){e[e.Initial=0]="Initial",e[e.Pagination=1]="Pagination",e[e.Refresh=2]="Refresh"}(a||(a={})),function(e){e.Bottom="bottom",e.Top="top",e.Right="right"}(o||(o={}));var s="";function i(e){return!!e&&e!==(0,r.Z)()}},23866:(e,t,n)=>{"use strict";var a;n.d(t,{z:()=>o,Z:()=>r}),function(e){e.trueBlue="trueBlue",e.darkMode="darkMode",e.cement="cement",e.lowContrastClassic="lowContrastClassic",e.cybernetic="cybernetic",e.canary="canary",e.ghost="ghost",e.vampire="vampire",e.pumpkin="pumpkin",e.nuclearWhite="nuclearWhite",e.gothRave="gothRave",e.pride="pride"}(a||(a={}));var o=[a.trueBlue,a.darkMode,a.lowContrastClassic,a.cement,a.cybernetic,a.canary,a.ghost,a.vampire,a.pumpkin,a.nuclearWhite,a.gothRave,a.pride];const r=a},93523:(e,t,n)=>{"use strict";n.d(t,{r:()=>l,g:()=>c});var a=n(85313),o=n.n(a),r=n(93370),s=n(76155),i=n(35811);function l(e){var t=e.peeprSearchMode,n=e.peeprPostRole,a=e.peeprSelectedPostType;return o()(o()({},r.f),{},{postRole:n,postType:a},t===i.f8.Top&&{postSort:s.H_.PopularityDesc})}function c(e){var t=e.postSort,n=e.postRole,a=e.postType;return o()(o()({peeprSelectedPostType:a},n!==s.QL.Any&&{peeprPostRole:n}),t===s.H_.PopularityDesc&&{peeprSearchMode:i.f8.Top})}},47740:(e,t,n)=>{"use strict";var a,o,r;n.d(t,{I2:()=>a,gc:()=>o,Oj:()=>r}),function(e){e.Auto="auto",e.AutoStart="auto-start",e.AutoEnd="auto-end",e.Top="top",e.TopStart="top-start",e.TopEnd="top-end",e.Right="right",e.RightStart="right-start",e.RightEnd="right-end",e.Bottom="bottom",e.BottomStart="bottom-start",e.BottomEnd="bottom-end",e.Left="left",e.LeftStart="left-start",e.LeftEnd="left-end"}(a||(a={})),function(e){e.Viewport="viewport",e.ScrollParent="scrollParent"}(o||(o={})),function(e){e[e.Click=0]="Click",e[e.Hover=1]="Hover"}(r||(r={}))},35905:(e,t,n)=>{"use strict";var a,o;n.d(t,{w:()=>a,L:()=>o}),function(e){e.Ask="ask",e.Reblog="reblog",e.ReblogWithComment="reblog_with_comment",e.ReblogWithContentComment="reblog_with_content_comment",e.Like="like",e.Reply="reply",e.Posted="posted",e.Follower="follower",e.UserMention="user_mention",e.NoteMention="note_mention",e.Attribution="post_attribution",e.Tip="tip"}(a||(a={})),function(e){e.Conversation="conversation",e.Rollup="rollup",e.Replies="replies",e.Reblogs="reblogs_only",e.ReblogsWithTags="reblogs_with_tags",e.ReblogsWithComments="reblogs_with_comments",e.ReblogsWithContentComments="reblogs_with_content_comments",e.Likes="likes"}(o||(o={}))},5818:(e,t,n)=>{"use strict";n.d(t,{$t:()=>a,xq:()=>o,iK:()=>r});var a,o,r;n(52385);!function(e){e.Now="now",e.Published="published",e.Draft="draft",e.Queue="queue",e.Private="private",e.Scheduled="scheduled"}(a||(a={})),function(e){e.BlogName="name",e.PostSaveButtonState="context",e.EarnedId="earnedId"}(o||(o={})),function(e){e.ApiError="API Error",e.NetworkError="Network Error",e.DeviceError="Device Error"}(r||(r={}))},76155:(e,t,n)=>{"use strict";n.d(t,{LY:()=>a,kH:()=>o,lr:()=>r,TV:()=>s,yw:()=>u,Jr:()=>p,ms:()=>d,Lk:()=>h,af:()=>g,Rf:()=>v,U0:()=>b,m9:()=>f,T8:()=>m,Ps:()=>E,oF:()=>C,le:()=>P,PV:()=>S,eQ:()=>T,hA:()=>y,SH:()=>w,Gf:()=>k,lG:()=>N,Ac:()=>x,eb:()=>R,yg:()=>M,dz:()=>A,LX:()=>B,ej:()=>Z,cd:()=>L,pZ:()=>O,RD:()=>D,I3:()=>F,nY:()=>I,_P:()=>H,gD:()=>U,br:()=>_,R0:()=>V,iM:()=>W,A7:()=>G,KM:()=>q,hQ:()=>z,Py:()=>Q,L8:()=>j,hr:()=>K,Uj:()=>X,QL:()=>J,H_:()=>Y,SB:()=>$,Je:()=>ee});var a,o,r,s,i=n(68582),l=n.n(i),c=n(52385);!function(e){e.Full="full",e.Micro="micro"}(a||(a={})),function(e){e.Title="title",e.Text="text",e.Image="image",e.Link="link",e.Audio="audio",e.Video="video",e.Paywall="paywall",e.OrderedList="ordered-list",e.UnorderedList="unordered-list",e.ReadMore="read-more",e.None="none",e.Blog="blog",e.Carousel="carousel",e.ImageSet="image-set",e.NestedBlocks="nested-blocks"}(o||(o={})),function(e){e.Quote="quote",e.Heading1="heading1",e.Heading2="heading2",e.Chat="chat",e.OrderedListItem="ordered-list-item",e.UnorderedListItem="unordered-list-item",e.Quirky="quirky",e.Indented="indented"}(r||(r={})),function(e){e.Bold="bold",e.Italic="italic",e.Strikethrough="strikethrough",e.Link="link",e.Mention="mention",e.Color="color",e.Small="small"}(s||(s={}));var d,u=e=>(null==e?void 0:e.type)===c.TE.Post,p=e=>(null==e?void 0:e.type)===c.TE.App;!function(e){e.Ask="ask",e.Rows="rows",e.Condensed="condensed",e.Answer="answer",e.BelowTheFold="below-the-fold",e.None="none",e.Poll="poll"}(d||(d={}));var m,h=e=>!(null==e||!e.type)&&-1!==l()(d).indexOf(e.type);function g(e){var t,n=e;return(null==n?void 0:n.type)===d.Ask&&!(null==n||null===(t=n.blocks)||void 0===t||!t.length)}function v(e){var t,n=e;return(null==n?void 0:n.type)===d.Answer&&!(null==n||null===(t=n.blocks)||void 0===t||!t.length)&&void 0!==(null==n?void 0:n.attribution)}function b(e){var t,n=e;return(null==n?void 0:n.type)===d.Poll&&!(null==n||!n.pollId)&&!(null==n||null===(t=n.choices)||void 0===t||!t.length)&&void 0!==(null==n?void 0:n.question)}function f(e){var t,n=e;return(null==n?void 0:n.type)===d.None&&!(null==n||null===(t=n.blocks)||void 0===t||!t.length)}function E(e){var t,n=e;return(null==n?void 0:n.type)===d.Rows&&!(null==n||null===(t=n.rows)||void 0===t||!t.length)}function C(e){var t,n=e;return(null==n?void 0:n.type)===d.Rows&&!(null==n||null===(t=n.display)||void 0===t||!t.length)}!function(e){e.Weighted="weighted",e.Carousel="carousel"}(m||(m={}));var y,w,k,P=e=>C(e)||E(e);function S(e){var t=e;return t.type===d.Condensed&&!!t.blocks}function T(e){var t,n=e;return(null==n?void 0:n.type)===d.BelowTheFold&&!(null===(t=n.blocks)||void 0===t||!t.length)}!function(e){e.Published="published",e.Draft="draft",e.Queue="queue",e.Queued="queued",e.Private="private",e.Disabled="disabled",e.Submission="submission",e.Ask="ask"}(y||(y={})),function(e){e.Queued="queued",e.Scheduled="scheduled"}(w||(w={})),function(e){e.Cta="cta"}(k||(k={}));var x,N=e=>!!e.isSubmission;!function(e){e.Regular="regular",e.Photo="photo",e.Audio="audio",e.Video="video",e.Link="link"}(x||(x={}));var I,R=e=>(null==e?void 0:e.blog)&&"object"==typeof(null==e?void 0:e.blog),M=e=>(null==e?void 0:e.type)===o.Title,A=e=>(null==e?void 0:e.type)===o.Text,B=e=>(null==e?void 0:e.type)===o.Paywall,Z=e=>(null==e?void 0:e.type)===o.Blog,L=e=>[o.UnorderedList,o.OrderedList].includes(null==e?void 0:e.type),O=e=>e.type===o.Text&&(e.subtype===r.OrderedListItem||e.subtype===r.UnorderedListItem),D=e=>(null==e?void 0:e.type)===o.Image,F=e=>e.media;!function(e){e.Spotify="spotify",e.Bandcamp="bandcamp",e.Soundcloud="soundcloud",e.Tumblr="tumblr"}(I||(I={}));var _,H=e=>(null==e?void 0:e.type)===o.Audio;function U(e){return!!e&&e.type===o.Video}!function(e){e.Cta="cta",e.Divider="divider",e.Disabled="disabled"}(_||(_={}));var z,V=e=>(null==e?void 0:e.type)===o.Link,W=e=>(null==e?void 0:e.type)===s.Link,G=e=>(null==e?void 0:e.type)===s.Mention,q=e=>(null==e?void 0:e.type)===o.ReadMore;!function(e){e.Text="text",e.Photo="photo",e.Quote="quote",e.Link="link",e.Ask="ask",e.Chat="chat",e.Audio="audio",e.Video="video",e.Answer="answer"}(z||(z={}));var j,K,Q=e=>!!e&&Object.values(z).includes(e);!function(e){e.Text="text",e.Photo="photo",e.Quote="quote",e.Link="link",e.Chat="chat",e.Audio="audio",e.Video="video",e.Ask="ask"}(j||(j={})),function(e){e.Text="text",e.Photo="photo",e.Gif="gif",e.Quote="quote",e.Link="link",e.Chat="chat",e.Audio="audio",e.Video="video",e.Ask="ask"}(K||(K={}));var J,Y,X=[z.Text,z.Photo,z.Quote,z.Link,z.Chat,z.Audio,z.Video];!function(e){e.Any="any",e.Original="original",e.Reblog="reblog"}(J||(J={})),function(e){e.CreatedDesc="CREATED_DESC",e.ScoreDesc="SCORE_DESC",e.PopularityDesc="POPULARITY_DESC"}(Y||(Y={}));var $="blocks";function ee(e){return e?"ask"===e?"answer":e.toLowerCase():e}},38689:(e,t,n)=>{"use strict";n.d(t,{lb:()=>o,Ru:()=>r,PF:()=>s,Ms:()=>i});var a=n(95004);class o extends a.Component{}function r(e){return e.prototype instanceof o&&e.routeConfig}function s(e){return e.routeConfig}var i=(e,t)=>{var n=t.routeConfig;return Object.assign(e,{routeConfig:n})}},10301:(e,t,n)=>{"use strict";var a;n.d(t,{Z:()=>o}),function(e){e.Main="main",e.BlogNetwork="blogNetwork",e.Media="media",e.Embed="embed"}(a||(a={}));const o=a},19228:(e,t,n)=>{"use strict";var a;n.d(t,{Z:()=>o}),function(e){e.Development="development",e.Production="production"}(a||(a={}));const o=a},35811:(e,t,n)=>{"use strict";var a,o,r,s;n.d(t,{KZ:()=>a,f8:()=>o,Kg:()=>r,Ak:()=>s}),function(e){e[e.Posts=0]="Posts",e[e.Blogs=1]="Blogs"}(a||(a={})),function(e){e.Recent="recent",e.Top="top"}(o||(o={})),function(e){e.Post="post",e.Blog="blog",e.Tag="tag"}(r||(r={})),function(e){e[e.AllTime=0]="AllTime",e[e.Year=365]="Year",e[e.Season=180]="Season",e[e.Month=30]="Month",e[e.Week=7]="Week",e[e.Today=1]="Today"}(s||(s={}))},13032:(e,t,n)=>{"use strict";var a;n.d(t,{f:()=>a}),function(e){e.Account="account",e.Dashboard="dashboard",e.Notifications="notifications",e.Premium="premium",e.Subscriptions="subscriptions",e.Apps="apps",e.Privacy="privacy",e.Admin="admin",e.Labs="labs",e.Password="password",e.Tfa="tfa"}(a||(a={}))},19453:(e,t,n)=>{"use strict";var a,o;n.d(t,{Is:()=>a,ho:()=>o,E6:()=>r}),function(e){e.Facebook="Facebook",e.Twitter="Twitter",e.Embed="Embed",e.Pinterest="Pinterest",e.Reddit="Reddit",e.Copy="Copy"}(a||(a={})),function(e){e.Facebook="https://www.facebook.com/sharer/sharer.php",e.Twitter="https://twitter.com/intent/tweet",e.Pinterest="https://www.pinterest.com/pin/create/button/",e.Reddit="https://www.reddit.com/submit"}(o||(o={}));var r={top:0,left:0,width:600,height:450,toolbar:"no",menubar:"no"}},44093:(e,t,n)=>{"use strict";var a,o;n.d(t,{y:()=>a,g:()=>o}),function(e){e[e.Minute=60]="Minute",e[e.Hour=3600]="Hour",e[e.Day=86400]="Day",e[e.Week=604800]="Week",e[e.Year=31536e3]="Year"}(a||(a={})),function(e){e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Month=2592e6]="Month",e[e.Year=31536e6]="Year"}(o||(o={}))},52385:(e,t,n)=>{"use strict";n.d(t,{TE:()=>a,RP:()=>o,db:()=>r,Rd:()=>s,pI:()=>c,sq:()=>d,PC:()=>u,Bk:()=>p,xT:()=>g,mW:()=>v,iZ:()=>b,uN:()=>f,pN:()=>E,g5:()=>C,kZ:()=>y,Ry:()=>w,LW:()=>k,$n:()=>P,ET:()=>S,eO:()=>T,H0:()=>x,$w:()=>N,h5:()=>I,uz:()=>R,WN:()=>M,A6:()=>A,MA:()=>B,N0:()=>Z,ou:()=>L,uY:()=>O,FP:()=>D,lR:()=>F,nB:()=>_,wQ:()=>H,dp:()=>U,CA:()=>z,RE:()=>V,mt:()=>m,$z:()=>W});var a,o,r,s,i,l,c,d,u,p,m,h=n(80100);function g(e){return(null==e?void 0:e.objectType)===a.Post}function v(e){return(null==e?void 0:e.objectType)===a.Chiclet}function b(e){return(null==e?void 0:e.objectType)===a.HRWithLabel}function f(e){return(null==e?void 0:e.objectType)===a.Title}function E(e){return(null==e?void 0:e.objectType)===a.SponsoredDay}function C(e){return(null==e?void 0:e.objectType)===a.Announcement}function y(e){return(null==e?void 0:e.objectType)===a.CallToAction}function w(e){return k(e)||P(e)}function k(e){return(null==e?void 0:e.objectType)===a.PaywallSubscriberInfo}function P(e){return(null==e?void 0:e.objectType)===a.PaywallSubscriptionInfo}function S(e){return(null==e?void 0:e.objectType)===a.Carousel}function T(e){var t,n,a;return S(e)&&(null===(t=e.elements)||void 0===t?void 0:t.length)>0&&(null==(a=null===(n=e.elements)||void 0===n?void 0:n[0])?void 0:a.objectType)===o.Blog}function x(e){var t,n,a;return S(e)&&(null===(t=e.elements)||void 0===t?void 0:t.length)>0&&(null==(a=null===(n=e.elements)||void 0===n?void 0:n[0])?void 0:a.objectType)===o.Tag}function N(e){var t,n,a;return S(e)&&(null===(t=e.elements)||void 0===t?void 0:t.length)>0&&(null==(a=null===(n=e.elements)||void 0===n?void 0:n[0])?void 0:a.objectType)===o.FollowedTag}function I(e){var t,n,a;return S(e)&&(null===(t=e.elements)||void 0===t?void 0:t.length)>0&&(null==(a=null===(n=e.elements)||void 0===n?void 0:n[0])?void 0:a.objectType)===o.VideoHub}function R(e){return!!e&&(e.objectType===a.Post&&"sponsoredBadgeUrl"in e&&!!e.sponsoredBadgeUrl)}function M(e){return!(null==e||!e.earnedId)}function A(e){return e.objectType===a.Ad}function B(e){return!!e&&"clientSideAdType"in e}function Z(e){return!!e&&"objectType"in e&&e.objectType===a.BackfillAd}function L(e){return!!e&&("supplyProviderId"in e&&e.supplyProviderId===h.E.RIGHT_RAIL&&"adProviderId"in e&&e.adProviderId===r.IponWeb)}function O(e){return"supplyProviderId"in e&&e.supplyProviderId===h.E.RIGHT_RAIL&&"clientSideAdType"in e&&e.clientSideAdType===r.OneMobile}function D(e){return e.objectType===a.LegacyTakeoverBanner}function F(e){return(null==e?void 0:e.objectType)===a.BackfillAd}function _(e){return(null==e?void 0:e.objectType)===a.Blog}function H(e){return(null==e?void 0:e.objectType)===a.TagInfoRow}function U(e){return(null==e?void 0:e.objectType)===a.CommunityHubHeaderCard}function z(e){return(null==e?void 0:e.objectType)===a.TagRibbon}function V(e){return(null==e?void 0:e.objectType)===a.SearchClearFiltersCta}!function(e){e.App="app",e.Post="post",e.Blog="blog",e.HRWithLabel="hr_with_label",e.SponsoredDay="sponsored_day",e.Chiclet="chiclet",e.Announcement="announcement",e.Ad="client_side_ad_waterfall",e.AnswertimeCTA="answertime_cta",e.LegacyTakeoverBanner="takeover_banner",e.BackfillAd="backfill_ad",e.Title="title",e.Carousel="carousel",e.CallToAction="cta",e.CommunityHubHeaderCard="community_hub_header_card",e.TagRibbon="tag_ribbon",e.TagInfoRow="tag_info_row",e.SearchClearFiltersCta="search_clear_filters_cta",e.PaywallSubscriberInfo="paywall_subscriber_info",e.PaywallSubscriptionInfo="paywall_subscription_info",e.VideoHub="video_hub",e.VideoHubsContainer="video_hubs_container"}(a||(a={})),function(e){e.FollowedTag="followed_tag_carousel_card",e.Tag="tag_carousel_card",e.Blog="blog",e.Title="title",e.VideoHub="video_hub"}(o||(o={})),function(e){e.Post="post",e.Teads="teads",e.OneMobile="one_mobile",e.Flurry="flurry",e.IponWeb="iponweb"}(r||(r={})),function(e){e.TripleliftBanner="triplelift_banner"}(s||(s={})),function(e){e.RelatedTags="RelatedTags"}(i||(i={})),function(e){e.Native="native"}(l||(l={})),function(e){e.Selected="selected",e.Discreet="discreet"}(c||(c={})),function(e){e.Dismiss="dismiss",e.Nothing="nothing"}(d||(d={})),function(e){e.AdvertiserId="ave",e.CampaignId="cam",e.CreativeId="cre",e.AdGroupId="agr",e.AdId="aid"}(u||(u={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(p||(p={})),function(e){e.List="0",e.Grid="1",e.Masonry="2"}(m||(m={}));var W=e=>(e&&(delete e.restore,delete e.installed),e)},69:(e,t,n)=>{"use strict";var a;n.d(t,{p:()=>a}),function(e){e.Notice="notice",e.Error="error",e.Success="success"}(a||(a={}))},33667:(e,t,n)=>{"use strict";var a;n.d(t,{h:()=>a}),function(e){e.small="small",e.medium="medium",e.large="large"}(a||(a={}))},3901:(e,t,n)=>{"use strict";var a,o,r;n.d(t,{Ti:()=>a,zF:()=>o,Ll:()=>r}),function(e){e.Active="active",e.Pending="pending",e.PendingCancel="pending-cancel",e.OnHold="on-hold",e.Cancelled="cancelled",e.Expired="expired"}(a||(a={})),function(e){e.Month="month",e.Year="year"}(o||(o={})),function(e){e.Memberships="memberships",e.Premium="premium"}(r||(r={}))},81617:(e,t,n)=>{"use strict";var a,o,r;function s(e){return!!e&&!!e.type&&!!e.type&&Object.values(o).includes(e.type)}n.d(t,{G6:()=>a,w3:()=>o,Fj:()=>r,v_:()=>s}),function(e){e.Youtube="youtube",e.Tumblr="tumblr",e.Flickr="flickr",e.Instagram="instagram"}(a||(a={})),function(e){e.Mov="video/quicktime",e.Mp4="video/mp4",e.AppleM4v="video/x-m4v"}(o||(o={})),function(e){e.User="User",e.Glass="Glass",e.DocumentVisibility="DocumentVisibility"}(r||(r={}))},19105:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var a=n(18485),o=n(54016);class r{constructor(e,t,n){this.apiFetch=e,this.givenPath=t,this.options=n}isEqualTo(e){return!!e&&this.getRequestUrl()===e.getRequestUrl()}fetch(e,t){return this.apiFetch(this.givenPath,this.options).then(e,t)}getSearchParams(){return this.getUrl().substr(this.getPathFromUrl().length)}getRequestUrl(){return(0,a.Z)(this.getPathFromUrl(),(0,o.b)(this.getUrl()))}getUrl(){var e;return(0,a.Z)(this.givenPath,null===(e=this.options)||void 0===e?void 0:e.queryParams)}getPathFromUrl(){var e=this.getUrl(),t=e.indexOf("?");return-1===t?e:e.substr(0,t)}}},93073:(e,t,n)=>{"use strict";n.d(t,{mL:()=>o,sO:()=>r,Zr:()=>s,JQ:()=>i});var a=n(19105);function o(e,t){var n=t.tcData,o={tcfv2_consent:JSON.stringify(n)};return new a.x(e,"/v2/privacy/consent",{body:o,method:"POST"})}function r(e){return new a.x(e,"/v2/privacy/consent/cmp/viewed")}function s(e,t){return new a.x(e,"/v2/privacy/download/".concat(t),{method:"DELETE"})}function i(e){return new a.x(e,"/v2/privacy/download",{method:"POST"})}},36643:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>M,$b:()=>I,OO:()=>A,oM:()=>R});var a=n(92969),o=n.n(a),r=n(85313),s=n.n(r),i=n(86046),l=n.n(i),c=n(37316),d=n.n(c);var u,p=n(78315),m=n(48866),h=n(53551),g=n(97319),v=n(3575),b=n(2978),f=n(76155),E=n(13032),C=n(3901),y=n(16439),w=n(32412),k=n(38426),P=n(19105),S=(e,t)=>(n,a)=>{var o=0===n.indexOf("#")?n.slice(1):n;return new P.x(e,"/v2/user/tags/".concat(t?"add":"remove"),s()({method:"POST",body:{tag:o}},a&&{queryParams:{source:a}}))},T=n(94875),x=n(62389),N=[...y.Gd,v.lM.primary,v.lM.shareLikes,v.lM.shareFollowing,v.lM.canSubscribe,v.lM.subscribed,v.lM.ask,v.lM.canSubmit,v.lM.isBlockedFromPrimary,v.lM.isBloglessAdvertiser,v.lM.tweet],I=[...N,v.lM.theme],R=".tumblr.com";function M(e){return{getConfig:()=>new P.x(e,"/v2/config"),getBlogInfo:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new P.x(e,"/v2/blog/".concat(t,"/info"),{queryParams:n})},getBlogTags:t=>new P.x(e,"/v2/blog/".concat(t,"/posts/tag_suggestions")),getBlogTopTags:t=>new P.x(e,"/v2/blog/".concat(t,"/top_tags")),getSuggestedParticipants:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new P.x(e,"/v2/conversations/participant_suggestions",{queryParams:s()(s()(s()({},(0,y.n9)([v.lM.avatar,v.lM.title,v.lM.name,v.lM.theme,v.lM.url,v.lM.isAdult])),n),(null==t?void 0:t.length)&&{participant:"".concat(t).concat(R)})})},getUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new P.x(e,"/v2/user/info",{queryParams:s()(s()({},(0,y.n9)([v.lM.avatar,v.lM.name,v.lM.title,v.lM.url,v.lM.canMessage,v.lM.description,v.lM.isAdult,v.lM.uuid,v.lM.isPrivateChannel,v.lM.posts,v.lM.isGroupChannel,v.lM.primary,v.lM.admin,v.lM.drafts,v.lM.followers,v.lM.queue,v.lM.hasFlaggedPosts,v.lM.messages,v.lM.ask,v.lM.canSubmit,v.lM.tweet,v.lM.mentionKey,v.lM.timezoneOffset,v.lM.analyticsUrl,v.lM.isPremiumPartner,v.lM.isBloglessAdvertiser,v.lM.canOnboardToPaywall,v.lM.isTumblrpayOnboarded,v.lM.isPaywallOn,v.lM.linkedAccounts,v.lM.theme,v.lM.isTippingOn])),t)})},getDashboard:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new P.x(e,"/v2/timeline/dashboard",{queryParams:s()(s()(s()({},(0,y.xr)()),t),{},{reblog_info:!0})})},getRelatedPosts:(t,n,a)=>new P.x(e,"/v2/related/posts?fields%5Bblogs%5D=name%2Ctitle%2Curl%2Cavatar%2Ccan_be_followed%2C%3Ffollowed%2Ctheme",{queryParams:{context:a,blog_name:n,query:t}}),getNakedTimeline:(t,n)=>new P.x(e,"/v2/timeline",{queryParams:s()(s()({},(0,y.xr)()),{},{which:t},n)}),getLikes:t=>{var n=t.limit,a=t.before,o=t.after;return new P.x(e,"/v2/user/likes",{queryParams:s()(s()({},(0,y.xr)()),{},{before:a,after:o,limit:n||21,reblog_info:!0})})},blogReorder:t=>new P.x(e,"/v2/user/reorder_blogs",{method:"PUT",body:{blog_names:t}}),getInboxData:t=>new P.x(e,"/v2/conversations",{queryParams:s()(s()({},(0,y.n9)([...T.O7,v.lM.primary])),{},{participant:t})}),getFollowedTags:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new P.x(e,u.FollowedTags,{method:"GET",queryParams:{offset:t,limit:10}})},getRecommendedPosts:()=>new P.x(e,u.RecommendedPosts,{method:"GET",queryParams:s()(s()({},(0,y.n9)(I)),{},{reblog_info:!0})}),getRecommendedBlogs:()=>new P.x(e,u.RecommendedBlogs,{method:"GET",queryParams:(0,y.n9)(I)}),getRecommendedTags:()=>new P.x(e,u.RecommendedTags,{method:"GET"}),getTrendingPosts:()=>new P.x(e,u.TrendingPosts,{method:"GET",queryParams:s()(s()({},(0,y.n9)(I)),{},{reblog_info:!0})}),getPostsByType:t=>new P.x(e,"".concat(u.PostsByType).concat(t),{method:"GET",queryParams:s()(s()({},(0,y.n9)(I)),{},{reblog_info:!0})}),getTrendingTags:()=>new P.x(e,u.TrendingTags,{method:"GET"}),getTrendingBlogs:()=>new P.x(e,u.TrendingBlogs,{method:"GET",queryParams:(0,y.n9)(I)}),getStaffPicksPosts:t=>new P.x(e,u.StaffPicksPosts,{method:"GET",queryParams:s()(s()(s()({},(0,y.n9)(I)),t||{}),{},{count:10})}),getPremiumBenefits:()=>new P.x(e,"/v2/premium/benefits",{method:"GET"}),getPremiumSubscription:()=>new P.x(e,"/v2/premium/subscription",{method:"GET"}),getBlogSubmissions:(t,n,a)=>new P.x(e,"/v2/user/inbox/".concat(t),{method:"GET",queryParams:s()(s()({},(0,y.xr)()),{},{offset:Number(n)||0,sort:a})}),getInboxSubmissions:t=>{var n=t.offset,a=t.sort;return new P.x(e,"/v2/user/inbox",{method:"GET",queryParams:s()(s()({},(0,y.xr)()),{},{reblog_info:!0,offset:Number(n)||0,sort:a})})},deleteBlogSubmissions:t=>new P.x(e,"/v2/blog/".concat(t,"/posts/submission"),{method:"DELETE"}),deleteInboxSubmissions:()=>new P.x(e,"/v2/user/inbox",{method:"DELETE"}),updateBlogSettings:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/settings"),{method:"POST",body:(0,w.v)(n)}),toggleTwitterShare:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/social/twitter"),{method:"POST",body:{twitter_send_posts:n}}),generatePremiumCheckoutUrl:(t,n,a)=>new P.x(e,"/v2/premium/checkout",{queryParams:s()({period:t,host:n,path:(0,p.B9)({page:E.f.Premium})},a&&{"change-plan":a}),method:"GET"}),unsubscribeToPremium:()=>new P.x(e,"/v2/premium/subscription",{method:"DELETE"}),resubscribeToPremium:()=>new P.x(e,"/v2/premium/subscription",{method:"PATCH",body:{status:C.Ti.Active}}),getSubscriptionPlan:t=>new P.x(e,"/v2/blog/".concat(t,"/memberships/subscription_plan"),{method:"GET"}),getMembershipProvisionUrl:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/memberships/provision"),{method:"POST",queryParams:{host:n}}),getPricePoints:()=>new P.x(e,"/v2/memberships/price_points",{method:"GET"}),createSubscriptionSettings:t=>{var n=t.blogName,a=t.description,o=t.creatorCategoryId,r=t.memberPerkIds,s=t.monthlyPrice;return new P.x(e,"/v2/blog/".concat(n,"/memberships/subscription_plan"),{method:"POST",body:{description:a,monthly_price:s,creator_category_id:o,member_perk_ids:r}})},updateSubscriptionSettings:t=>{var n=t.blogName,a=t.description,o=t.memberPerks,r=t.monthlyPrice;return new P.x(e,"/v2/blog/".concat(n,"/memberships/subscription_plan"),{method:"PATCH",body:s()(s()(s()({},a&&{description:a}),r&&{monthly_price:r}),o&&{member_perks:o})})},getAllMemberPerks:()=>new P.x(e,"/v2/memberships/member_perks",{method:"GET"}),getCreatorSettingsStatus:t=>new P.x(e,"/v2/blog/".concat(t,"/memberships/settings/status"),{method:"GET"}),generateCheckoutUrl:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/memberships/checkout"),{queryParams:n,method:"GET"}),subscribeToBlogMembership:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/memberships/subscribe"),{queryParams:n,method:"POST"}),unsubscribeToBlogMembership:t=>new P.x(e,"/v2/blog/".concat(t,"/memberships/subscribe"),{method:"DELETE"}),getSubscribers:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/memberships/subscribers"),{method:"GET",queryParams:{status:n}}),getSubscriptions:t=>new P.x(e,"/v2/memberships/subscriptions",{method:"GET",queryParams:{status:t,view:"web"}}),getPaymentMethod:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new P.x(e,"/v2/".concat(t,"/payment-method"),{method:"GET",queryParams:{host:n}})},getPayoutsBalance:t=>new P.x(e,"/v2/blog/".concat(t,"/payouts/balance"),{method:"GET"}),getPayoutsList:t=>new P.x(e,"/v2/blog/".concat(t,"/payouts/list"),{method:"GET"}),getMrecWaterfall:(t,n)=>new P.x(e,"/v2/redpop_ads/mrec_waterfall",t?{queryParams:{root_supply_opportunity_instance_id:t,refresh:n}}:void 0),sendMessage:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,T.os)({message:t,queryParams:a,participants:[n],isBatch:!1}),r=o.path,s=o.options;return new P.x(e,r,s)},batchSendMessage:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=5,r={message:t,queryParams:a,participants:n,isBatch:!0};if(n.length>o){var i=d()(n,o),l=()=>Promise.all(i.map((t=>(0,T.YQ)(e,s()(s()({},r),{},{participants:t})).fetch().catch((()=>({response:{}})))))).then((e=>({response:e.reduce(((e,t)=>{var n=t.response;return Object.keys(n).forEach((t=>{isNaN(Number(t))||e.push(n[t])})),e}),[])})));return new P.x(l,"")}return(0,T.YQ)(e,r)},getConversation:(t,n)=>{var a=t.selectedBlogName,o=t.otherParticipantName,r=t.conversationId,i="".concat(a).concat(R),l=s()(s()({participant:i},(0,T.w0)()),n);if(r)l.conversation_id=r;else{if(!o)throw new Error("Can't fetch conversation without either ID or both participant names");l["participants[0]"]=i,l["participants[1]"]="".concat(o).concat(R)}return new P.x(e,"/v2/conversations/messages",{queryParams:l})},deleteConversation:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new P.x(e,"/v2/conversations/messages",{queryParams:s()(s()({},a),{},{conversation_id:t,participant:"".concat(n).concat(R)}),method:"DELETE"})},flagConversation:function(t,n,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"inline",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new P.x(e,"/v2/conversations/flag",{queryParams:r,method:"POST",body:{type:t,context:o,conversation_id:a,participant:"".concat(n).concat(R)}})},markConversationAsRead:(t,n)=>new P.x(e,"/v2/conversations/mark_as_read",{method:"POST",body:{conversation_id:n,participant:"".concat(t).concat(R)}}),ccpaOptOut:()=>new P.x(e,"/v2/ccpa/opt_out",{method:"GET"}),blockBlog:function(t,n,a){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new P.x(e,"/v2/blog/".concat(t,"/blocks"),{method:"POST",body:{force:o,blocked_tumblelog:n,post_id:a}})},unblockBlog:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/blocks/").concat(n),{method:"DELETE",body:{tumblelog:t,blocked_tumblelog:n}}),subscribeToBlog:t=>new P.x(e,"/v2/blog/".concat(t,"/subscription"),{method:"POST"}),unsubscribeToBlog:t=>new P.x(e,"/v2/blog/".concat(t,"/subscription"),{method:"DELETE"}),followBlog:(t,n,a)=>{var o=t.toLowerCase(),r=o.includes("@");return new P.x(e,"/v2/user/follow",{method:"POST",body:s()(s()(s()({},r&&{email:o}),!r&&{url:o.includes(".")?o:"".concat(o).concat(R)}),{},{placement_id:n,context:a})})},unfollowBlog:(t,n,a)=>new P.x(e,"/v2/user/unfollow",{method:"POST",body:{url:t,placement_id:n,context:a}}),followedBy:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/followed_by"),{method:"GET",queryParams:{query:n}}),postAPost:t=>{var n=t.selectedBlogName,a=t.selectedBlog,r=t.logEvent,i=t.placementId,c=t.reblogType,d=t.isAsk,u=t.isAnonymousAsk,p=t.otherBlogName,m=t.post,h=m.parentPostId,g=m.id,v=m.content,E=m.tags,C=m.sendToTwitter,y=m.adsParams,k=m.reblogKey,S=m.hideTrail,T=m.parentTumblelogUuid,x=m.layout,N=m.sourceUrl,I=m.state,R=m.publishOn,M=m.slug,A=m.date,B=m.isPrivate,Z=m.earnedId,L=m.shouldShowTip,O=!!h,D=!!g;class F extends P.x{constructor(){super(...arguments),o()(this,"fetch",((e,t)=>super.fetch((t=>{var n={placement_id:i,has_tip:!!L};return r(O?{eventDetails:s()(s()({},n),{},{earned_id:Z}),eventName:b.JE.ClientReblog}:D?{eventDetails:n,eventName:b.JE.EditSuccess}:{eventDetails:n,eventName:b.JE.PostSuccess}),(null==e?void 0:e(t))||t}))))}}if(d){var _={type:f.ms.Ask,blocks:v.map(((e,t)=>t)),attribution:u||!a?void 0:{type:"blog",blog:a}},H={content:v,layout:[_],send_to_facebook:!1,send_to_twitter:!1,context:"Blog",state:f.hA.Ask};return new F(e,"/v2/blog/".concat(p,"/posts"),{body:H,method:"POST"})}var U=(0,w.v)(l()({reblogType:c,placementId:i,layout:x,state:I,sendToTwitter:C,adsParams:y,reblogKey:k,hideTrail:S,parentTumblelogUuid:T,parentPostId:h,sourceUrl:N,publishOn:R,content:v,slug:M,date:A,isPrivate:B,earnedId:Z,tags:null==E?void 0:E.join(", ")},(e=>void 0!==e)));return new F(e,"/v2/blog/".concat(n,"/posts").concat(D?"/".concat(g):""),{body:U,method:D?"PUT":"POST"})},pinPost:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/posts/").concat(n,"/pin"),{method:"POST"}),unpinPost:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/posts/").concat(n,"/pin"),{method:"DELETE"}),votePoll:(t,n)=>new P.x(e,"/v2/polls/".concat(t),{method:"POST",body:{selected:n}}),quickPublishPost:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/post/edit"),{method:"POST",body:{id:n,state:f.hA.Published}}),getNotes:(t,n)=>{var a=n.id,o=n.mode,r=n.beforeTimestamp,s=n.sort;return new P.x(e,"/v2/blog/".concat(t,"/notes"),{queryParams:{id:a,mode:o,beforeTimestamp:r,sort:s}})},getNotesTimeline:(t,n)=>{var a=n.id,o=n.mode,r=n.beforeTimestamp,s=n.sort;return new P.x(e,"/v2/blog/".concat(t,"/post/").concat(a,"/notes/timeline"),{queryParams:{mode:o,beforeTimestamp:r,sort:s}})},deleteNote:(t,n,a,o)=>new P.x(e,"/v2/blog/".concat(t,"/notes/delete"),{method:"POST",body:{note_tumblelog:n,note_created_time:a,post_id:o}}),flagNote:(t,n,a,o)=>new P.x(e,"/v2/blog/".concat(t,"/notes/flag"),{method:"POST",body:{flagged_note_tumblelog_name:n,flagged_note_created_time:a,post_id:o}}),enableDesktopEditor:()=>new P.x(e,"/v2/settings/desktop_editor",{method:"POST"}),disableDesktopEditor:()=>new P.x(e,"/v2/settings/desktop_editor",{method:"DELETE"}),getImageInfo:t=>new P.x(e,"/v2/image/info",{queryParams:s()({image_path:t},(0,y.n9)([v.lM.avatar,v.lM.name,v.lM.title,v.lM.url,v.lM.description]))}),preUploadImageForNpf:t=>{var n=new FormData;return n.append("file",t),new P.x(e,"/v2/media/image",{method:"POST",body:n,headers:{"Content-Type":"multipart/form-data"}})},preUploadVideoForNpf:(t,n)=>{var a=new FormData;return a.append("file",t),new P.x(e,"/v2/media/video",{method:"POST",body:a,headers:{"Content-Type":"multipart/form-data"},queryParams:n?{tumblelog:n}:{}})},preUploadAudioForNpf:t=>{var n=new FormData;return n.append("file",t),new P.x(e,"/v2/media/audio",{method:"POST",body:n,headers:{"Content-Type":"multipart/form-data"}})},getUrlInfo:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new P.x(e,"/v2/url_info",{method:"GET",queryParams:s()({url:t},(0,y.n9)([v.lM.avatar,v.lM.name,v.lM.title,v.lM.url,v.lM.descriptionNpf,v.lM.theme,v.lM.uuid,v.lM.canBeFollowed,v.lM.followed,v.lM.isMember,v.lM.shareLikes,v.lM.shareFollowing,v.lM.canSubscribe,v.lM.canMessage,v.lM.subscribed,v.lM.ask,v.lM.canSubmit,v.lM.isBlockedFromPrimary,v.lM.advertiserName,v.lM.topTags,v.lM.primary,...n?[v.lM.topTagsFewer,v.lM.badge,v.lM.badgeText]:[]]))})},getMentionSuggestions:t=>new P.x(e,"/v2/mention".concat(t&&t.length?"/".concat(t):""),{method:"GET"}),promote:(t,n)=>{var a=n.isUnpromote,o=n.postId,r=n.tags,s=n.endDate;return new P.x(e,"/v2/blog/".concat(t).concat(o?"/posts/".concat(o):"","/promote"),{method:a?"DELETE":"POST",body:{tags:r,end_date:s}})},getPostsByQuery:(t,n,a)=>new P.x(e,"/v2/blog/".concat(t,"/search/").concat(n),{method:"GET",queryParams:s()(s()({reblog_info:!0},(0,y.n9)(N)),{},{post_type:(0,f.Je)(null==a?void 0:a.postType),npf:!0,post_role:a?a.postRole&&a.postRole.toUpperCase():f.QL.Any.toUpperCase(),sort:a?a.postSort:f.H_.CreatedDesc})}),getPosts:t=>{var n=t.blogIdentifier,a=t.postId,o=t.extraBlogQueryParams,r=t.includePinnedPosts,i=t.queryParams,l=void 0===i?{}:i,c=t.shouldIncludeBlogSummary,d=void 0!==c&&c,u=l.beforeDate,p=l.tag,m=l.postType,h=function(e,t){if(e&&t)return new Date(Date.UTC(e,t)).getTime()/1e3-1}(null==u?void 0:u.year,null==u?void 0:u.month),g=(0,f.Je)(m);return new P.x(e,"/v2/blog/".concat(n,"/posts"),{method:"GET",queryParams:s()(s()(s()(s()(s()(s()({},(0,y.n9)([...N,...o||[],...d?[v.lM.topTagsFewer,v.lM.badge,v.lM.badgeText]:[]])),{},{npf:!0,reblog_info:!0},a&&{id:a}),r&&{include_pinned_posts:!0}),!!h&&{before:h}),!!p&&{tag:p}),!!g&&{type:g})})},getPermalink:(t,n,a)=>new P.x(e,"/v2/blog/".concat(t,"/posts/").concat(n,"/permalink"),{queryParams:s()(s()({},(0,y.xr)([v.lM.followed,v.lM.shareLikes,v.lM.shareFollowing,v.lM.canSubscribe,v.lM.subscribed,v.lM.ask,v.lM.canSubmit,v.lM.isBlockedFromPrimary,v.lM.tweet,v.lM.analyticsUrl,v.lM.primary,...a||[]])),{},{reblog_info:!0})}),postReply:(t,n,a,o,r)=>new P.x(e,"/v2/user/post/reply",{method:"POST",body:{post_id:t,reply_text:n,reblog_key:a,tumblelog:o,placement_id:r}}),subscribeToPost:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/posts/").concat(n,"/subscription"),{method:"POST"}),unsubscribeToPost:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/posts/").concat(n,"/subscription"),{method:"DELETE"}),getActivityNotifications:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.GV;return new P.x(e,"/v2/blog/".concat(t,"/notifications"),{method:"GET",queryParams:(0,x.D)(n)})},markActivityAsRead:t=>new P.x(e,"/v2/blog/".concat(t,"/activity_last_read"),{method:"POST"}),getActivityStats:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.Ej.Notes,o=arguments.length>3?arguments[3]:void 0;return new P.x(e,"/v2/blog/".concat(t,"/activity/").concat(a===m.Ej.Notes?"notes":a===m.Ej.NewFollowers?"followers/new":"followers/total","/").concat(n,"/").concat(o||""),{method:"GET",queryParams:(0,y.n9)([v.lM.name,v.lM.avatar,v.lM.title,v.lM.url,v.lM.theme,v.lM.followed])})},getFollowing:t=>new P.x(e,"/v2/user/following",{method:"GET",queryParams:s()(s()({},(0,y.n9)([v.lM.name,v.lM.avatar,v.lM.title,v.lM.url,v.lM.uuid,v.lM.descriptionNpf,v.lM.updated,v.lM.isFollowingYou,v.lM.durationBlogFollowingYou,v.lM.durationFollowingBlog])),{},{offset:t})}),getFollowers:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/followers"),{method:"GET",queryParams:s()(s()({},(0,y.n9)([v.lM.name,v.lM.avatar,v.lM.title,v.lM.url,v.lM.uuid,v.lM.descriptionNpf,v.lM.followed,v.lM.durationBlogFollowingYou,v.lM.durationFollowingBlog])),{},{offset:n})}),getQueuedPosts:t=>new P.x(e,"/v2/blog/".concat(t,"/posts/queue"),{method:"GET",queryParams:s()(s()({},(0,y.xr)([v.lM.timezoneOffset])),{},{reblog_info:!0})}),queueReorder:(t,n,a)=>new P.x(e,"/v2/blog/".concat(t,"/posts/queue/reorder"),{method:"POST",body:{post_id:n,insert_after:a}}),queueShuffle:t=>new P.x(e,"/v2/blog/".concat(t,"/posts/queue/shuffle"),{method:"POST"}),getQueueSettings:t=>new P.x(e,"/v2/blog/".concat(t,"/posts/queue/settings")),queuePost:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/post/edit"),{method:"POST",body:{id:n,state:f.hA.Queue}}),updateQueueSettings:(t,n,a,o)=>new P.x(e,"/v2/blog/".concat(t,"/posts/queue/settings"),{method:"POST",body:{post_frequency:n,start_hour:a,end_hour:o}}),getDrafts:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.before_id;return new P.x(e,"/v2/blog/".concat(t,"/posts/draft"),{method:"GET",queryParams:s()(s()({},(0,y.xr)()),{},{before_id:a,reblog_info:!0})})},getUserCounts:()=>new P.x(e,"/v2/user/counts",{method:"GET",queryParams:{[g.xd.unread]:!0,[g.xd.inbox]:!0,[g.xd.unreadMessages]:!0,[g.xd.blogNotificationCounts]:!0,[g.xd.privateGroupBlogUnreadPostCounts]:!0,[g.xd.legacyInboxUnread]:!0,[g.xd.blogPostCounts]:!0}}),getBlogPostCounts:()=>new P.x(e,"/v2/user/counts",{method:"GET",queryParams:{[g.xd.blogPostCounts]:!0}}),getAppealablePosts:t=>new P.x(e,"/v2/blog/".concat(t,"/posts/review"),{method:"GET",queryParams:s()(s()({},(0,y.xr)()),{},{reblog_info:!0})}),getBlogLimits:t=>new P.x(e,"/v2/blog/".concat(t,"/limits"),{method:"GET"}),getTags:()=>new P.x(e,"/v2/user/tags"),followTag:S(e,!0),unfollowTag:S(e,!1),isFollowingTag:t=>new P.x(e,"/v2/user/tags/following",{queryParams:{tag:t}}),getRelatedTags:t=>new P.x(e,"/v2/related/tags",{queryParams:{limit:6,"tags[]":t}}),getRelatedBlogs:t=>new P.x(e,"/v2/related/blogs",{queryParams:{tumblelog:t,format:"blog_cards",queryParams:s()(s()({},(0,y.n9)(I)),{},{reblog_info:!0})}}),getHubsHeader:t=>new P.x(e,"/v2/hubs/".concat(encodeURIComponent(t),"/header_info"),{method:"GET"}),getHubsTimeline:(t,n)=>new P.x(e,"/v2/hubs/".concat(encodeURIComponent(t),"/timeline"),{method:"GET",queryParams:s()(s()({},(0,y.n9)(I)),{},{sort:n,limit:14})}),getRadar:t=>{var n=t.debugPostId,a=void 0===n?"":n,o=t.limit,r=void 0===o?"5":o;return new P.x(e,"/v2/radar",{method:"GET",queryParams:s()(s()({},(0,y.n9)([v.lM.name,v.lM.avatar,v.lM.description,v.lM.theme,v.lM.title,v.lM.url,v.lM.uuid,v.lM.canMessage,v.lM.canBeFollowed,v.lM.isAdult])),{},{limit:r,radar_post_id:a})})},getCrushes:()=>new P.x(e,"/v2/user/crushes",{queryParams:(0,y.n9)([v.lM.avatar,v.lM.name,v.lM.url])}),likePost:t=>{var n=t.id,a=t.liked,r=t.reblogKey,s=t.placementId,i=t.earnedId,l=t.onLike,c=t.logEvent;class d extends P.x{constructor(){super(...arguments),o()(this,"fetch",((e,t)=>(l(n,!a),super.fetch((t=>(c({eventName:a?b.JE.Unlike:b.JE.Like,eventDetails:{placement_id:s,earned_id:i}}),(null==e?void 0:e(t))||t)),(e=>(l(n,a),null==t?void 0:t(e)))))))}}return new d(e,"/v2/user/".concat(a?"un":"","like"),{method:"POST",body:{id:n,placement_id:s,reblog_key:r}})},logBlogDismissal:t=>new P.x(e,"/v2/user/dismiss/recommend",{method:"POST",body:{tumblelog:t}}),changeEmailAddress:(t,n)=>new P.x(e,"/v2/account",{method:"PATCH",body:{email:t,password_current:n}}),changePassword:(t,n)=>new P.x(e,"/v2/account",{method:"PATCH",body:{password:n,password_current:t}}),getUserSettings:()=>new P.x(e,"/v2/user/settings"),updateUserSettings:t=>new P.x(e,"/v2/user/settings",{method:"POST",body:(0,w.v)(t)}),getUserSessions:()=>new P.x(e,"/v2/user/sessions"),acceptTippingTerms:()=>new P.x(e,"/v2/tipping/terms_of_service",{method:"POST"}),getTippingAmounts:()=>new P.x(e,"/v2/tipping/price_points"),generateTippingCheckoutUrl:(t,n)=>new P.x(e,"/v2/blog/".concat(t,"/tipping/checkout"),{queryParams:n,method:"GET"})}}!function(e){e.FollowedTags="/v2/user/followed_tags",e.RecommendedPosts="/v2/explore/recommended",e.RecommendedBlogs="/v2/explore/recommended/blogs",e.RecommendedTags="/v2/explore/recommended/tags",e.TrendingPosts="/v2/explore/trending",e.TrendingBlogs="/v2/explore/trending/blogs",e.StaffPicksPosts="/v2/radar/timeline",e.TrendingTags="/v2/explore/trending/tags",e.PostsByType="/v2/explore/posts/"}(u||(u={}));var A=e=>{if(401===e.status)throw new k.Z(404,"Not found",e.path,e.response);throw e}},64653:(e,t,n)=>{"use strict";n.d(t,{hY:()=>a,Vs:()=>r,m7:()=>s,Ib:()=>i,it:()=>l,D7:()=>c,KJ:()=>d,z2:()=>u,U6:()=>p,nz:()=>m,oM:()=>h,yY:()=>g,sk:()=>v});var a,o=n(19105);function r(e,t){var n=t.password,a=t.email,r=t.blogName,s={password:n};return a&&(s.email=a.trim()),r&&(s.tumblelog=r.trim()),new o.x(e,"/v2/password/strength",{body:s,method:"POST"})}function s(e,t){var n=t.email;return new o.x(e,"/v2/login/mode",{method:"POST",body:{email:n.trim(),authentication:"oauth2_cookie"}})}function i(e,t){var n=t.email,a=t.password,r=t.tfaToken,s=t.captchaToken;return new o.x(e,"/v2/oauth2/token",{method:"POST",body:{password:a,grant_type:"password",username:n.trim(),tfa_token:r,captcha_token:s}})}function l(e,t){var n=t.email;return new o.x(e,"/v2/login_link_send",{method:"POST",body:{email:n.trim(),source:"login",authentication:"oauth2_cookie"}})}function c(e){return new o.x(e,"/v2/user/name_suggest")}function d(e,t){var n=t.email,a=t.password,r=t.tumblelog;return new o.x(e,"/v2/register/account/validate",{method:"POST",body:{password:a,email:n.trim(),tumblelog:r.trim()}})}function u(e,t){var n=t.email,a=t.password,r=t.blogName,s=t.age,i=t.token,l=t.httpReferer,c=t.queryParams,d=(c=void 0===c?{}:c).redirect_to,u=c.referring_blog,p=c.follow_blog,m=c.follow_tag,h=c.referer_query,g=c.source;return new o.x(e,"/v2/icwjeroair/nrksaaknsdzc",{method:"POST",body:{password:a,age:s,token:i,email:n.trim(),tumblelog:r.trim(),http_referer:l,authentication:"oauth2_cookie",follow_blog:p,referring_blog:u,follow_tag:m,redirect_to:d,referer_query:h,source:g}})}function p(e,t){var n=t.age,a=t.tumblelog,r=t.nonce;return new o.x(e,"/v2/tauth/complete",{method:"POST",body:{age:n,tumblelog:a,nonce:r}})}function m(e,t){var n=t.idToken,a=t.nonce,r=t.password,s=t.tfaCode;return new o.x(e,"/v2/tauth/login",{method:"POST",body:{nonce:a,password:r,id_token:n,tfa_code:s}})}function h(e,t){var n=t.tumblelog,a=t.email;return new o.x(e,"/v2/user/validate",{method:"POST",body:{tumblelog:n,email:a}})}function g(e){return new o.x(e,"/v2/tauth/details",{method:"GET"})}function v(e,t){var n=t.providerId;return new o.x(e,"/v2/tauth/disconnect",{method:"POST",body:{provider_id:n}})}!function(e){e.Register="registration",e.Login="login",e.MagicLink="magic_link",e.MagicLinkSent="magic_link_sent",e.PasswordReset="password_reset"}(a||(a={}))},94875:(e,t,n)=>{"use strict";n.d(t,{YQ:()=>l,os:()=>c,O7:()=>u,w0:()=>p});var a=n(85313),o=n.n(a),r=n(3575),s=n(16439),i=n(19105);function l(e,t){var n=c(t),a=n.path,o=n.options;return new i.x(e,a,o)}function c(e){var t=e.message,n=e.queryParams,a=e.participants,r=e.isBatch,s=(e=>!!e.imageFile)(t)?function(e,t,n){var a=e.type,o=e.participant,r=e.imageFile,s={"Content-Type":"multipart/form-data"},i=new FormData;if(i.append("type",a),i.append("participant",o),i.append("data",r),n)i.append("conversations",d(t));else{var l=t[0],c=l.conversationId,u=l.participants;c?i.append("conversation_id",c.toString()):i.append("participants",u)}return{headers:s,body:i}}(t,a,r):function(e,t,n){var a=e.type,r=e.participant,s=e.context,i=e.content,l=e.attribution,c=e.stickerId,u=e.postToShare||(l&&l.post&&l.blog?{id:l.post.id,blog:l.blog.uuid,type:l.type}:void 0),p=t[0],m=p.conversationId,h=p.participants,g=n?{conversations:d(t)}:m?{conversation_id:m.toString()}:{participants:h};return{body:o()(o()({},g),{},{type:a,context:s,participant:r,stickerId:c,post:u,message:i?i.text:""}),headers:void 0}}(t,a,r),i=s.headers,l=s.body;return{path:"/v2/conversations/messages".concat(r?"/batch":""),options:{headers:i,body:l,queryParams:o()(o()({},p()),n),method:"POST"}}}var d=e=>e.map((e=>({participants:e.participants}))),u=[r.lM.avatar,r.lM.name,r.lM.secondsSinceLastActivity,r.lM.url,r.lM.uuid,r.lM.theme,r.lM.descriptionNpf,r.lM.isAdult];function p(){return(0,s.n9)(u)}},62389:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var a=n(85313),o=n.n(a),r=n(53551),s=e=>{var t=Object.values(e),n=Object.keys(e).filter(((e,n)=>t[n]&&e!==r.Ng.Tags&&e!==r.Ng.Rollups)).reduce(((e,t,n)=>(e["types[".concat(n,"]")]=t,e)),{});return o()({rollups:e[r.Ng.Rollups]},n)}},82048:(e,t,n)=>{"use strict";n.d(t,{on:()=>d,_A:()=>u,BP:()=>p,o:()=>m,op:()=>h,Rk:()=>g});var a=n(85313),o=n.n(a),r=n(3575),s=n(76155),i=n(35811),l=n(16439),c=n(19105);function d(e,t){return new c.x(e,"/v2/search/".concat(encodeURIComponent(t)),{method:"GET",queryParams:(0,l.n9)([r.lM.avatar,r.lM.name,r.lM.url,r.lM.title,r.lM.followed,r.lM.theme])})}function u(e,t){return new c.x(e,"/v2/search/".concat(encodeURIComponent(t),"/tags/typeahead"),{method:"GET",queryParams:{limit:"20"}})}function p(e,t){var n=t.searchKeyword,a=t.requestMode,d=t.resultType,u=t.postType,p=t.shouldIncludeBlogSummary,m=0,h=0;switch(d){case i.KZ.Blogs:m=10;break;case i.KZ.Posts:h=20}var g={queryParams:o()(o()({blog_limit:m,post_limit:h,query:n,mode:a,post_type_filter:(0,s.Je)(u)},(0,l.xr)([r.lM.followed,r.lM.shareFollowing,r.lM.shareLikes,r.lM.ask,r.lM.theme,...p?[r.lM.topTagsFewer,r.lM.badge,r.lM.badgeText]:[]])),{},{reblog_info:!0})};return new c.x(e,"/v2/mobile/search",g)}function m(e,t){var n=t.searchKeyword,a=t.timelineType,i=t.postType,d=t.requestMode,u=t.skipComponent,p=void 0===u?void 0:u,m=t.limit,h=void 0===m?void 0:m,g=t.days,v=void 0===g?void 0:g,b=t.reblogInfo,f=void 0===b||b;return new c.x(e,"/v2/timeline/search",{queryParams:o()({limit:h,days:v,query:n,mode:d,timeline_type:a,skip_component:p,reblog_info:f,post_type_filter:(0,s.Je)(i)},(0,l.xr)([r.lM.followed,r.lM.shareFollowing,r.lM.shareLikes,r.lM.ask,r.lM.theme]))})}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new c.x(e,"/v2/search/".concat(encodeURIComponent(t),"/tags/all"),{queryParams:n})}function g(e,t){var n={queryParams:{query:t}};return new c.x(e,"/v2/audio",n)}},88199:(e,t,n)=>{"use strict";var a,o;n.d(t,{b:()=>a,k:()=>o}),function(e){e.SPAM="spam",e.UNBLUR="unblur"}(a||(a={})),function(e){e.Fast="fast"}(o||(o={}))},16439:(e,t,n)=>{"use strict";n.d(t,{n9:()=>s,Gd:()=>i,xr:()=>l});var a=n(71281),o=n.n(a),r=n(3575);function s(e){return{"fields[blogs]":d(new Set(e)).join(",")}}var i=[r.lM.name,r.lM.avatar,r.lM.title,r.lM.url,r.lM.isAdult,r.lM.isMember,r.lM.descriptionNpf,r.lM.uuid,r.lM.canBeFollowed,r.lM.followed,r.lM.advertiserName,r.lM.theme,r.lM.primary,r.lM.isPaywallOn,r.lM.paywallAccess,r.lM.subscriptionPlan],l=e=>s([...i,...e||[]]),c=[r.lM.primary,r.lM.isMember,r.lM.followed,r.lM.followers,r.lM.admin,r.lM.drafts,r.lM.queue,r.lM.hasFlaggedPosts,r.lM.tweet,r.lM.linkedAccounts,r.lM.topTags,r.lM.canSubmit,r.lM.isBlockedFromPrimary,r.lM.timezone,r.lM.timezoneOffset,r.lM.analyticsUrl,r.lM.advertiserName,r.lM.isPremiumPartner,r.lM.isBloglessAdvertiser,r.lM.badge,r.lM.badgeText,r.lM.topTagsFewer,r.lM.topTagsAll,r.lM.isFollowingYou,r.lM.durationBlogFollowingYou,r.lM.durationFollowingBlog,r.lM.canOnboardToPaywall,r.lM.isTumblrpayOnboarded,r.lM.isPaywallOn,r.lM.paywallAccess,r.lM.subscriptionPlan,r.lM.wasPaywallOn,r.lM.isTippingOn];function d(e){return Array.from(e).map((e=>(-1!==c.indexOf(e)?"?":"")+o()(e)))}},5868:(e,t,n)=>{"use strict";var a,o;function r(e){return e.userAgent.os.name===a.MacOS}function s(e){return e.userAgent.os.name===a.IOS}function i(e){return e.userAgent.os.name===a.Android}function l(e){return e.userAgent.browser.name===o.MobileSafari}function c(e){return e.userAgent.browser.name===o.Safari}function d(e){return e.userAgent.browser.name===o.IE}function u(e){return(s(e)||i(e))&&function(e){return e.userAgent.browser.name===o.Chrome}(e)}n.d(t,{AJ:()=>c,BY:()=>d,Z7:()=>u,EK:()=>l,_V:()=>i,wQ:()=>s,HP:()=>r}),function(e){e.MacOS="Mac OS",e.IOS="iOS",e.Android="Android"}(a||(a={})),function(e){e.MobileSafari="Mobile Safari",e.Safari="Safari",e.Chrome="Chrome",e.IE="IE"}(o||(o={}))},55149:(e,t,n)=>{"use strict";function a(e,t){return e>t?"".concat(t,"+"):"".concat(e)}n.d(t,{Z:()=>a})},51742:(e,t,n)=>{"use strict";function a(e){return(Array.isArray(e)?e.filter((e=>!!e)):Object.keys(e).filter((t=>!!t&&e[t]))).join(" ")}n.d(t,{Z:()=>a})},469:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,b:()=>r});var a=n(95004),o=(0,a.createContext)({}),r=()=>(0,a.useContext)(o)},74605:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var a=(0,n(95004).createContext)({})},2540:(e,t,n)=>{"use strict";n.d(t,{Tm:()=>r,HJ:()=>s,tM:()=>i,VP:()=>l,bp:()=>c});var a=n(95004),o=n(90553),r=(0,a.createContext)({});r.displayName="AppContext";var s=e=>(0,o.X9)(e,{appContext:!0}),i=e=>(0,o.CN)(e,{appContext:!0}),l=e=>(0,o.Bg)(e,{appContext:!0}),c=()=>(0,a.useContext)(r)},36640:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var a=(0,n(95004).createContext)({});a.displayName="EditorStateContext"},76186:(e,t,n)=>{"use strict";n.d(t,{Km:()=>o,wp:()=>r});var a=n(95004),o=(0,a.createContext)({glassContainerRef:null});o.displayName="GlassContext";var r=(0,a.createContext)({numGlassOpen:0,onGlassOpen:()=>null,onGlassClose:()=>null});r.displayName="NumGlassOpenContext"},26688:(e,t,n)=>{"use strict";n.d(t,{v:()=>o,h:()=>r});var a=n(95004),o=(0,a.createContext)(void 0);o.displayName="LoginContext";var r=()=>{var e=(0,a.useContext)(o);if(void 0===e)throw new Error("LoginContext must be used within a Provider");return e}},11683:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,h:()=>r});var a=n(95004),o=(0,a.createContext)({});o.displayName="MessagingContext";var r=()=>(0,a.useContext)(o)},92156:(e,t,n)=>{"use strict";n.d(t,{x:()=>o,_:()=>r});var a=n(95004),o=(0,a.createContext)({}),r=()=>(0,a.useContext)(o)},2972:(e,t,n)=>{"use strict";n.d(t,{r:()=>r,M:()=>s});var a=n(95004),o=(0,n(14397).Z)({value:{},name:"palette context",locationName:"palette context",additionalInfo:"Wrapping the component using the context in a paletteContext.provider with valid defaults will resolve this error."}),r=(0,a.createContext)(o);r.displayName="PaletteContext";var s=()=>(0,a.useContext)(r)},61147:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,B:()=>r});var a=n(95004),o=(0,a.createContext)({});o.displayName="PollerContext";var r=()=>(0,a.useContext)(o)},76230:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>c,Mj:()=>d,uu:()=>u});var a=n(95004),o=n(52385),r=n(14397),s=n(22320),i="Wrapping the component using the context in a postContext.provider with valid defaults will resolve this error.",l={id:"",blog:(0,r.Z)({value:{name:"",url:"",avatar:[],uuid:""},name:"blog",locationName:"post context",additionalInfo:i}),blogName:"",postUrl:"",canLike:!1,canReblog:!1,canSendInMessage:!1,liked:!1,followed:!1,isNsfw:!1,noteCount:0,replyCount:0,reblogCount:0,likeCount:0,trail:[],type:"",content:[],objectType:o.TE.Post,placementId:"",reblogKey:"",isAnonymous:!1},c={post:(0,r.Z)({value:l,name:"post",locationName:"post context",additionalInfo:i}),presentationStyle:s.Z.mobile,isNarrow:!1},d=(0,a.createContext)(c);d.displayName="PostContext";var u=()=>(0,a.useContext)(d)},54596:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var a=(0,n(95004).createContext)({})},37936:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,m:()=>s});var a=n(95004),o=(0,n(14397).Z)({value:{},name:"post form context",locationName:"post form context",additionalInfo:"Wrapping the component using the context in a postFormContext.provider with valid defaults will resolve this error."}),r=(0,a.createContext)(o),s=()=>(0,a.useContext)(r)},84726:(e,t,n)=>{"use strict";n.d(t,{mu:()=>y,rV:()=>w});var a=n(85313),o=n.n(a),r=n(27884),s=n.n(r),i=n(43893),l=n.n(i),c=n(4622),d=n.n(c),u=n(37331),p=n.n(u),m=n(19195),h=n.n(m),g=n(95004),v=n(94781),b=n(36643),f=n(2540),E=(0,g.createContext)(void 0);function C(e,t){return t?Promise.all([(0,b.ZP)(e).getUserSettings().fetch(),t(e)]).then((e=>{var t=l()(e,2);return{settings:t[0].response,extraData:t[1]}})).catch(b.OO):(0,b.ZP)(e).getUserSettings().fetch((e=>({settings:e.response}))).catch(b.OO)}function y(e){var t=e.children,n=e.additionalDataFetcher,a=(0,f.bp)(),r=a.getBootstrap,i=a.apiFetch,c=(0,g.useState)(!1),u=l()(c,2),m=u[0],y=u[1],w=(0,g.useState)(null==r?void 0:r(v.Rn)),k=l()(w,2),P=k[0],S=k[1];(0,g.useEffect)((()=>{var e=function(){var e=s()(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(P).length>0)){e.next=2;break}return e.abrupt("return");case 2:return y(!0),e.t0=S,e.next=6,C(i,n);case 6:e.t1=e.sent,(0,e.t0)(e.t1),y(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var T=(e,t)=>{var n=P.extraData,a=P.settings;S({settings:o()(o()({},a),e),extraData:n});var r=p()(e,Object.keys(v.RT));!d()(r)&&(0,b.ZP)(i).updateUserSettings(r).fetch().then((()=>{t&&window.location.reload()}))},x=(e,t,n)=>{var a=P.extraData,r=P.settings;S({extraData:o()(o()({},a),e),settings:r}),!d()(e)&&(null==t||t.fetch().then((()=>{n&&window.location.reload()})))},N={settings:P.settings,extraData:P.extraData,isFetching:m,merge:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return T(e,t)},mergeExtraData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return x(e,t,n)},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T({[e]:t},n)},setExtraData:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return x({[e]:t},n,a)},toggle:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return()=>T({[e]:!P.settings[e]},t)},select:function(e){var t=e.target,n=t.id,a=t.value,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return T({[n]:a},o)},refetch:()=>{var e=function(){var e=s()(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=S,e.next=3,C(i,n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}};return g.createElement(E.Provider,{value:N},t)}function w(){var e=(0,g.useContext)(E);if(void 0===e)throw new Error("useSettings must be used within a SettingsProvider");return e}},12542:(e,t,n)=>{"use strict";n.d(t,{k:()=>o,i:()=>r});var a=n(95004),o=(0,a.createContext)({}),r=()=>(0,a.useContext)(o)},60275:(e,t,n)=>{"use strict";n.d(t,{g:()=>o,V:()=>r});var a=n(95004),o=(0,a.createContext)({});o.displayName="ToastContext";var r=()=>(0,a.useContext)(o)},90553:(e,t,n)=>{"use strict";n.d(t,{X9:()=>Z,CN:()=>L,Iy:()=>O,Bg:()=>D});var a=n(85313),o=n.n(a),r=n(95394),s=n.n(r),i=n(86057),l=n.n(i),c=n(17908),d=n.n(c),u=n(72410),p=n.n(u),m=n(95004),h=n(4777),g=n(53505),v=n(49835),b=n(38689),f=n(2540),E=n(29252),C=n(469),y=n(74605),w=n(76186),k=n(26688),P=n(11683),S=n(92156),T=n(2972),x=n(61147),N=n(76230),I=n(54596),R=n(37936),M=n(12542),A=n(60275),B=["forwardRef"];function Z(e,t){F(e);var n=_(e,t);return U(n,e.name,t),n}function L(e,t){F(e);var n=_(e,t,{withRef:!0}),a=(0,m.forwardRef)(n);return U(n,e.name,t),U(a,e.name,t),a}function O(e){var t=(0,h.EN)((t=>{var n=t.forwardRef,a=l()(t,B);return m.createElement(e,s()({},a,{ref:n}))})),n=(0,m.forwardRef)(((e,n)=>m.createElement(t,s()({forwardRef:n},e)))),a=e.displayName||e.name;return n.displayName="".concat(a,"WithRouterForwardRef"),n}function D(e,t){var n=class extends b.lb{shouldComponentUpdate(e){var t=e.match,n=e.location;return!(t&&d()(this.props.match.params,t.params)&&n&&d()(this.props.location,n))}render(){return _(e,t,{routerProps:this.props})(this.props)}};return U(n,e.name,t),n}function F(e){if((0,b.Ru)(e))throw new Error("Please wrap route components using the routeWithMultipleContexts function if you need access to appContext within them")}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(a,r)=>{var s=n.withRef&&r?{ref:r}:{},i=Object.keys(t).reduce(((e,t)=>H(e,t)),(t=>m.createElement(e,t)));return i(o()(o()(o()({},a),s),n.routerProps))}}function H(e,t){var n={appContext:f.Tm.Consumer,glassContext:w.Km.Consumer,numGlassOpenContext:w.wp.Consumer,postContext:N.Mj.Consumer,messagingContext:P.U.Consumer,toastContext:A.g.Consumer,pollerContext:x.L.Consumer,paletteContext:T.r.Consumer,postCountContext:I.e.Consumer,adContext:C.G.Consumer,adRequestContext:y.S.Consumer,postFormContext:R.c.Consumer,timelineContext:M.k.Consumer,dockableContext:g.Z.Consumer,modalRouteContext:S.x.Consumer,loginContext:k.v.Consumer,viewportContext:v.SL.Consumer}[t];return a=>m.createElement(n,null,(n=>{var r={[t]:n};return e(o()(o()({},a),r))}))}function U(e,t,n){var a=Object.keys(n).reduce(((e,t)=>n[t]?"".concat(e).concat(p()(t)):e),"");(0,E.D)(e,"".concat(t).concat(a.length?"With".concat(a):""))}},14397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(52660);function o(e){var t=e.value,n=e.name,o=e.locationName,r=e.additionalInfo,s=e.errorOnLocal,i=void 0===s?a.u.DoNotThrowError:s;return new Proxy(t,{get:(e,t)=>{var s="Tried to access property ".concat(String(t)," from the default ").concat(n).concat(o?" in ".concat(o):"",".").concat(r?" ".concat(r):"");return(0,a.Z)(s,i),Reflect.get(e,t)}})}},24916:(e,t,n)=>{"use strict";n.d(t,{Fc:()=>a,hZ:()=>o,xn:()=>r});var a=(e,t)=>{var n=e.conversationId===t.conversationId,a=e.selectedBlogName===t.selectedBlogName&&e.otherParticipantName===t.otherParticipantName;return(!e.conversationId||!t.conversationId)&&a||n&&(!e.selectedBlogName||!e.otherParticipantName)||n&&a},o=(e,t)=>t.some((t=>a(t,e)));function r(e,t){return t.filter((t=>!a(t,e)))}},32412:(e,t,n)=>{"use strict";n.d(t,{l:()=>i,v:()=>l});var a=n(81651),o=n.n(a),r=n(71281),s=n.n(r);function i(e){return c(e,o())}function l(e){return c(e,s())}function c(e,t){return e instanceof Array?e.map((e=>c(e,t))):"object"==typeof e&&null!==e?Object.keys(e).reduce(((n,a)=>{var o=t(a),r=e[a];return"object"==typeof r&&(r=c(r,t)),n[o]=r,n}),{}):e}},81390:(e,t,n)=>{"use strict";function a(e,t){return new Promise(((n,a)=>{var o=document.createElement("span");o.textContent=e,o.style.whiteSpace="pre",o.style.position="absolute",o.style.opacity="0",o.style.fontWeight="normal",o.style.color="black",o.style.backgroundColor="white";var r=t||document.body;r.appendChild(o);var s=document.createRange(),i=window.getSelection();if(i){var l;s.selectNodeContents(o),i.removeAllRanges(),i.addRange(s);try{l=document.execCommand("copy")}catch(e){l=!1}r.removeChild(o),l?n():a()}else a()}))}n.d(t,{Z:()=>a})},82951:(e,t,n)=>{"use strict";function a(e){return Number(e)?new Date(Number(e)):new Date(e.replace(/-/g,"/"))}n.d(t,{Z:()=>a})},38426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(89393);class o extends a.Z{constructor(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5?arguments[5]:void 0;super("API error at ".concat(n," (").concat(e,": ").concat(t,")")),this.status=e,this.path=n,this.response=a,this.detailedErrors=o,this.body=r}}},89393:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});class a extends Error{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e),this.name=t||this.constructor.name,this.message=e,void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},51798:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var a=n(95004);var o=n(43206),r=n(76155);function s(e){return function(e){return(e||[]).filter((e=>(0,r.dz)(e)&&!e.subtype))}(e).map(((e,t)=>{var n,r,s=(n=e.text,(r=document.implementation.createHTMLDocument("")).body.innerHTML=n,(r.body.textContent||r.body.innerText||"").trim());return a.createElement("div",{key:"".concat(s,":").concat(t)},(0,o.Q7)(s,e.formatting))}))}},84698:(e,t,n)=>{"use strict";n.d(t,{LZ:()=>u,gM:()=>p,$P:()=>v,_V:()=>b,Kt:()=>f,sO:()=>E,H4:()=>C});var a=n(27884),o=n.n(a),r=n(85313),s=n.n(r),i=n(19195),l=n.n(i),c=n(21392),d=n(93073),u="consentsuccess",p="consenterror",m=e=>{for(var t=Math.max(...Object.keys(e).map(Number),0),n="",a=1;a<=t;a+=1)n+=e[a]?"1":"0";return n},h=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n="",a=1;a<=t;a+=1)n+=e[a]?"1":"0";return n},g=(e,t)=>{var n;return!(403!==e.status||null===(n=e.detailedErrors)||void 0===n||!n.some((e=>e.code===t)))},v=e=>g(e,c.Z.RequiresGdprGuceConsent),b=e=>g(e,c.Z.ApiLoginRequiresGdprGuceConsent),f=e=>{"undefined"!=typeof __tcfapi&&__tcfapi("getTCData",2,((t,n)=>{n&&__tcfapi("getNonIABVendorConsents",2,((n,a)=>{var o=s()({},t);a&&n.gdprApplies&&n.nonIabVendorConsents&&(o["x-tumblr-nonIabVendorConsents"]=n.nonIabVendorConsents);var r=t.vendor.consents,i=t.purpose.consents,l=s()(s()({},o),{},{vendor:{consents:m(r)},purpose:{consents:h(i)}});(0,d.mL)(e,{tcData:l}).fetch().then((()=>window.dispatchEvent(new CustomEvent(u,{detail:{tcData:l}})))).catch((e=>window.dispatchEvent(new CustomEvent(p,{detail:{error:e}}))))}))}))},E=function(){var e=o()(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((e=>{if(void 0===__tcfapi)return e(!1);__tcfapi("ping",2,(t=>e("visible"===(null==t?void 0:t.displayStatus))))}));case 2:if(e.sent){e.next=4;break}void 0!==__tcfapi&&__tcfapi("showUi",2,(()=>{}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=e=>{"undefined"!=typeof __tcfapi&&__tcfapi("addEventListener",2,((t,n)=>{if(n)switch(t.eventStatus){case"useractioncomplete":f(e);break;case"cmpuishown":(0,d.sO)(e).fetch()}}))}},35216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(32412);function o(e,t,n){var o=e.href,r=e.method,s=e.bodyParams;return()=>t(o,{method:r,body:(0,a.v)(s)}).then(n)}},68674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(52660);const o=e=>{try{return e()}catch(e){return(0,a.Z)(e),""}}},16455:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var a=e=>e.resources[0]},59020:(e,t,n)=>{"use strict";function a(e,t){var n=t.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0);return e[Math.floor(n%e.length)]}n.d(t,{Y:()=>a})},17170:(e,t,n)=>{"use strict";function a(e,t){var n=e.blogs.find((e=>e.name===t));return n?n.mentionKey:void 0}n.d(t,{Z:()=>a})},80813:(e,t,n)=>{"use strict";n.d(t,{ot:()=>u,X9:()=>p,ZP:()=>m});var a=n(34534),o=n(28155),r=n(62513),s=n.n(r),i=n(94966),l=n(52660),c=e=>{var t=(null==e?void 0:e.theme)||{},n=t.titleColor,r=void 0===n?s().black:n,i=t.linkColor,l=void 0===i?s().dreamcastBlue:i,c=t.backgroundColor,d=void 0===c?s().white:c;return{"--blog-title-color":r,"--blog-link-color":l,"--blog-background-color":d,"--blog-background-hover-color":(0,a.eO)(d)?(0,a.r5)(d,.1):(0,a.tG)(d,.1),"--blog-contrasting-link-color":p({linkColor:l,backgroundColor:d}),"--blog-contrasting-title-color":(0,a.sW)(d,r),"--blog-title-color-15":(0,o.ZP)(r,.15),"--blog-link-color-15":(0,o.ZP)(l,.15)}},d=e=>{var t=(null==e?void 0:e.theme)||{},n=t.titleColor,r=void 0===n?s().black:n,l=t.linkColor,c=void 0===l?s().dreamcastBlue:l,d=t.backgroundColor,u=void 0===d?s().white:d,m=(0,a.eO)(u),h=(0,a.iu)(u,r),g=(0,a.iu)(u,c),v=(0,a.YK)(u);return{"--blog-title-color":h,"--blog-link-color":g,"--blog-background-color":u,"--blog-background-hover-color":m?(0,a.r5)(u,.1):(0,a.tG)(u,.1),"--blog-contrasting-link-color":p({linkColor:g,backgroundColor:u}),"--blog-contrasting-title-color":(0,a.sW)(u,h),"--blog-title-color-15":(0,o.ZP)(h,.15),"--blog-link-color-15":(0,o.ZP)(g,.15),"--blog-search-background-color":(0,a.S2)(u),"--blog-text-color":v,"--blog-border-color":m?"rgba(var(--black), 0.13)":"rgba(var(--white), 0.25)","--color-title":v,"--color-text":v,"--color-primary-link":g,"--color-bluespace-background":u,"--color-bluespace-card-background":u,"--border-radius-small":"".concat(i.newPeeprBorderRadius,"px")}},u=(e,t)=>{if(null==e||!e.theme)return{};var n=e.theme.backgroundColor,o=(0,a.Me)(n,t);return{"--blue":o.paletteBlue,"--red":o.paletteRed,"--green":o.paletteGreen,"--purple":o.palettePurple,"--pink":o.palettePink,"--yellow":o.paletteYellow,"--orange":o.paletteOrange,"--navy":o.paletteNavy}},p=e=>(0,a.sW)(null==e?void 0:e.backgroundColor,null==e?void 0:e.linkColor);const m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.theme||(0,l.Z)("Blog theme value not defined for blog ".concat(null==e?void 0:e.name," and blogThemeStyle is using default values!")),t?d(e):c(e)}},75124:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var a=n(76155),o=e=>{var t=e.find((e=>(0,a.RD)(e)));return t||e.find((e=>(0,a.gD)(e)))}},70970:(e,t,n)=>{"use strict";function a(e){return e.find((e=>e.primary))}function o(e,t){return t.some((t=>t.name===e))}n.d(t,{Z:()=>a,g:()=>o})},76117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(4777),o=n(78315),r=n(92530),s=n(76097),i=["/yahoo_cookie_receiver.html"],l=e=>{var t=e.split("?")[0];return i.includes(t)};const c=e=>{var t,n=void 0,i=void 0;"undefined"!=typeof window&&(n=location.pathname===(0,o.gZ)({formToShow:s.c.Register}),i=null===(t=(0,a.LX)(location.pathname,{path:o.o_.legacyFollowPage}))||void 0===t?void 0:t.params.legacyFollowPageBlogName);return(e=>{if("string"!=typeof e)return!1;try{if("/"===e.charAt(0)&&(e.length<2||"/"!==e.charAt(1)&&"\\"!==e.charAt(1))&&!l(e))return!0;var t=new URL(e);if(t.username)return!1;if(t.pathname&&l(t.pathname))return!1;if("https:"===t.protocol&&t.hostname===r.uO)return!0}catch(e){}return!1})(e)?e:i?"".concat(r.Cw,"/follow/").concat(i):n?"/getting_to_know_tumblr":o.o_.dashboard}},13467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=()=>window},28155:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r,II:()=>s,$W:()=>i});var a=n(6895),o=n.n(a);function r(e,t){var n=i(e);return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(t,")")}function s(e){var t=e.split(", ").map((e=>o()(parseInt(e,10).toString(16),2,"0")));return"#".concat(t.join(""))}function i(e){var t=function(e){var t=e.startsWith("#")?e.substr(1):e;if(3===t.length)return t.split("").map((e=>e+e)).join("");return t}(e);if(6!==t.length)throw new Error("hexToRGB function can only accept 6-character hex codes");return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}},74073:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(85313),o=n.n(a),r=n(2540),s=n(76230);const i=()=>{var e=(0,r.bp)().logEvent,t=(0,s.uu)().post,n=t.id,a=t.blogName;return(t,r)=>{e({eventName:t,eventDetails:o()(o()({},r),{},{post_id:n,blog_name:a})})}}},53046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(4777);const o=()=>new URLSearchParams((0,a.TH)().search)},24907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(92969),o=n.n(a),r=-1;class s{constructor(){o()(this,"next",(()=>(r+=1,String(r))))}}},15529:(e,t,n)=>{"use strict";n.d(t,{du:()=>d,FI:()=>u});var a=n(43893),o=n.n(a),r=n(92969),s=n.n(r),i=n(15896),l=n(62272);class c{constructor(e,t){this.rotationDegrees=e,this.isMirrored=t}}s()(c,"default",new c(0,!1)),c.default={rotationDegrees:0,isMirrored:!1};var d=e=>{var t=(e.type===l.l.Gif?i.Xt:i._Q)*i.BL;return e.size>t},u=e=>{var t=[p(e),"image/jpeg"===e.type?m(e):Promise.resolve(c.default)];return Promise.all(t).then((e=>{var t=o()(e,2),n=t[0],a=t[1];return new Promise((e=>h(n).then((t=>{var o=a.rotationDegrees,r=a.isMirrored,s=t.height,i=t.width;return e({dataUrl:n,displayHeight:s,displayWidth:i,rotationDegrees:o,isMirrored:r,isPortrait:s>i})}))))}))},p=e=>{var t=new FileReader,n=new Promise((e=>{t.onloadend=t=>{var n=t.target.result;e(n)}}));return t.readAsDataURL(e),n},m=e=>{var t=new FileReader,n=new Promise((e=>{t.onload=t=>{var n=t.target,a=new DataView(n.result);if(65496===a.getUint16(0,!1)){for(var o=a.byteLength,r=2;r<o;){if(a.getUint16(r+2,!1)<=8)return void e(c.default);var s=a.getUint16(r,!1);if(r+=2,65505===s){if(r+=2,1165519206!==a.getUint32(r,!1))return void e(c.default);r+=6;var i=18761===a.getUint16(r,!1);r+=a.getUint32(r+4,i);var l=a.getUint16(r,i);r+=2;for(var d=0;d<l;d+=1)if(274===a.getUint16(r+12*d,i)){var u=g(a.getUint16(r+12*d+8,i));return void e(u)}}else{if(65280!=(65280&s))break;r+=a.getUint16(r,!1)}}e(c.default)}else e(c.default)}}));return t.readAsArrayBuffer(e),n},h=e=>new Promise((t=>{if("data:;base64,"!==e){var n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.src=e}else t({width:1,height:2})})),g=e=>{switch(e){case 2:return{rotationDegrees:0,isMirrored:!0};case 3:return{rotationDegrees:180,isMirrored:!1};case 4:return{rotationDegrees:180,isMirrored:!0};case 5:return{rotationDegrees:90,isMirrored:!0};case 6:return{rotationDegrees:90,isMirrored:!1};case 7:return{rotationDegrees:270,isMirrored:!0};case 8:return{rotationDegrees:270,isMirrored:!1};default:return{rotationDegrees:0,isMirrored:!1}}}},35155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const a=e=>/\S+@\S+\.\S+/i.test(e);const o=e=>e.startsWith("mailto:")?new URL(e):a(e)&&!e.startsWith("mailto:")?new URL("mailto:".concat(e)):/:\/\//.test(e)?new URL(e):new URL("https://".concat(e))},10819:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var a=n(44093),o=e=>!(null==e||-1===e||e>4*a.y.Hour)},24937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=e=>{if(!e)return!1;var t;try{t=new URL(e)}catch(e){return!1}var n=t.hostname;return"safe.txmblr.com"===n||/(?:^tumblr|\.tumblr)\.(?:com|net)$/.test(n)}},58445:(e,t,n)=>{"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;var n="%[0-9a-fA-F]{2}",a=t?"(http|https):\\/\\/":"((http|https):\\/\\/)?",o='([a-zA-Z0-9$\\-_.+!*"(),;:&=]|'.concat(n,")+@"),r="(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])",s="(".concat(r,"(\\.").concat(r,"){3})"),i="a-zA-Z0-9\\-\\_\\~",l="\\u00C0-\\u9FFF",c="([".concat(i).concat(l,"]+\\.)+([a-zA-Z]{2,})"),d="[0-9]+",u="(".concat(s,"|localhost|").concat(c,")(:").concat(d,")?"),p="".concat(i).concat(l,".:\\[\\]@!$&'()*+,;="),m="([".concat(p,"]|").concat(n,")*"),h="".concat(m,"(\\/").concat(m,")*"),g="\\?([".concat(p,"/?]|").concat(n,")*"),v="\\#([".concat(p,"/?]|").concat(n,")*"),b=new RegExp("^".concat(a,"(").concat(o,")?").concat(u,"(\\/?(").concat(h,")?(").concat(g,")?(").concat(v,")?)?$"));return!0===b.test(e)}n.d(t,{Z:()=>a})},97583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=e=>Object.values(e).join("|")},40474:(e,t,n)=>{"use strict";n.d(t,{tl:()=>l,dS:()=>c});var a=n(50329),o=n.n(a),r=n(1822),s=n.n(r),i=n(46665),l=(s()(i.Rv),o()(s()(i.Rv),((e,t)=>t.toLowerCase())),e=>e.replace("_","-").toLowerCase()),c=e=>e===i.uo?"en":l(e)},21493:(e,t,n)=>{"use strict";n.d(t,{oL:()=>r,ag:()=>s,bG:()=>i});var a=n(68711),o=n(24937);function r(e,t){var n,r=a=>{var r=function(e){var t,n=e.origin,a=e.source,r=e.data;if(!(r&&n&&a))return null;if(!(0,o.Z)(n))return null;try{t=JSON.parse(r)}catch(e){return null}if(!t.method)return null;var s=t.method.match(/^([^:]+):(.+)$/);if(!s)return null;var i=s[1],l=s[2],c=t.args[0];return{origin:n,namespace:i,name:l,source:a,cid:t.cid,data:c}}(a);if(r&&r.namespace===e)return"_syn"===r.name?(n={namespace:e,source:r.source,origin:r.origin},void function(e,t,n,a){var o=JSON.stringify({method:"".concat(n,":_method_callback_responder"),args:[a]});e.postMessage(o,t)}(r.source,r.origin,e,{response:"ack",cid_response:r.cid})):void(t[r.name]&&t[r.name](r.data))};return a.ZP.on("message",r),{handler:r,getChannelInfo:()=>n}}var s={listen:r,unlisten:function(e){a.ZP.off("message",e)}};function i(e,t,n){var a=e.source,o=e.target,r=e.namespace,s=JSON.stringify({method:"".concat(r,":").concat(t),args:[n]});a.postMessage(s,o)}},96392:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var a=n(85313),o=n.n(a),r=n(2978),s=(e,t,n)=>{e({eventName:r.JE.Hyperlink,eventDetails:o()({placement_id:t},n)}),e({eventName:r.JE.Click,eventDetails:o()({placement_id:t},n)})}},19059:(e,t,n)=>{"use strict";n.d(t,{BY:()=>S,xn:()=>T,ZP:()=>x});var a=n(43893),o=n.n(a),r=n(85313),s=n.n(r),i=n(92969),l=n.n(i),c=n(22409),d=n.n(c),u=n(58173),p=n.n(u),m=n(63554),h=n.n(m),g=n(74362),v=n.n(g),b=n(85184),f=n.n(b),E=n(86103),C=n.n(E),y=n(66438),w=n(95132),k=n(2978),P=n(40946),S="WebVitals",T=e=>Math.floor(1e6*e);class x{constructor(e,t){l()(this,"events",[]),l()(this,"trackers",[]),l()(this,"totalVisibilityDurationMs",0),l()(this,"startDurationOnVisibilityMs",0),l()(this,"impressionsLogged",{}),l()(this,"PULT_PERFORMANCE_EVENTS",{Load:["fetchStart","domContentLoadedEventEnd"],DomainLookup:["domainLookupStart","domainLookupEnd"],Connect:["connectStart","connectEnd"],SecureConnect:["secureConnectionStart","connectEnd"],Request:["requestStart","responseStart"],Response:["responseStart","responseEnd"],DomInteractive:["domLoading","domInteractive"]}),l()(this,"NETWORK_PERFORMANCE_EVENTS",{NetworkPerformanceDns:["domainLookupStart","domainLookupEnd"],NetworkPerformanceConnect:["connectStart","connectEnd"],NetworkPerformanceRequest:["requestStart","responseStart"],NetworkPerformanceResponse:["responseStart","responseEnd"],NetworkPerformanceComplete:["fetchStart","responseEnd"]}),l()(this,"NETWORK_PERFORMANCE_EVENT_DETAILS",{resource_url:"name",transfer_length:"transferSize",payload_length:"decodedBodySize",content_length:"encodedBodySize",initiator_type:"initiatorType"}),l()(this,"INITIATOR_TYPE_COUNTS",{img:10,link:10,script:10,css:10}),l()(this,"onBeforeUnload",(()=>{"visible"===document.visibilityState&&(this.totalVisibilityDurationMs+=performance.now()-this.startDurationOnVisibilityMs);var e={eventName:k.JE.TimeSpentOnSite,eventDetails:{sessionDuration:performance.now(),visibilityDuration:this.totalVisibilityDurationMs}};this.logEvent(e,{sendPayloadImmediately:!0})})),l()(this,"initializeOnVisibilityChange",(()=>{window.addEventListener("visibilitychange",this.onVisibilityChange),"visible"===document.visibilityState&&(this.totalVisibilityDurationMs=performance.now(),this.startDurationOnVisibilityMs=performance.now())})),l()(this,"onVisibilityChange",(()=>{"visible"===document.visibilityState?this.startDurationOnVisibilityMs=performance.now():(this.totalVisibilityDurationMs+=performance.now()-this.startDurationOnVisibilityMs,this.startDurationOnVisibilityMs=0)})),l()(this,"logEvent",((e,t)=>{var n=this.createEvent({page:e.page,pathname:e.pathname,event_name:e.eventName,experiments:e.experiments||{},event_details:e.eventDetails||{},client_timestamp:this.getCurrentTimeInMilliseconds()});if(n.event_details.placement_id){var a=this.createEventTracker(e,n);this.trackers.push(a)}else this.events.push(n);null!=t&&t.sendPayloadImmediately&&this.sendPayload()})),l()(this,"logCustomMetric",(e=>{var t=(0,P.nU)(window.location.pathname,this.routeSet);this.events.push({__type__:"metric",metric_name:e.metricName,value:e.value,client_timestamp:this.getCurrentTimeInMilliseconds(),event_details:s()(s()({},e.eventDetails),{},{page:t})})})),l()(this,"logImpression",((e,t)=>{if(!this.wasImpressionPreviouslyLogged(e)){var n=this.createEvent({page:e.page,event_name:e.eventName,experiments:e.experiments||{},event_details:e.eventDetails||{},client_timestamp:this.getCurrentTimeInMilliseconds(),serve_id:e.serveId,placement_id:e.placementId});if(e.placementId){var a=this.createImpressionTracker(e,n);this.trackers.push(a)}else this.events.push(n);(e.displayType===y.y.Sponsored||null!=t&&t.sendPayloadImmediately)&&this.sendPayload(),this.impressionWasLoggedWithInfo(e)}})),l()(this,"logPerformanceMetric",(e=>{this.events.push(this.createPerformanceEvent(e))})),l()(this,"sendPayload",(()=>{if(!this.events.length&&!this.trackers.length)return Promise.resolve();var e=this.events;this.events=[];var t=this.trackers;this.trackers=[];var n={flushTime:this.getCurrentTimeInMilliseconds(),krakenClientDetails:this.clientDetails,krakenEvents:e,trackers:t};return"production"===w.Z.Development&&(console.groupCollapsed("Kraken Logging"),console.log("Submitting payload"),console.log(n),console.groupEnd()),this.apiFetch("/services/bblog",{baseUrl:this.krakenBaseUrl,credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:n}).catch((e=>{"production"===w.Z.Development&&console.error("Error sending Kraken metrics",e)}))})),l()(this,"wasImpressionPreviouslyLogged",(e=>{if(!e.placementId&&!e.serveId&&e.displayType!==y.y.Sponsored)return!0;var t=this.impressionsLogged[e.eventName];return t&&-1!==t.indexOf(this.getUniqueIdentifierForImpression(e))})),l()(this,"createNetworkPerformanceEvents",(e=>v()(e,(e=>{var t=this.generateRandomString();return this.createPerformanceEvents(e,"NetworkPerformance","startTime",performance.timing.fetchStart,s()(s()({},this.getNetworkPerformanceResourceEventDetails(e)),{},{network_id:t}),this.NETWORK_PERFORMANCE_EVENTS)})))),l()(this,"getNetworkPerformanceResourceEventDetails",(e=>Object.keys(this.NETWORK_PERFORMANCE_EVENT_DETAILS).reduce(((t,n)=>{var a=this.NETWORK_PERFORMANCE_EVENT_DETAILS[n],o=e[a];return void 0!==o&&(t[n]=o),t}),{}))),this.apiFetch=t,this.basePage=e.basePage,this.routeSet=e.routeSet,this.sessionId=e.sessionId,this.krakenBaseUrl=e.krakenBaseUrl,this.clientDetails=e.clientDetails,this.configRef=e.configRef,this.clientDetails.manufacturer=navigator.vendor,window.setInterval(this.sendPayload,5e3),this.initializeOnVisibilityChange(),window.addEventListener("beforeunload",this.onBeforeUnload)}sendLoadMetrics(){this.createPerformanceEvents(performance.timing,"PultWarmStart","fetchStart",0,{pult_uuid:this.sessionId},this.PULT_PERFORMANCE_EVENTS).forEach((e=>this.events.push(e))),this.sendPayload()}queueResourceMetrics(){var e=this.getResourceSamples(),t=this.createNetworkPerformanceEvents(e);0!==t.length&&t.forEach((e=>this.events.push(e)))}impressionWasLoggedWithInfo(e){this.impressionsLogged[e.eventName]||(this.impressionsLogged[e.eventName]=[]),this.impressionsLogged[e.eventName].push(this.getUniqueIdentifierForImpression(e))}createEvent(e){var t=h()(s()({},e),p());return t.client_session_id=this.sessionId,t.pathname?(t.page=(0,P.nU)(t.pathname,this.routeSet),t.event_details.pathname=t.pathname,delete t.pathname):t.page||(t.page=(0,P.nU)(window.location.pathname,this.routeSet)),t.event_details.pathname||(t.event_details.pathname=window.location.pathname),t.event_details.hostname||(t.event_details.hostname=window.location.hostname),t}createEventTracker(e,t){var n;return{pt:null===(n=e.eventDetails)||void 0===n?void 0:n.placement_id,events:[{eventString:e.eventName,timestamp:t.client_timestamp,data:s()({},e.eventDetails)}],krakenEvents:[t]}}createImpressionTracker(e,t){return{pt:e.placementId,events:[{eventString:e.eventName,timestamp:t.client_timestamp,data:{}}],krakenEvents:[t]}}createPerformanceEvent(e){var t;return this.createEvent({__type__:"performance",domain:e.domain,timer:e.timer,offset:e.offset,duration:e.duration,event_details:e.eventDetails||{},page:e.page||this.basePage,hres_ts:null!==(t=e.ts)&&void 0!==t?t:this.getCurrentTimeInNanoSeconds(),flags:this.configRef?{ref:this.configRef.flags}:void 0})}createPerformanceEvents(e,t,n,a,r,s){return Object.keys(s).flatMap((i=>{var l=o()(s[i],2),c=l[0],u=l[1],p={eventName:i,startTime:e[c],endTime:e[u]},m=e[n];if(d()(p.startTime)&&d()(p.endTime)&&d()(m)&&p.startTime>0&&p.endTime>0&&p.startTime<p.endTime){var h=T(p.endTime-p.startTime),g=T(p.startTime-m),v=T(Math.floor(a+m))+g;return this.createPerformanceEvent({domain:t,offset:g,duration:h,ts:v,eventDetails:r,timer:p.eventName})}return[]}))}getResourceSamples(){var e=window.performance.getEntriesByType("resource"),t=C()(e,"initiatorType");return Object.keys(this.INITIATOR_TYPE_COUNTS).reduce(((e,n)=>{var a=this.INITIATOR_TYPE_COUNTS[n];return e.push(...f()(t[n]||[],a)),e}),[])}getCurrentTimeInMilliseconds(){return Date.now()}getCurrentTimeInNanoSeconds(){return T(performance.timing.navigationStart+performance.now())}generateRandomString(){return Math.random().toString(16).slice(2)}getUniqueIdentifierForImpression(e){return"".concat(e.placementId,"|").concat(e.serveId)}}},80261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a={isCanceled:!0};function o(e,t){var n=!1,o=new Promise(((t,o)=>{e.then((e=>{if(n)throw a;t(e)}),(e=>{throw n?a:e})).catch((e=>e!==a&&o(e)))}));return Object.defineProperties(o,{cancel:{value:()=>{n=!0,null==t||t()},configurable:!0,enumerable:!1,writable:!0},[Symbol.toStringTag]:{configurable:!0,enumerable:!1,value:"cancelable(".concat(e[Symbol.toStringTag],")"),writable:!1}}),o}},64242:(e,t,n)=>{"use strict";n.d(t,{Fe:()=>s,XJ:()=>l,vk:()=>c,e$:()=>d,OG:()=>p});var a=n(94966),o=n.n(a),r=o().timelineMasonryPostWidth+o().timelineMasonryPostSpacing,s=[2*r,3*r,4*r],i=o().sidebarWidth+o().sidebarMargin,l=s.map((e=>e+i)),c=(e,t)=>u(e,!!t),d=e=>u(e,!0),u=(e,t)=>Math.min(2+s.length-1,Math.max(Math.floor((e-(t?i:0))/r),1)),p=(e,t)=>m(e-(t?i:0),c(e,t)-2),m=(e,t)=>t<0?e:s[t]-o().timelineMasonryPostSpacing},96724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(85313),o=n.n(a),r=n(6806),s=n.n(r),i=n(40714),l=n.n(i),c=n(80610),d=n.n(c),u=n(51235),p=n.n(u),m=n(11600),h=n.n(m);class g{constructor(e){this.imageResponse=l()(e,"width")}getSmallestImage(){return p()(this.imageResponse,(e=>!e.cropped))||s()(this.imageResponse)}getOriginalSourceClosestToWidth(e){return p()(this.imageResponse,(t=>t.width>=e))||h()(this.imageResponse)}getLargestImage(){return d()(this.imageResponse,(e=>!e.cropped))||h()(this.imageResponse)}getImagesArray(){return this.imageResponse}getImagesArrayWithoutCroppedImage(){var e=this.imageResponse.filter((e=>!e.cropped));return e.length?e:this.imageResponse}generateDisplayHeights(e){var t=this.imageResponse,n=l()(t.map((t=>o()(o()({},t),{},{displayHeight:e({width:t.width,height:t.height})}))),"width");this.imageResponse=n}}},76623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(36643);function o(e,t,n,o){return(0,a.ZP)(e).generateCheckoutUrl(t,{period:n,host:o})}},52246:(e,t,n)=>{"use strict";n.d(t,{YC:()=>l,Uk:()=>c});var a=n(85313),o=n.n(a),r=n(93715),s=n.n(r),i=n(24916),l=(e,t)=>s()(t.concat(e).sort(((e,t)=>{var n=h(e),a=h(t);return n&&a&&n<a?-1:1})),(e=>e&&(e.ts||e.pendingTs))),c=(e,t)=>{var n=o()({},e);return Object.keys(t).forEach((a=>{var r=e[a],s=t[a];n[a]=r?o()(o()(o()({},r),s),{},{conversations:d(a,r.conversations,s.conversations)}):s})),n},d=(e,t,n)=>{var a=[],o=t.map((t=>{var o=n.find(((n,o)=>{var r=t.participants.find((t=>t.uuid&&t.uuid!==e)),s=n.participants.find((t=>t.uuid&&t.uuid!==e));if(null==r||!r.uuid)return!1;if(null==s||!s.uuid)return!1;var l=(0,i.Fc)({conversationId:t.id,selectedBlogName:e,otherParticipantName:r.uuid},{conversationId:n.id,selectedBlogName:e,otherParticipantName:s.uuid});return l&&a.push(o),l}));return o?p(t,o):t}));return u(o.concat(n.filter(((e,t)=>!a.some((e=>t===e))))))},u=e=>s()(e.sort(((e,t)=>m(e)<m(t)?-1:1)),(e=>"".concat(e.participants.map((e=>e.uuid))))),p=(e,t)=>o()(o()(o()({},e),t),{},{messages:o()(o()({},t.messages),{},{data:l(e.messages.data,t.messages.data)})}),m=e=>{var t,n;return(null==e||null===(t=e.messages)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.length)&&h(e.messages.data[0])||0},h=e=>e.ts||e.pendingTs},82450:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var a=n(80100),o=n(52385),r=e=>{var t=e.timelineObject,n=void 0===t?{}:t,r=e.fillId,s=e.adPlacementConfiguration,i=void 0===s?{}:s,l=e.hydraConfigInstanceId;if((0,o.uz)(n)||(0,o.N0)(n)){var c=n.supplyRequestId,d=n.supplyOpportunityInstanceId,u=n.adProviderId,p=n.isTumblrSponsoredPost,m=n.sponsoredBadgeUrl,h=n.adProviderForeignPlacementId,g=n.adProviderPlacementId,v=n.adProviderInstanceId,b=n.mediationCandidateId,f=n.streamSessionId,E=n.streamGlobalPosition,C=n.placementId,y=n.price,w=n.creativeId,k=n.campaignId,P=n.adGroupId,S=n.adId,T=n.adRequestId,x=n.adInstanceId,N=n.adInstanceCreatedTimestamp,I=n.supplyProviderId,R=void 0===I?a.E.DASHBOARD:I,M=(new Date).getTime()-N;return{price:y,supply_opportunity_instance_id:d,supply_provider_id:R,supply_request_id:c,ad_provider_id:u,is_tumblr_sponsored_post:p||m?1:0,ad_provider_placement_id:g,ad_provider_foreign_placement_id:h,ad_provider_instance_id:v,mediation_candidate_id:b,stream_session_id:f,stream_global_position:E,placement_id:C,fill_id:r||n.fillId,hydra_config_instance_id:l,hydra_signature:i.signature,creative_id:w,ad_id:S,ad_instance_age:M,ad_request_id:T,ad_instance_id:x,ad_group_id:P,campaign_id:k}}return{}}},99625:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var a=n(76155),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.find((e=>e.type===a.Gf.Cta))}},79560:(e,t,n)=>{"use strict";n.d(t,{Wy:()=>s});var a,o=n(80100),r=n(52385);!function(e){e.TEADS_DASHBOARD_SUBSEQUENT="teadsDashboard",e.TEADS_DASHBOARD_TOP="teadsDashboardTop",e.TEADS_TEST_DASHBOARD="teadsTestHydraSource",e.TEADS_DEFAULT="teadsHydraSource",e.FLURRY_DEFAULT="flurryHydraSource",e.ONE_MOBILE_DEFAULT="oneMobileHydraSource"}(a||(a={}));var s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.E.DASHBOARD,s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=null==t?void 0:t.placements;if(!l)return"";switch(e){case r.db.Teads:return i.teadsTestPlacement?l[a.TEADS_TEST_DASHBOARD].adPlacementId:n===o.E.DASHBOARD?void 0!==s&&s<=3?l[a.TEADS_DASHBOARD_TOP].adPlacementId:l[a.TEADS_DASHBOARD_SUBSEQUENT].adPlacementId:l[a.TEADS_DEFAULT].adPlacementId;case r.db.Flurry:return l[a.FLURRY_DEFAULT].adPlacementId;case r.db.OneMobile:return l[a.ONE_MOBILE_DEFAULT].adPlacementId;default:return""}}},18553:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var a=n(96604),o=n(80100),r=(e,t,n,r,s)=>{var i=n.supplyRequestId,l=n.supplyOpportunityInstanceId,c=n.adProviderId,d=n.isTumblrSponsoredPost,u=n.sponsoredBadgeUrl,p=n.adProviderForeignPlacementId,m=n.adProviderPlacementId,h=n.adProviderInstanceId,g=n.mediationCandidateId,v=n.streamSessionId,b=n.streamGlobalPosition,f=n.placementId,E=n.price,C=n.creativeId,y=n.adId,w=n.adRequestId,k=n.adInstanceId,P=n.adInstanceCreatedTimestamp,S=(new Date).getTime()-P;e({eventName:a.ql.SupplyOpportunityFilled,eventDetails:{price:E,supply_opportunity_instance_id:l,supply_provider_id:o.E.DASHBOARD,supply_request_id:i,ad_provider_id:c,is_tumblr_sponsored_post:d||u?1:0,ad_provider_placement_id:m,ad_provider_foreign_placement_id:p,ad_provider_instance_id:h,mediation_candidate_id:g,stream_session_id:v,stream_global_position:b,placement_id:f,fill_id:s||n.fillId,hydra_config_instance_id:r,hydra_signature:null==t?void 0:t.signature,creative_id:C,ad_id:y,ad_instance_age:S,ad_request_id:w,ad_instance_id:k}})}},73854:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,p:()=>r});var a=n(11058);function o(e){return(0,a.encode)(JSON.stringify(e))}function r(e){return JSON.parse((0,a.decode)(e))}},97824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=e=>new Promise(((t,n)=>{var a=e.currentTarget;setTimeout((()=>t(a.contains(document.activeElement))),0)}))},99539:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var a=n(18485);function o(e,t,n,o){var r;window.open((0,a.Z)(e,t),o,(r=n,Object.keys(r).reduce(((e,t)=>e+"".concat(e.length?",":"").concat(t,"=").concat(r[t])),"")))}},36272:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,Q:()=>r});var a=n(23866),o=e=>e in a.Z?a.Z[e]:"",r=(e,t)=>{switch(e){case a.Z.trueBlue:return t("Palette/theme name. The default Tumblr colors.","True Blue");case a.Z.darkMode:return t("Palette/theme name. White text on black background.","Dark Mode");case a.Z.cement:return t("Palette/theme name. Black text on white background.","Cement");case a.Z.lowContrastClassic:return t("Palette/theme name. Uses white text with old Tumblr blue for post background color.","Low-Contrast Classic");case a.Z.cybernetic:return t("Palette/theme name. Green text on black background.","Cybernetic");case a.Z.canary:return t("Palette/theme name. Black text on light yellow background.","Canary");case a.Z.ghost:return t("Halloween palette/theme name. White background","Ghost");case a.Z.vampire:return t("Halloween palette/theme name. Black background, grayscale colors, with red accent","Vampire");case a.Z.pumpkin:return t("Halloween palette/theme name. Black background, orange colors","Pumpkin");case a.Z.nuclearWhite:return t("Palette/theme name. White background.","Nuclear White");case a.Z.gothRave:return t("Palette/theme name. Black background, neon colors.","Goth Rave");case a.Z.pride:return t("Palette/theme name. Pink background, pride colors.","Pride")}}},54016:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var a=n(43893),o=n.n(a),r=n(63240),s=n.n(r);function i(e){if(!e)return Object.create(null);var t=function(e){var t=e.indexOf("?");if(-1===t)return"";var n=e.indexOf("#");return-1===n&&(n=void 0),e.slice(t+1,n)}(e),n=new URLSearchParams(t);n.sort();var a,r=Object.create(null),i=s()(n.entries());try{for(i.s();!(a=i.n()).done;){var l=o()(a.value,2),c=l[0],d=l[1];r[c]=d||null}}catch(e){i.e(e)}finally{i.f()}return r}},26371:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=e=>{var t=e.postUrl;return{blog:e.blog,permalinkUrl:t}}},15718:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var a=n(52385),o=e=>{var t=e.editablePost,n=e.isReblog,o=e.isReblogWithPaywall,r=e.isInbox,s=e.isAsk,i=e.isPrefilledPost;return!!(n&&t&&(0,a.WN)(t))||(!!o||(!!s||(!!r||!!i)))}},22320:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(85313),o=n.n(a),r=n(94966);class s{constructor(e){var t=e.reblogIconSize,n=e.stacksReblogAttribution,a=e.showsDogEar,o=e.showsAvatarInline,r=e.avatarDimension,s=e.showsPostingBlogName,i=e.showsPosterAvatar,l=e.hasOutline,c=e.showsTags,d=e.showsShareButton,u=e.showsReplyButton,p=e.showsEditButton,m=e.showsDeleteButton,h=e.showsLikeButton,g=e.showsReblogButton,v=e.showsQueueButton,b=e.showsPublishButton,f=e.showsOnlyFirstMediaBlock,E=e.showsApprovedAppealBanner,C=e.showsDockMediaButton,y=e.showsMediaCompact,w=e.showsSmallImagesAtOriginalWidth,k=e.mobilePostWidth,P=void 0===k?"100vw":k,S=e.desktopPostWidth,T=void 0===S?"540px":S,x=e.maximumContentHeight,N=e.imagePostsOpenInPeepr,I=e.usesInboxAttribution,R=void 0!==I&&I,M=e.showsRecipientForInboxAttribution,A=void 0!==M&&M,B=e.showsAuthorImage,Z=void 0===B||B,L=e.showsSubmissionAttribution,O=void 0===L||L,D=e.blursImagesFromUnfollowedBlogs,F=void 0!==D&&D,_=e.showsPreviewPostLink,H=void 0===_||_;this.reblogIconSize=t,this.stacksReblogAttribution=n,this.showsDogEar=a,this.showsAvatarInline=o,this.avatarDimension=r,this.showsPostingBlogName=s,this.showsPosterAvatar=i,this.hasOutline=l,this.showsTags=c,this.showsShareButton=d,this.showsReplyButton=u,this.showsEditButton=p,this.showsDeleteButton=m,this.showsLikeButton=h,this.showsReblogButton=g,this.showsQueueButton=v,this.showsPublishButton=b,this.showsOnlyFirstMediaBlock=f,this.showsApprovedAppealBanner=E,this.showsDockMediaButton=C,this.showsMediaCompact=y,this.showsSmallImagesAtOriginalWidth=w,this.mobilePostWidth=P,this.desktopPostWidth=T,this.maximumContentHeight=x,this.imagePostsOpenInPeepr=N,this.usesInboxAttribution=R,this.showsRecipientForInboxAttribution=A,this.showsAuthorImage=Z,this.showsSubmissionAttribution=O,this.showsPreviewPostLink=H,this.blursImagesFromUnfollowedBlogs=F}}var i={reblogIconSize:{width:16,height:14},stacksReblogAttribution:!1,showsDogEar:!0,showsAvatarInline:!1,avatarDimension:r.desktopPostAvatarSize,showsPostingBlogName:!0,showsPosterAvatar:!0,hasOutline:!1,showsTags:!0,showsShareButton:!0,showsReplyButton:!0,showsEditButton:!0,showsDeleteButton:!0,showsLikeButton:!0,showsReblogButton:!0,showsQueueButton:!1,showsPublishButton:!1,showsOnlyFirstMediaBlock:!1,showsApprovedAppealBanner:!1,showsDockMediaButton:!0,showsMediaCompact:!1,showsSmallImagesAtOriginalWidth:!0,imagePostsOpenInPeepr:!1},l={reblogIconSize:{width:16,height:14},stacksReblogAttribution:!0,showsDogEar:!1,showsAvatarInline:!0,avatarDimension:38,showsPostingBlogName:!0,showsPosterAvatar:!0,hasOutline:!1,showsTags:!0,showsShareButton:!0,showsReplyButton:!0,showsEditButton:!0,showsDeleteButton:!0,showsLikeButton:!0,showsReblogButton:!0,showsQueueButton:!1,showsPublishButton:!1,showsOnlyFirstMediaBlock:!1,showsApprovedAppealBanner:!1,showsDockMediaButton:!1,showsMediaCompact:!0,showsSmallImagesAtOriginalWidth:!1,imagePostsOpenInPeepr:!1};s.desktop=new s(i),s.mobile=new s(l);var c={showsPostingBlogName:!1,showsPosterAvatar:!1,hasOutline:!0,showUncondensed:!1,showsApprovedAppealBanner:!0,showsDockMediaButton:!1};s.blogPageDesktop=new s(o()(o()({},i),c)),s.blogPageMobile=new s(o()(o()({},l),c));var d={hasOutline:!0,showsApprovedAppealBanner:!0,showsDockMediaButton:!0};s.newPeeprDesktop=new s(o()(o()({},i),d)),s.newPeeprMobile=new s(o()(o()({},l),d)),s.masonry=new s(o()(o()({},l),{},{desktopPostWidth:"300px",mobilePostWidth:void 0,maximumContentHeight:700}));var u={reblogIconSize:{width:16,height:14},stacksReblogAttribution:!0,showsDogEar:!1,showsAvatarInline:!0,showsPosterAvatar:!0,avatarDimension:r.radarAvatarSize,showsPostingBlogName:!0,hasOutline:!1,showsTags:!1,showsShareButton:!0,showsReplyButton:!1,showsEditButton:!1,showsDeleteButton:!1,showsLikeButton:!0,showsReblogButton:!0,showsQueueButton:!1,showsPublishButton:!1,showsOnlyFirstMediaBlock:!0,showsApprovedAppealBanner:!1,showsDockMediaButton:!0,showsMediaCompact:!0,showsSmallImagesAtOriginalWidth:!1,desktopPostWidth:"300px",mobilePostWidth:void 0,imagePostsOpenInPeepr:!0};s.radar=new s(u),s.radarWithTimestamp=new s(o()(o()({},u),{},{avatarDimension:r.radarAvatarWithTimestampSize}));s.iponweb=new s(o()({reblogIconSize:{width:16,height:16},stacksReblogAttribution:!1,showsDogEar:!1,showsAvatarInline:!0,showsPosterAvatar:!0,avatarDimension:r.iponWebAvatarSize,showsPostingBlogName:!0,hasOutline:!1,showsTags:!0,showsShareButton:!1,showsReplyButton:!1,showsEditButton:!1,showsDeleteButton:!1,showsLikeButton:!1,showsReblogButton:!1,showsQueueButton:!1,showsPublishButton:!1,showsOnlyFirstMediaBlock:!1,showsApprovedAppealBanner:!1,showsMediaCompact:!1,showsSmallImagesAtOriginalWidth:!1,imagePostsOpenInPeepr:!1,mobilePostWidth:"100vw",desktopPostWidth:"540px"},{showsDockMediaButton:!1,showUncondensed:!1})),s.inboxDesktop=new s(o()(o()({},i),{},{usesInboxAttribution:!0,showsRecipientForInboxAttribution:!0,showsAuthorImage:!1,showsSubmissionAttribution:!1,blursImagesFromUnfollowedBlogs:!0,showsPreviewPostLink:!1,showsShareButton:!1,showsReplyButton:!1,showsLikeButton:!1,showsQueueButton:!0,showsPublishButton:!0})),s.inboxMobile=new s(o()(o()({},l),{},{usesInboxAttribution:!0,showsRecipientForInboxAttribution:!0,showsAuthorImage:!1,showsSubmissionAttribution:!1,blursImagesFromUnfollowedBlogs:!0,showsPreviewPostLink:!1,showsShareButton:!1,showsReplyButton:!1,showsLikeButton:!1,showsQueueButton:!0,showsPublishButton:!0})),s.messagesDesktop=new s(o()(o()({},i),{},{usesInboxAttribution:!0,showsRecipientForInboxAttribution:!1,showsAuthorImage:!0,showsSubmissionAttribution:!0,blursImagesFromUnfollowedBlogs:!0})),s.messagesMobile=new s(o()(o()({},l),{},{usesInboxAttribution:!0,showsRecipientForInboxAttribution:!1,showsAuthorImage:!0,showsSubmissionAttribution:!0,blursImagesFromUnfollowedBlogs:!0})),s.videoHubDesktop=new s(o()(o()({},i),{},{hasOutline:!1,avatarDimension:r.videoHubAvatarSize,maximumContentHeight:200,showsDockMediaButton:!1,desktopPostWidth:"300px",mobilePostWidth:void 0,showsAvatarInline:!0,showsAuthorImage:!0,showsMediaCompact:!0,showsDogEar:!1,imagePostsOpenInPeepr:!0})),s.drafts=new s(o()(o()({},i),{},{showsShareButton:!1,showsReblogButton:!1,showsReplyButton:!1,showsLikeButton:!1,showsPublishButton:!0,showsQueueButton:!0})),s.queue=new s(o()(o()({},i),{},{showsShareButton:!1,showsReblogButton:!1,showsReplyButton:!1,showsLikeButton:!1,showsPublishButton:!0}))},29252:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var a=(e,t)=>{["displayName","name"].forEach((n=>{Object.defineProperty(e,n,{value:t,writable:!0})}))}},83808:(e,t,n)=>{"use strict";n.d(t,{t2:()=>o,r9:()=>r,Ly:()=>s});var a="reblogPostData",o=(e,t)=>{try{var n=localStorage.getItem(a);if(n){var o=JSON.parse(n),r=o.postId,i=o.placementId;return e!==r?(s(),t):i}return t}catch(e){return t}},r=(e,t)=>{try{localStorage.setItem(a,JSON.stringify({postId:e,placementId:t}))}catch(e){}},s=()=>{try{localStorage.removeItem(a)}catch(e){}}},93761:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var a=n(78315),o=n(90976),r=(e,t)=>{switch(t){case o.Vu.BlogFollowButton:return(0,a.lc)(e)?o.yy.ExploreBlogFollow:(0,a.C4)(e)?o.yy.HubsBlogFollow:(0,a.Uv)(e)?o.yy.SearchBlogFollow:o.yy.BlogFollow;case o.Vu.TagFollowButton:return(0,a.Uv)(e)?o.yy.SearchFollow:o.yy.HubsMainFollowButton;case o.Vu.HeaderSignUpButton:return(0,a.lc)(e)?o.yy.ExploreHeaderSignUpButton:(0,a.C4)(e)?o.yy.HubsHeaderSignUpButton:(0,a.Uv)(e)?o.yy.SearchHeaderSignUpButton:o.yy.LoginRegisterHeader}}},8:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(43893),o=n.n(a),r=n(95004);const s=e=>{var t=e.children,n=(0,r.useState)(!1),a=o()(n,2),s=a[0],i=a[1];return(0,r.useEffect)((()=>{i(!0)}),[]),r.createElement(r.Fragment,null,s?t:null)}},41618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a={};const o={set:(e,t)=>{a[e]=t},load:e=>{var t=e.reduce(((e,t)=>(a[t]&&e.push(a[t]()),e)),[]);return Promise.all(t)}}},40946:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>d,nU:()=>u});var a=n(6632),o=n.n(a),r=n(18601),s=n(38962),i=n(38689),l={},c="|";function d(e,t){return l[e]||p(e,t),l[e]?l[e].routeName:""}function u(e,t){return l[e]||p(e,t),l[e]?l[e].analyticsPageName:""}function p(e,t){var n=function(e,t){return(0,r.f)(s.ZP[t],e).map((e=>(0,i.PF)(o()(e,"route.component"))))}(e,t),a=function(e){return e.map((e=>e.name)).join("|")}(n),d=function(e){return e.map((e=>e.analyticsPageName)).join(c)}(n);a&&d&&(l[e]={routeName:a,analyticsPageName:d})}},90672:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,K:()=>o});var a=e=>{var t;return null!==(t=null==e?void 0:e.split(r).map((e=>e.replace(r,"").trim())).filter((e=>!!e)))&&void 0!==t?t:[]},o=e=>r.test(e),r=/(\r\n|\r|\n|\t|#|,)/g},67859:e=>{e.exports={postSlideOutDurationInMs:300,toastVisibleDurationInMs:4e3,errorToastVisibleDurationInMs:8e3,successToastVisibleDurationInMs:8e3,notificationBadgeTransitionDurationMs:200,conversationTransitionDurationInMs:200,minimizeConversationTransitionDurationInMs:200,minimizedConversationWiggleDurationMs:300,unreadMessagesTransitionDurationInMs:500,inputPeeprSearchTransitionDurationInMs:300,cubicBezier165:"cubic-bezier(0.165, 0.84, 0.44, 1)",popoverTransitionTimeMs:100,carouselSlideMoveTransitionTimeMs:500,drawerAnimationDurationMs:150}},57431:e=>{e.exports={borderRadiusForSmallElements:3,borderRadiusForLargeElements:6,standardBoxShadow:"0 0 15px 0 rgba(0, 0, 0, 0.5)"}},62513:e=>{e.exports={white:"#ffffff",black:"#000000",transparent:"rgba(255, 255, 255, 0)",likableRed:"#d95e40",cheezbort:"#f2992e",alwaysSunny:"#f7dd38",reblogGreen:"#56bc8a",neatBlue:"#529ecc",purpleRain:"#a77dc2",gloomyCloud:"#748089",dankSmoke:"#9da6af",tumblrBlue:"#36465d",tumblrGray:"#444444",rokrRed:"#ff4930",betamaxOrange:"#ff8a00",tivoYellow:"#e8d738",glassGreen:"#00cf35",dreamcastBlue:"#00b8ff",zunePurple:"#7c5cff",sidekickPink:"#ff62ce",segwayNavy:"#001935",tippingGreen:"#20CD40",zunePurple25:"#202a68",zunePurple40:"#453ea4",hoverboardPurple:"#5d46bf",hoverboardPurple60:"#332567",funPink:"#ff61ce",funYellow:"#e8d73a",gray65:"#595959",gray40:"#b4b4b4",gray25:"#d0d0d0",gray13:"#e7e7e7",gray7:"#f2f2f2",transparentWhite87:"rgba(255, 255, 255, 0.87)",transparentWhite65:"rgba(255, 255, 255, 0.65)",transparentWhite40:"rgba(255, 255, 255, 0.4)",transparentWhite25:"rgba(255, 255, 255, 0.25)",transparentWhite20:"rgba(255, 255, 255, 0.2)",transparentWhite13:"rgba(255, 255, 255, 0.13)",transparentWhite7:"rgba(255, 255, 255, 0.07)",transparentWhite50:"rgba(255, 255, 255, 0.5)",facebookBlue:"#3b5998",twitterBlue:"#55acee",pinterestRed:"#bd081c",darkTumblrBlue:"#24282b",transparentBlack:"rgba(0, 0, 0, 0)",transparentBlack7:"rgba(0, 0, 0, 0.07)",transparentBlack10:"rgba(0, 0, 0, 0.1)",transparentBlack15:"rgba(0, 0, 0, 0.15)",transparentBlack25:"rgba(0, 0, 0, 0.25)",transparentBlack50:"rgba(0, 0, 0, 0.5)",transparentBlack65:"rgba(0, 0, 0, 0.65)",transparentBlack75:"rgba(0, 0, 0, 0.75)",transparentBlack85:"rgba(0, 0, 0, 0.85)",follow:"#f3f8fb",accent:"#e5e7ea",menuItemHover:"RGB(var(--secondary-accent))",statusIndicator:"#21cd40",paletteRgbWhite:"var(--white)",paletteRgbBlack:"var(--black)",paletteRgbWhiteOnDark:"var(--white-on-dark)",paletteRgbRed:"var(--red)",paletteRgbOrange:"var(--orange)",paletteRgbYellow:"var(--yellow)",paletteRgbGreen:"var(--green)",paletteRgbBlue:"var(--blue)",paletteRgbPurple:"var(--purple)",paletteRgbPink:"var(--pink)",paletteRgbNavy:"var(--navy)",paletteRgbFollow:"var(--follow)",paletteRgbAccent:"var(--accent)",paletteRgbSecondaryAccent:"var(--secondary-accent)",paletteWhite:"RGB(var(--white))",paletteBlack:"RGB(var(--black))",paletteWhiteOnDark:"RGB(var(--white-on-dark))",paletteTransparentWhite87:"rgba(var(--white-on-dark), 0.87)",paletteTransparentWhite65:"rgba(var(--white-on-dark), 0.65)",paletteTransparentWhite40:"rgba(var(--white-on-dark), 0.40)",paletteTransparentWhite25:"rgba(var(--white-on-dark), 0.25)",paletteTransparentWhite13:"rgba(var(--white-on-dark), 0.13)",paletteTransparentWhite7:"rgba(var(--white-on-dark), 0.07)",paletteGray80:"rgba(var(--black), 0.80)",paletteGray65:"rgba(var(--black), 0.65)",paletteGray40:"rgba(var(--black), 0.40)",paletteGray25:"rgba(var(--black), 0.25)",paletteGray15:"rgba(var(--black), 0.15)",paletteGray13:"rgba(var(--black), 0.13)",paletteGray7:"rgba(var(--black), 0.07)",paletteGray4:"rgba(var(--black), 0.04)",paletteAccentTransparent50:"rgba(var(--accent), 0.5)",paletteAccentTransparent25:"rgba(var(--accent), 0.25)",paletteAccentTransparent15:"rgba(var(--accent), 0.15)",paletteRed:"RGB(var(--red))",paletteOrange:"RGB(var(--orange))",paletteOrange13:"rgba(var(--orange), 0.13)",paletteYellow:"RGB(var(--yellow))",paletteGreen:"RGB(var(--green))",paletteBlue:"RGB(var(--blue))",paletteBlue15:"rgba(var(--blue), 0.15)",paletteBlue25:"rgba(var(--blue), 0.25)",palettePurple:"RGB(var(--purple))",palettePink:"RGB(var(--pink))",paletteNavy:"RGB(var(--navy))",paletteFollow:"RGB(var(--follow))",paletteAccent:"RGB(var(--accent))",paletteSecondaryAccent:"RGB(var(--secondary-accent))",colorPhotoPost:"RGB(var(--red))",colorQuotePost:"RGB(var(--orange))",colorGifPost:"RGB(var(--yellow))",colorLinkPost:"RGB(var(--green))",colorChatPost:"RGB(var(--blue))",colorAudioPost:"RGB(var(--purple))",colorVideoPost:"RGB(var(--pink))",colorAskPost:"RGB(var(--black))",colorTextPostIcon:"RGB(var(--black))",colorTextPostBubble:"RGB(var(--white-on-dark))",colorTextPostFilter:"RGB(var(--black))",blogLinkColor:"var(--blog-link-color)",blogTitleColor:"var(--blog-title-color)",blogBackgroundColor:"var(--blog-background-color)",blogBackgroundHoverColor:"var(--blog-background-hover-color)",blogTextColor:"var(--blog-text-color)",blogBorderColor:"var(--blog-border-color)",blogContrastingLinkColor:"var(--blog-contrasting-link-color)",blogContrastingTitleColor:"var(--blog-contrasting-title-color)",blogTitleColor15:"var(--blog-title-color-15)",blogLinkColor15:"var(--blog-link-color-15)",blogSearchBackgroundColor:"var(--blog-search-background-color)",rokrRed15:"#ff492f26",betamaxOrange15:"#ff8a0026",glassGreen15:"#00cf3526",dreamcastBlue15:"#00b8ff26",colorTitle:"var(--color-title)",colorText:"var(--color-text)",colorSubtext:"var(--color-subtext)",colorPrimaryLink:"var(--color-primary-link)",colorBluespaceBackground:"var(--color-bluespace-background)",colorBluespaceCardBackground:"var(--color-bluespace-card-background)"}},94966:e=>{var t=17.5,n=3.14159265358979;e.exports={desktopHeaderHeightPx:54,desktopHeaderBottomBorderPx:1,desktopHeaderEffectiveHeightPx:55,desktopConversationWidthPx:280,minimizedConversationSizePx:40,lowerRightContentEdgeMarginPx:t,lowerRightContentObjectMarginPx:10,minimizedConvoRightPx:57.5,openConversationRightPx:297.5,peeprWidth:600,narrowDrawerWidth:400,layoutWidth:990,layoutContentTopMarginPx:40,mainColumnWidth:625,sidebarWidth:320,sidebarMargin:30,sidebarSeparatorWidth:1,sidebarSeparatorLeftMargin:14,sidebarSeparatorRightMargin:15,sidebarItemMargin:10,sidebarAdWidth:300,mobileHeaderHeight:44,maxDesktopHeaderWidth:1716,desktopLogoSearchHeaderWidth:518,dockedMediaMargin:10,marginBetweenPosts:20,mobileMarginBetweenPosts:10,archivePostWidth:150,narrowPostWidth:300,postWidth:540,phoneResponsiveMaxBreakpoint:540,largestPhoneLandscapeResponsiveMaxBreakpointWidth:960,largestPhoneLandscapeResponsiveMaxBreakpointHeight:600,largePhoneResponsiveMaxBreakpoint:413,smallPhoneResponsiveMaxBreakpoint:350,smallImagePostBreakpoint:300,desktopPostPadding:20,mobilePostPadding:10,postFormMobileMargin:14,blockBarMobileHeight:64,tagsEditorMinHeight:58,postFormBlogSelectorHeight:45,postButtonMobileHeight:44,secondaryPostButtonMobileHeight:40,textRowPlaceholderHeight:26,optionsAndTagsButton:24,postFormCloseButtonSize:40,postFormDesktopHeaderHeight:53,archivePostPadding:10,archivePagePadding:30,photoSpacing:4,audioPostAlbumCoverWidth:85,audioBandcampHeightPx:120,audioSpotifyHeightPx:620,audioSpotifyHeightCompactPx:80,audioSpotifyHeightPodcastPx:232,wrappedTagsLineHeight:24,wrappedTagsMargin:1,wrappedTagsDesktopHeight:97,wrappedTagsMobileHeight:73,linkCardHorizontalMargin:16,blogHeaderBarHeight:50,blogHeaderBarHeightWithBlogSummary:65,searchIconWidth:24,desktopHeaderBarIconWidth:24,mobileHeaderBarIconWidth:18,androidTopMenuBarOffsetPx:56,iOSBottomMenuBarOffsetPx:110,mobileChromeMenuBarOffsetPx:140,conversationMessageTextLineHeightPx:20,conversationLastMessageBottomMarginPx:15,peeprAvatarSize:96,desktopPostAvatarSize:64,desktopPostAvatarMargin:21,miniBlogCardAvatarSize:56,radarAvatarSize:30,radarAvatarWithTimestampSize:38,iponWebAvatarSize:38,subscriptionAvatarSize:36,videoHubAvatarSize:36,topPostImageSize:70,honeydewLineHeight:21,guavaLineHeight:24,instreamAdHeight:370,dashboardStickyPosition:69,pi:n,pullToRefreshHeightPx:30,pullToRefreshPaddingPx:2,pullToRefreshStrokePx:4,pullToRefreshCircumferencePx:36*n,timelineMasonryPostWidth:300,timelineMasonryPostSpacing:20,mobileChatPreviewCardWidth:266,desktopChatPreviewCardWidth:491,carouselItemSpacing:20,tagChicletCarouselItemWith:150,tagCardCarouselItemWidth:140,videoHubCardCarouselItemWidth:140,videoHubCardCarouselItemHeight:238,reblogAttributionAvatarSize:25,reblogAttributionAvatarWithTimestampSize:38,mobileTimelineHeaderMargin:16,tagCardImageWidth:56,tagCardImageSizeRatio:5/3,blogCardHeight:360,miniBlogCardWidth:150,miniBlogCardSpacing:8,postCardHeight:420,postFooterControlsHeight:54,postActivityTagsMargin:15,newPeeprBorderRadius:8,newPeeprButtonBorderRadius:20,newPeeprInputBorderRadius:6,newPeeprPadding:20,newPeeprToolbarHeight:40,newPeeprBodyWidth:665,newPeeprSidebarWidth:320,newPeeprDesktopLayoutWidth:1045,borderRadiusSmall:"var(--border-radius-small)"}},33836:e=>{e.exports={fontFamily:"var(--font-family)",serif:'Georgia, Times, "Times New Roman", serif',monospace:"Courier, monospace",sansSerif:'\n    "Favorit",\n    "Helvetica Neue",\n    "HelveticaNeue",\n    Helvetica,\n    Arial,\n    sans-serif\n  ',gibson:'"Gibson", $sansSerif',walsheim:'"Walsheim", $sansSerif',"franklin-gothic-medium":'"Franklin Gothic Medium", $sansSerif',"franklin-gothic-medium-condensed":'"Franklin Gothic Medium Condensed", $sansSerif',"franklin-gothic-compressed":'"Franklin Gothic Compressed", $sansSerif',quirky:'"Fairwater", $serif'}},4059:(e,t,n)=>{"use strict";n.d(t,{Mh:()=>a,yt:()=>o,qC:()=>r});n(35811);var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?encodeURIComponent(e.trim()):encodeURIComponent(e.trim()).replace(/%20/g,"+"):""},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?decodeURIComponent(e).trim():decodeURIComponent(e.replace(/\+/gi," ")).trim():""},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?e:e.replace(/\s/g,"+"):""}},33016:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var a=n(85313),o=n.n(a),r=n(4777),s=n(35811),i=n(4059);function l(e,t,n){var a=t.searchTerm,l=t.searchMode,c=t.selectedPostType,d=t.selectedTime,u=t.activeTimeline,p=arguments.length>3&&void 0!==arguments[3]&&arguments[3],m=(0,r.Gn)(e,o()(o()({searchTerm:(0,i.qC)(a,p)},l!==n.searchMode&&{searchMode:l}),c!==n.selectedPostType&&{selectedPostType:c})),h=new URLSearchParams;l!==s.f8.Recent&&d!==n.selectedTime&&h.set("t",d.toString()),u!==n.activeTimeline&&h.set("v",u);var g=h.toString();return g?"".concat(m,"?").concat(g):m}},55989:(e,t,n)=>{"use strict";function a(){try{return"undefined"!=typeof sessionStorage}catch(e){return!1}}n.d(t,{B:()=>a})},29411:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(15718);const o=e=>{var t=e.isMobile,n=e.features,o=n.redpopDesktopEditorBeta,r=n.redpopPostFormMobileCreate,s=n.redpopPostFormDevInProgress,i=n.redpopPostFormMobileReblog,l=n.redpopPostFormMobileEdit,c=n.redpopPostFormReblog,d=e.editablePost,u=e.isReblog,p=e.isReblogWithPaywall,m=e.isInbox,h=e.isAsk,g=e.isPrefilledPost;return!(0,a.h)({editablePost:d,isReblog:u,isReblogWithPaywall:p,isAsk:h,isInbox:m,isPrefilledPost:g})&&(!(null==d||!d.shouldOpenInLegacy)||(u?!(!t&&c||!t&&o||t&&i):d?!(!t&&o||t&&l):!(!t&&o||t&&r)&&!s))}},16238:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(78315),o=n(60841),r=(e,t)=>!!e[o.T.LoginWall]&&((0,a.lc)(t)||(0,a.C4)(t))},34534:(e,t,n)=>{"use strict";n.d(t,{N5:()=>c,tG:()=>p,r5:()=>m,eO:()=>h,YK:()=>g,sW:()=>v,S2:()=>b,hY:()=>E,ps:()=>C,iu:()=>y,Me:()=>w});var a=n(91377),o=n.n(a),r=n(88203),s=n.n(r),i=n(55157),l=n(62513),c=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i;function d(e,t){var n=e.lightness();return e.lightness(n+(100-n)*t)}function u(e,t){var n=e.lightness();return e.lightness(n-n*t)}var p=(e,t)=>d(s()(e),t).hex(),m=(e,t)=>u(s()(e),t).hex(),h=e=>{var t="#"===e.charAt(0)?e.substring(1,7):e,n=[parseInt(t.substring(0,2),16)/255,parseInt(t.substring(2,4),16)/255,parseInt(t.substring(4,6),16)/255].map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*n[0]+.7152*n[1]+.0722*n[2]>.179},g=e=>h(e)?"#000000":"#FFFFFF";function v(e,t,n){var a=f(t),o=f(e),r=s()(a);return n?l.white:E(o,a)?r.hex():C(o)}function b(e){var t=f(e);return s()(t).isLight()?"rgba(0, 0, 0, .13)":"rgba(255, 255, 255, .65)"}function f(e){return e?e.startsWith("#")?e:"rgb(".concat(e,")"):"#000"}function E(e,t){var n=s()(e);return s()(t).contrast(n)>=1.7}function C(e){return s()(e).isLight()?l.black:l.white}function y(e,t){var n=f(t);return E(e,n)?n:s()(e).isLight()?y(e,u(s()(n),.1).hex()):y(e,d(s()(n),.1).hex())}var w=o()((function(e,t){var n=t=>{var n=y(e,t);return s()(n).rgb().array().join(",")},a=i.zp[t];return{paletteGreen:n(a.green),paletteRed:n(a.red),paletteBlue:n(a.blue),palettePurple:n(a.purple),palettePink:n(a.pink),paletteYellow:n(a.yellow),paletteOrange:n(a.orange),paletteNavy:n(a.bg)}}),((e,t)=>"".concat(e,"|").concat(t)))},52660:(e,t,n)=>{"use strict";n.d(t,{u:()=>a,Z:()=>s});var a,o=n(95132),r=n(19228);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ThrowError,n="production"===o.Z.Development&&"production"===r.Z.Development,s="production"===o.Z.Production&&"production"===r.Z.Development,i="production"===o.Z.Production&&"production"===r.Z.Production,l=new Error(e);if(n&&t===a.ThrowError)throw l;(s||n&&t===a.DoNotThrowError)&&console.warn(e),i&&window.dispatchEvent(new ErrorEvent("error",{error:l,message:l.message}))}!function(e){e.ThrowError="throw-error",e.DoNotThrowError="do-not-throw-error"}(a||(a={}))},36078:(e,t,n)=>{"use strict";n.d(t,{sg:()=>a,OE:()=>o,ZP:()=>r});var a=e=>null==e?void 0:e.replace(/GMT([+-])(\d{2})(\d{2})/,"$1$2:$3"),o=e=>{try{var t=new Date(Date.now()),n=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-n.getTime()}catch(e){return 0}};const r=(e,t)=>{var n,a=null==e?void 0:e.replace(/GMT([+-])(\d{2})(\d{2})/,((e,t,a,o)=>{n=60*parseInt(a,10);var r=parseInt(o,10);return r>0&&(n+=r),t}));if(0===n||void 0===n)return new Date(1e3*Number(t));var o="-"===a?-1:1;return new Date(1e3*(Number(t)+o*(60*n)))}},7544:(e,t,n)=>{"use strict";n.d(t,{zc:()=>r,C5:()=>s,Kw:()=>i,aJ:()=>l,Pz:()=>c,T4:()=>d,VU:()=>u,PP:()=>p,o$:()=>m});var a=n(21308),o=n(2540);function r(e){return e.includes("refresh=true")}function s(e){return e.includes("update=true")}function i(e){return e.includes("change-plan=true")}function l(e,t){var n=Math.floor((e-t)/e*100);return"".concat(n,"%")}function c(e){var t,n=e.response,a=n.lastFour,o=n.cardNetwork,r=n.expiryMonth,s=n.expiryYear,i=n.links;return{isInvalid:(()=>{if(!a)return!0;var e=new Date,t=new Date;return t.setMonth(r),t.setDate(-1),t.setFullYear(s),e>t})(),ccNumber:a&&"•••• ".concat(a),ccType:o,ccExpiryMonth:r,ccExpiryYear:s,updateUrl:(null==i||null===(t=i.updatePaymentMethodUrl)||void 0===t?void 0:t.href)||""}}var d=(e,t,n)=>n(e/100,t),u=(e,t)=>{var n=t?e.period:e.periodAbbreviation,a=p(e);return"".concat(a,"/").concat(n)},p=e=>{var t=(0,o.bp)()._getPriceInCurrency,n=e.price,a=e.currencyCode;return d(n,a,t)},m=(e,t)=>{var n=(0,o.bp)()._getLocaleDateString,r=e[t];return r?n(new Date(1e3*r),a.Cx.Notes):""}},68711:(e,t,n)=>{"use strict";n.d(t,{ZQ:()=>l,Xx:()=>p,s2:()=>m,wh:()=>h,nK:()=>g,ZP:()=>f});var a=n(46118),o=n.n(a),r=n(95132),s=n(17304),i=n(94966),l=100,c=["scroll","resize","message"],d=["scroll","resize"],u={scroll:!0,resize:!0,message:!1};function p(e){return e<i.phoneResponsiveMaxBreakpoint?s.ZP.Smartphone:e<i.layoutWidth?s.ZP.Tablet:s.ZP.Desktop}function m(e){return e!==s.ZP.Desktop}function h(e){return m(p(e))}function g(e){return e===s.ZP.Smartphone}var v=()=>{var e=window,t=e.scrollX,n=e.scrollY,a=e.innerHeight,o=e.innerWidth;return{scrollX:t,scrollY:n,innerHeight:a,innerWidth:o,distanceFromBottom:document.body.clientHeight-window.innerHeight-window.scrollY,distanceFromTop:window.scrollY,distanceFromRight:document.body.clientWidth-window.innerWidth-window.scrollX,device:p(o)}},b={};const f={on:(e,t)=>{var n;if(-1!==c.indexOf(e)){if(!b[e]){b[e]=[];var a=t=>{var n,a=u[e]?v():t;null===(n=b[e])||void 0===n||n.forEach((e=>e(a)))},s=-1!==d.indexOf(e)?o()(a,l):a;window.addEventListener(e,s)}null===(n=b[e])||void 0===n||n.push(t)}else"production"===r.Z.Development&&console.warn('Invalid event name "'.concat(e,'" given to windowEvents.on'))},off:(e,t)=>{var n=b[e];n&&(b[e]=n.filter((e=>e!==t)))},getInfo:v,getDeviceFromWidth:p,removeAll:()=>{Object.keys(b).forEach((e=>delete b[e]))}}},66108:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/apple-touch-icon-873b11b4.png"},83621:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/favicon-bimi-9d42ff9a.svg"},42495:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/favicons/favicon-dev-a9dbdbd1.ico"},50528:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/favicon-dev-ef085fa4.svg"},96960:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/favicons/favicon-0e3d244a.ico"},17298:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/favicon-cfddd25f.svg"},6503:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/mstile-150x150-b040e390.png"},21615:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/safari-pinned-tab-ad5440dd.svg"},87678:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/icon_192-a35de8be.png"},51895:(e,t,n)=>{"use strict";e.exports=n.p+"manifest/icon_512-5fae259e.png"},36759:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/monetization/html/iab-safeframe/sf-843dd697.html"},79835:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/de-d5d0e551.svg"},87556:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/en-8c4986ee.svg"},73958:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/es-bc588dbd.svg"},18381:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/fr-fa603df2.svg"},57875:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/id-879a2fc6.svg"},74625:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/it-d71a027e.svg"},22727:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/ja-621b45d8.svg"},79005:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/ko-97efaa84.svg"},65368:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/nl-e16ed416.svg"},9615:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/pl-c537e41d.svg"},74432:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/pt_BR-7b81b64f.svg"},8312:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/pt_PT-a0224035.svg"},77235:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/ru-2ac2876e.svg"},91291:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/tr-8be97741.svg"},41757:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/zh_CN-8b95a458.svg"},66716:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/download-on-the-appstore/zh_TW-a1838441.svg"},97137:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/labs/labs-header-grey-0aa93ea7.gif"},11165:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/tipping/tip-jar-3a71528f.png"},99498:(e,t,n)=>{"use strict";e.exports=n.p+"src/assets/images/tipping/tip-jar@2x-135a4f10.png"}},e=>{var t=t=>e(e.s=t);e.O(0,[4736],(()=>(t(84929),t(40958),t(18916),t(66108),t(83621),t(42495),t(50528),t(96960),t(17298),t(6503),t(21615),t(87678),t(51895))));e.O()}]);