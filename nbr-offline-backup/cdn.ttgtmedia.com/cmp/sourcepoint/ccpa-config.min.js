!function(){this.loadScript=function(e,n){var o=document.createElement("script");o.onload=function(){n&&n()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)};var e=function(e){try{var n,o,a=decodeURIComponent(window.location.search.substring(1)).split("&");for(o=0;o<a.length;o++)if((n=a[o].split("="))[0]===e)return void 0===n[1]||n[1]}catch(e){console.log(e)}return!1}("debug_cmp"),n=location.hostname.split("."),o=n.slice(-2).join("."),a=n[1],t="-1"!=window.location.hostname.indexOf("-eng.")||"-1"!=window.location.hostname.indexOf(".eng.")?"consent-eng":"-1"!=window.location.hostname.indexOf("-qa.")||"-1"!=window.location.hostname.indexOf(".qa.")?"consent-qa":"consent";"-1"!=window.location.hostname.indexOf("-eng.")||"-1"!=window.location.hostname.indexOf(".eng.")||"-1"!=window.location.hostname.indexOf("-qa.")||window.location.hostname.indexOf(".qa.");"com.br"==o&&(o="bitpipe.com.br"),"com.au"==o&&"morewithvpro"==a&&(o=a+"."+o),function(){var e=!1,n=window,o=document;function a(e){var o="string"==typeof e.data;try{var a=o?JSON.parse(e.data):e.data;if(a.__cmpCall){var t=a.__cmpCall;n.__uspapi(t.command,t.parameter,function(n,a){var c={__cmpReturn:{returnValue:n,success:a,callId:t.callId}};e.source.postMessage(o?JSON.stringify(c):c,"*")})}}catch(a){}}!function e(){if(!n.frames.__uspapiLocator)if(o.body){var a=o.body,t=o.createElement("iframe");t.style.cssText="display:none",t.name="__uspapiLocator",a.appendChild(t)}else setTimeout(e,5)}(),"function"!=typeof __uspapi&&(n.__uspapi=function(){var n=arguments;if(__uspapi.a=__uspapi.a||[],!n.length)return __uspapi.a;"ping"===n[0]?n[2]({gdprAppliesGlobally:e,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(n))},__uspapi.msgHandler=a,n.addEventListener("message",a,!1))}();var c=document.cookie.indexOf("ccpa_cta=true");ccpa_cta_str=c.toString(),console.log("ccpa_cta: "+ccpa_cta_str),window._sp_ccpa={config:{mmsDomain:"https://"+t+"."+("-1"!=window.location.hostname.indexOf("-qa.")?"computerweekly.com":"-1"!=window.location.hostname.indexOf("-eng.")?"computerweekly.com":o),ccpaOrigin:"https://ccpa-service.sp-prod.net",accountId:"370",getDnsMsgMms:!0,alwaysDisplayDns:!1,events:{onMessageReady:function(){console.log("onMessageReady")},onMessageChoiceSelect:function(e,n){console.log("onMessageChoiceSelect choice_id: ",e),console.log("onMessageChoiceSelect choice_id: ",n);var o=new Date;o.setMonth(o.getMonth()+12),document.cookie="ccpa_cta=true;expires="+o+";domain="+window.location.hostname+";path=/",15!==n&&11!==n||(document.getElementById("cmp-banner").style.display="none")}},targetingParams:{ccpa_cta:ccpa_cta_str,type:"ccpa"}}},e&&console.log("CMP - SourcePoint enabled for message domain: "+t+"."+o),this.loadScript("https://ccpa.sp-prod.net/ccpa.js")}();